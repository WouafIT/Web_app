{"version":3,"sources":["webpack:///webpack/bootstrap 2f405164435e4376b8f5","webpack:///./index.js","webpack:///./class/singleton/slidebars.js","webpack:///external \"jQuery\"","webpack:///../libs/slidebars/0.10.3/dist/slidebars.js","webpack:///../libs/slidebars/0.10.3/dist/slidebars.css?58c7","webpack:///../libs/slidebars/0.10.3/dist/slidebars.css","webpack:////mnt/windows/Web_app/~/css-loader/lib/css-base.js","webpack:////mnt/windows/Web_app/~/style-loader/addStyles.js","webpack:///./class/singleton/i18n.js","webpack:///../libs/i18next/1.10.1/i18next-1.10.1.js","webpack:////mnt/windows/Web_app/languages/fr-fr.json","webpack:///./class/singleton/data.js","webpack:///../less/index.less?c777","webpack:///../less/index.less","webpack:///../fonts/harlequinflf-webfont.eot","webpack:///../fonts/harlequinflf-webfont.woff","webpack:///../fonts/harlequinflf-webfont.ttf","webpack:///../fonts/harlequinflf-webfont.svg","webpack:///../img/logo-75.png","webpack:///./class/singleton/map.js","webpack:///./class/clustermap.js","webpack:///../libs/figue.js","webpack:///./class/utils.js","webpack:///../libs/twitter-text.js","webpack:///./class/query.js","webpack:///./class/singleton/user.js","webpack:///./class/singleton/loader.js","webpack:///./class/singleton/toast.js","webpack:///./class/singleton/window.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,6BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,IAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,mBAAkB;AAClB,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF,EAAC,W;;;;;;;;;;;;;ACjID;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yCAAwC,OAAO;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;;;;ACrDD,yB;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA,4BAA2B;;AAE3B;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,eAAc;;AAEd,gCAA+B;AAC/B,wDAAuD;AACvD,IAAG,8CAA8C;AACjD,oEAAmE;AACnE;;AAEA,uFAAsF;;AAEtF;AACA;;AAEA;AACA,mDAAkD;;AAElD;AACA,kCAAiC;AACjC;AACA,uBAAsB;AACtB;;AAEA;AACA,mCAAkC;AAClC;AACA,wBAAuB;AACvB;;AAEA;AACA;AACA;AACA,6BAA4B;;AAE5B;AACA;AACA,0HAAyH;AACzH,iBAAgB;AAChB,uCAAsC;AACtC,2EAA0E;AAC1E,WAAU;AACV,KAAI,6FAA6F;AACjG,kBAAiB;AACjB,0CAAyC;AACzC,wEAAuE;AACvE,kCAAiC;AACjC,8CAA6C;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAwF;;AAExF;AACA,4GAA2G;AAC3G,gHAA+G;;AAE/G;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iDAAgD;AAChD,+CAA8C;AAC9C,sCAAqC;AACrC,kBAAiB;AACjB,sCAAqC;AACrC,wCAAuC;AACvC;AACA,IAAG;AACH;;AAEA;AACA;;AAEA,iBAAgB;;AAEhB;AACA,iDAAgD;AAChD,4BAA2B;AAC3B,uDAAsD;AACtD,IAAG;AACH,yBAAwB;AACxB;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,kDAAiD;AACjD,KAAI;AACJ,uBAAsB;AACtB,KAAI;AACJ,oCAAmC;AACnC;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,iEAAgE;AAChE;;AAEA,KAAI;AACJ;AACA;AACA,MAAK;AACL,2DAA0D;AAC1D,kCAAiC;AACjC,+BAA8B;AAC9B,oCAAmC;AACnC,OAAM;AACN;;AAEA,KAAI;AACJ,0DAAyD;AACzD;AACA;AACA,gDAA+C;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gGAA+F;AAC/F;AACA;AACA,KAAI,OAAO;AACX;AACA;;AAEA;AACA;AACA,8CAA6C;AAC7C,yDAAwD;AACxD;AACA,qDAAoD;AACpD,+BAA8B,mBAAmB,EAAE,QAAQ;AAC3D,MAAK,iDAAiD;AACtD,0DAAyD;AACzD;AACA,8DAA6D;AAC7D,+BAA8B,oBAAoB,EAAE,QAAQ;AAC5D;AACA;AACA;;AAEA;AACA;AACA,sCAAqC;AACrC;AACA,sCAAqC;AACrC;AACA;AACA;AACA,wCAAuC;AACvC;AACA;;AAEA,8BAA6B;AAC7B,4EAA2E;AAC3E;AACA;AACA,yCAAwC;AACxC,2DAA0D;AAC1D,kCAAiC;AACjC;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,qCAAoC;AACpC;AACA,qBAAoB;AACpB,MAAK;AACL,cAAa;AACb;AACA;AACA,uCAAsC;AACtC;AACA,sBAAqB;AACrB,MAAK;AACL,cAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,iBAAgB;AAChB,KAAI;AACJ,+BAA8B;AAC9B;AACA;AACA,KAAI;AACJ,gCAA+B;AAC/B;AACA,gCAA+B;AAC/B;AACA,sBAAqB;AACrB,qBAAoB;AACpB,OAAM;AACN;AACA;AACA,iCAAgC;AAChC;AACA,uBAAsB;AACtB,sBAAqB;AACrB,OAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4BAA2B;AAC3B,2BAA0B;AAC1B,6DAA4D;AAC5D;;AAEA;AACA;AACA,qCAAoC;AACpC,qBAAoB;AACpB,IAAG;;AAEH;AACA;AACA,qCAAoC;AACpC,sBAAqB;AACrB,IAAG;;AAEH;AACA;AACA,qCAAoC;AACpC,mBAAkB;AAClB,IAAG;;AAEH;AACA;AACA,qCAAoC;AACpC,oBAAmB;AACnB,IAAG;;AAEH;AACA;AACA,kEAAiE;AACjE,oCAAmC;AACnC,8BAA6B;AAC7B,6BAA4B;;AAE5B;AACA;AACA,2EAA0E;;AAE1E,2BAA0B;AAC1B;AACA,KAAI,OAAO;AACX,sCAAqC;AACrC,aAAY;AACZ;AACA,IAAG;;AAEH;AACA;AACA,gEAA+D;AAC/D,sCAAqC;AACrC,aAAY;AACZ;AACA,IAAG;;AAEH,IAAG;;AAEH,EAAC,c;;;;;;;;;AC1WD;;AAEA;AACA;AACA;AACA;AACA,qGAA4F;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,wkBAAukB,wHAAwH,eAAe,mCAAmC,mCAAmC,mCAAmC,GAAG,gBAAgB,gBAAgB,uBAAuB,qCAAqC,UAAU,iBAAiB,oCAAoC,UAAU,qBAAqB,iBAAiB,uBAAuB,6DAA6D,sLAAsL,qBAAqB,GAAG,uEAAuE,0MAA0M,sBAAsB,uBAAuB,eAAe,8DAA8D,0MAA0M,wMAAwM,iBAAiB,mBAAmB,GAAG,0FAA0F,kBAAkB,GAAG,iEAAiE,iBAAiB,qBAAqB,8EAA8E,WAAW,eAAe,sDAAsD,0IAA0I,gFAAgF,kCAAkC,yCAAyC,uEAAuE,cAAc,YAAY,mCAAmC,eAAe,aAAa,oCAAoC,0DAA0D,uBAAuB,+GAA+G,4BAA4B,mBAAmB,qHAAqH,uBAAuB,kBAAkB,yEAAyE,4BAA4B,sCAAsC,mEAAmE,kGAAkG,iBAAiB,KAAK,wBAAwB,iBAAiB,KAAK,wBAAwB,iBAAiB,KAAK,+BAA+B,gEAAgE,iBAAiB,KAAK,wBAAwB,iBAAiB,KAAK,wBAAwB,iBAAiB,KAAK,GAAG,+BAA+B,0DAA0D,iBAAiB,KAAK,wBAAwB,iBAAiB,KAAK,wBAAwB,iBAAiB,KAAK,GAAG,+BAA+B,2DAA2D,iBAAiB,KAAK,wBAAwB,iBAAiB,KAAK,wBAAwB,iBAAiB,KAAK,GAAG,+BAA+B,0DAA0D,iBAAiB,KAAK,wBAAwB,iBAAiB,KAAK,wBAAwB,iBAAiB,KAAK,GAAG,gCAAgC,gEAAgE,iBAAiB,KAAK,wBAAwB,gBAAgB,KAAK,wBAAwB,iBAAiB,KAAK,GAAG,0GAA0G,wCAAwC,wCAAwC,wCAAwC,wCAAwC,yDAAyD,qDAAqD,qDAAqD,qDAAqD,oEAAoE,gFAAgF,2IAA2I,wEAAwE,mBAAmB,gGAAgG;;AAEtsL;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;AC1NA;AACA;AACA;AACA;AACA;AACA,gBAAe,YAAY,MAAM,6EAAoE,EAAE,EAAE;;AAEzG;AACA;AACA,EAAC,I;;;;;;;;;ACTD;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uDAAsD,SAAS;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0BAAyB;AACzB,sBAAqB;AACrB;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;;AAET;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,4BAA2B;AAC3B;AACA,kBAAiB;AACjB;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAmC;AACnC;AACA;;AAEA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB,qEAAoE,mDAAmD;AACvH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA,sBAAqB;AACrB,kB;AACA;AACA,UAAS;;AAET;AACA,6DAA4D,mBAAmB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,sBAAqB;AACrB;AACA;AACA;;AAEA,mCAAkC;AAClC,kBAAiB;AACjB;AACA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;AACA;;AAEA;;AAEA;AACA,gCAA+B,0BAA0B;AACzD,gCAA+B,6DAA6D,gCAAgC,EAAE;AAC9H;AACA,cAAa;AACb,4BAA2B,gDAAgD,mBAAmB,EAAE;AAChG,cAAa;AACb,iDAAgD,OAAO;AACvD,gCAA+B,oDAAoD,uBAAuB,EAAE;AAC5G;AACA;;AAEA,+CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,kBAAiB;AACjB;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mCAAkC,6BAA6B;AAC/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,wBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,wBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAmB;AACnB,mBAAkB;AAClB,mBAAkB;AAClB,qBAAoB;AACpB,oBAAmB;AACnB,qBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA0B,iBAAiB;AAC3C;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2BAA0B,sBAAsB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oEAAmE;AACnE,cAAa;;AAEb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA6B;;AAE7B;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;;AAEA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA,mDAAkD;AAClD,wDAAuD;AACvD,UAAS;;AAET;AACA;AACA,8CAA6C;AAC7C,yBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA,uDAAsD;AACtD,+BAA8B,aAAa,EAAE;AAC7C;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;;AAEA,4BAA2B,wBAAwB;AACnD;AACA;AACA;AACA,UAAS;AACT;AACA,4CAA2C,EAAE;AAC7C,UAAS;AACT;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAwB;;AAExB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAoB;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,wEAAuE;AACvE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA6C,OAAO;AACpD;AACA,+CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA0B;AAC1B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,uCAAuC;AACxD;;AAEA;AACA;AACA;AACA,8CAA6C,OAAO;AACpD;AACA,+CAA8C,SAAS;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAiD,UAAU;AAC3D;AACA;AACA;AACA,0DAAyD,UAAU;AACnE;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA,sBAAqB;AACrB,kBAAiB;AACjB,cAAa;AACb,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA,sEAAqE,2BAA2B;AAChG;AACA,cAAa;AACb,sEAAqE,2BAA2B;AAChG;AACA,cAAa;AACb,sEAAqE,2BAA2B;AAChG;AACA,cAAa;AACb,sEAAqE,2BAA2B;AAChG;AACA,cAAa;AACb;AACA,sEAAqE,mCAAmC;AACxG;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,sEAAqE,+BAA+B;AACpG;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA8B;AAC9B,wCAAuC;;AAEvC;AACA;AACA,kBAAiB;;AAEjB,cAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2C;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,+BAA8B;AAC9B;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,+BAA8B;AAC9B,wCAAuC;;AAEvC,wBAAuB,gBAAgB;AACvC;AACA;;AAEA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA6C;AAC7C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA,8BAA6B;AAC7B,+BAA8B;;AAE9B,+BAA8B;AAC9B;;AAEA;AACA;AACA,uDAAsD,OAAO,EAAE;AAC/D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA,kCAAiC;AACjC;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,4BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAwB,iBAAiB,EAAE;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA4C;AAC5C;AACA;;AAEA;;AAEA;AACA;AACA,sDAAqD,2BAA2B,EAAE;AAClF,cAAa;AACb;;AAEA;AACA,4CAA2C,iBAAiB;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB,0DAAyD;AACzD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,EAAE;AACnB,cAAa;AACb;AACA;AACA;AACA,8CAA6C,cAAc;AAC3D;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA,kDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA0C,SAAS;AACnD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,sBAAqB;AACrB,+EAA8E;AAC9E;AACA;AACA,0BAAyB;AACzB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,4DAA2D,UAAU;AACrE;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA,6CAA4C;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAsC,gBAAgB;AACtD,8BAA6B,6BAA6B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAAyB,wBAAwB;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAwB,sBAAsB;AAC9C,yBAAwB,uBAAuB;AAC/C,yBAAwB,UAAU;AAClC,yBAAwB,iGAAiG;AACzH,yBAAwB,gGAAgG;AACxH,yBAAwB,oDAAoD;AAC5E,yBAAwB,iFAAiF;AACzG,yBAAwB,sEAAsE;AAC9F,yBAAwB,uBAAuB;AAC/C,0BAAyB,8DAA8D;AACvF,0BAAyB,sFAAsF;AAC/G,0BAAyB,qCAAqC;AAC9D,0BAAyB,wBAAwB;AACjD,0BAAyB,2DAA2D;AACpF,0BAAyB,sFAAsF;AAC/G,0BAAyB,2DAA2D;AACpF,0BAAyB,wCAAwC;AACjE,0BAAyB,qCAAqC;AAC9D,0BAAyB,iGAAiG;AAC1H,0BAAyB,wEAAwE;AACjG,0BAAyB,0EAA0E;AACnG;;AAEA;;AAEA;AACA;AACA,kCAAiC,MAAM;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA,yD;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA,6D;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;;AAEA;AACA;AACA,4C;AACA,yCAAwC;AACxC,0BAAyB;AACzB,wCAAuC;AACvC;AACA,sBAAqB;AACrB;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,gBAAgB,gCAAgC;AACjF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA,2CAA0C;AAC1C,oCAAmC;AACnC;AACA,oCAAmC,qBAAqB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC;AACxC;AACA;AACA,2BAA0B;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA,yDAAwD;AACxD,kEAAiE;AACjE,2DAA0D;AAC1D,sGAAqG;AACrG,wGAAuG;AACvG,yDAAwD;AACxD,8GAA6G;AAC7G,uDAAsD;AACtD,0DAAyD;AACzD,wEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC,6B;;;;;;;;;AC3uED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;;;;ACdD;;AAEA;AACA;AACA;AACA;AACA,4FAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,0CAAyC,mBAAmB,GAAG,uFAAuF,mBAAmB,GAAG,gBAAgB,8BAA8B,0BAA0B,GAAG,4CAA4C,8BAA8B,0BAA0B,GAAG,uBAAuB,0BAA0B,GAAG,6BAA6B,qEAAqE,iBAAiB,KAAK,GAAG,6BAA6B,+DAA+D,mBAAmB,KAAK,GAAG,6BAA6B,gEAAgE,mBAAmB,KAAK,GAAG,6BAA6B,+DAA+D,mBAAmB,KAAK,GAAG,8BAA8B,qEAAqE,mBAAmB,KAAK,GAAG,yBAAyB,QAAQ,eAAe,gBAAgB,iBAAiB,sBAAsB,KAAK,SAAS,iBAAiB,kBAAkB,4BAA4B,iBAAiB,KAAK,UAAU,iBAAiB,kBAAkB,4BAA4B,iBAAiB,KAAK,GAAG,mBAAmB,qBAAqB,uBAAuB,iBAAiB,kBAAkB,GAAG,uBAAuB,uBAAuB,aAAa,cAAc,cAAc,aAAa,cAAc,eAAe,uBAAuB,uBAAuB,wBAAwB,+CAA+C,GAAG,sCAAsC,0BAA0B,GAAG,sCAAsC,0BAA0B,wBAAwB,GAAG,cAAc,yCAAyC,uFAAmE,saAAsV,uBAAuB,qBAAqB,GAAG,eAAe,wBAAwB,GAAG,eAAe,iBAAiB,cAAc,eAAe,8BAA8B,GAAG,mBAAmB,iBAAiB,GAAG,SAAS,uBAAuB,aAAa,cAAc,iBAAiB,+CAA+C,mBAAmB,8BAA8B,yBAAyB,oBAAoB,GAAG,UAAU,uBAAuB,oBAAoB,gBAAgB,aAAa,mBAAmB,kBAAkB,GAAG,gBAAgB,8BAA8B,gCAAgC,yBAAyB,uBAAuB,mBAAmB,oBAAoB,GAAG,oBAAoB,qBAAqB,GAAG,8BAA8B,8BAA8B,mBAAmB,GAAG,WAAW,uBAAuB,kBAAkB,iBAAiB,gBAAgB,2BAA2B,kBAAkB,GAAG,gBAAgB,8BAA8B,0CAA0C,GAAG,6BAA6B,mBAAmB,GAAG,uBAAuB,mBAAmB,8BAA8B,0BAA0B,qCAAqC,GAAG,+BAA+B,uCAAuC,8BAA8B,sBAAsB,kGAA8E,4BAA4B,yBAAyB,qBAAqB,sBAAsB,GAAG,2BAA2B,uBAAuB,kBAAkB,eAAe,GAAG,iEAAiE,mBAAmB,GAAG,uOAAuO,mBAAmB,GAAG,qCAAqC,eAAe,GAAG,uBAAuB,oBAAoB,cAAc,gBAAgB,8BAA8B,mBAAmB,GAAG,6BAA6B,0DAA0D,kBAAkB,KAAK,GAAG,6BAA6B,oDAAoD,mBAAmB,KAAK,GAAG,6BAA6B,sCAAsC,6BAA6B,qCAAqC,8BAA8B,2CAA2C;;AAEpxJ;;;;;;;;;;ACPA,mF;;;;;;;;;ACAA,oF;;;;;;;;;ACAA,mF;;;;;;;;;ACAA,mF;;;;;;;;;ACAA,kCAAiC,wwH;;;;;;;;;ACAjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA0B,uBAAuB;AACjD,KAAI;AACJ;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;;;;AC1FD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAuD,QAAQ;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD,QAAQ;AACzD;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,6CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,EAAE;AACT,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,EAAE;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAC;;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA4B;AAC5B;;AAEA;;;;;;;;;;;ACrPA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA,G;;AAEA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA,G;;;AAGA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAAyC,QAAQ;AACjD;AACA,uB;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qE;AACA,sCAAqC,QAAQ;AAC7C;AACA;AACA;;AAEA;AACA,qE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,gGAA+F;AAC/F;AACA;AACA,gGAA+F;AAC/F;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,YAAY;AAChC;AACA;AACA;;AAEA;AACA,2EAA0E,QAAQ;AAClF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wD;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,QAAQ;AACtB;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;;AAEA;AACA,eAAc,UAAU;AACxB;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,QAAQ;AACvB;;AAEA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,QAAQ;AAC3B;;AAEA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA,qBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,QAAQ;AAC3B;;AAEA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA,+E;AACA;;AAEA,oBAAmB,QAAQ;AAC3B;AACA,K;;AAEA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA,qB;AACA,a;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAU,qDAAqD;;AAE/D;;AAEA;AACA;AACA;AACA;AACA,+B;;AAEA,mBAAkB,WAAW;AAC7B;AACA;AACA,oBAAmB,WAAW;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;;;AAIA,U;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4B;AACA;;AAEA;;;;;;;;;;;;;;AC5cA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,oBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,gBAAe,mBAAmB;AAClC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wCAAuC,OAAO;AAC9C,mF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8FAA6F;AAC7F;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAU,YAAY;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA;AACA,kFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;;;;AChTA;AACA,aAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAe;AACf,eAAc;AACd,eAAc;AACd,iBAAgB;AAChB,gBAAe;AACf;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA,4BAA2B,OAAO;AAClC;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD;AACpD,uDAAsD;;AAEtD;AACA;AACA;AACA;AACA;AACA,sDAAqD;;AAErD;AACA;AACA;AACA,uDAAsD,cAAc,EAAE;;AAEtE;AACA;AACA,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D;AACA,6DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA,6DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA4D;AAC5D,6DAA4D;AAC5D;AACA;AACA,6DAA4D;AAC5D;AACA;AACA;AACA;AACA,6DAA4D;AAC5D;AACA,6DAA4D;AAC5D;AACA;AACA;AACA;AACA,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D;AACA,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;AAC5D;AACA,iEAAgE;AAChE,+DAA8D;AAC9D,+DAA8D;AAC9D,+DAA8D;AAC9D,6DAA4D;AAC5D,6DAA4D;AAC5D,6DAA4D;;AAE5D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0DAAyD,iBAAiB,EAAE,qBAAqB;AACjG,oEAAmE,iBAAiB,EAAE,qBAAqB;AAC3G,4DAA2D,UAAU;AACrE,yEAAwE,iBAAiB,EAAE,qBAAqB;AAChH,sDAAqD,gBAAgB,IAAI,UAAU,IAAI,oBAAoB,GAAG,aAAa,EAAE,oBAAoB;;AAEjJ;AACA;AACA;AACA;AACA,SAAQ,2BAA2B;AACnC,SAAQ,QAAQ;AAChB,oBAAmB,KAAK;AACxB,gCAA+B,KAAK;AACpC;AACA,uDAAsD,OAAO,IAAI,QAAQ,cAAc,KAAK;AAC5F,4DAA2D,QAAQ,IAAI,iBAAiB;;AAExF;AACA,kFAAiF,oBAAoB;AACrG;AACA,4DAA2D,MAAM,EAAE,aAAa,EAAE,oBAAoB;AACtG,2DAA0D,mBAAmB;AAC7E,6DAA4D,iBAAiB,UAAU,iBAAiB,MAAM,iBAAiB;AAC/H,8DAA6D,iBAAiB,OAAO,iBAAiB,MAAM,iBAAiB;AAC7H;AACA;AACA;AACA,uDAAsD,eAAe,GAAG,gBAAgB,KAAK,UAAU,GAAG,WAAW,GAAG,cAAc;AACtI,sEAAqE,iBAAiB,YAAY,UAAU,GAAG,WAAW,GAAG,cAAc;AAC3I,4DAA2D,gBAAgB,EAAE,WAAW;;AAExF;;AAEA,2EAA0E,yBAAyB,iBAAiB;AACpH;AACA;AACA;AACA,iEAAgE,yBAAyB;AACzF;AACA;AACA,gFAA+E,iBAAiB,OAAO,uBAAuB;AAC9H;AACA;AACA;AACA,UAAS,yBAAyB;AAClC,eAAc,uBAAuB,EAAE,yBAAyB;AAChE,YAAW,wBAAwB;AACnC,gBAAe,yBAAyB;AACxC;;AAEA,4DAA2D;AAC3D;AACA;AACA;AACA,WAAU,uBAAuB;AACjC;AACA;AACA,aAAY,YAAY;AACxB,iBAAgB,gBAAgB;AAChC,gBAAe,aAAa;AAC5B,gBAAe,mBAAmB,GAAG,yBAAyB;AAC9D;AACA;AACA;;AAEA;;AAEA;AACA,sCAAqC,IAAI,aAAa,IAAI;AAC1D,wDAAuD,OAAO,SAAS,QAAQ,aAAa,MAAM;;AAElG;AACA;AACA,2DAA0D,EAAE;AAC5D,wDAAuD;AACvD;AACA,QAAO,sBAAsB;AAC7B,QAAO,sBAAsB;AAC7B,QAAO,qBAAqB;AAC5B;AACA;;AAEA;AACA;AACA,QAAO,sBAAsB;AAC7B,QAAO,sBAAsB;AAC7B,QAAO,qBAAqB;AAC5B;AACA;;AAEA,8EAA6E,EAAE;AAC/E,2DAA0D,oBAAoB,OAAO,oBAAoB,EAAE,EAAE;;AAE7G;AACA;;AAEA;AACA;AACA,QAAO,gBAAgB;AACvB,QAAO,gBAAgB;AACvB;;AAEA;AACA;AACA;AACA;AACA,gEAA+D,6BAA6B,SAAS,0BAA0B,KAAK,qBAAqB;;AAEzJ;AACA,QAAO,cAAc;AACrB,QAAO,kBAAkB;AACzB;;AAEA;AACA;AACA;AACA;AACA,uEAAsE,mCAAmC,SAAS,gCAAgC,KAAK,4BAA4B;;AAEnL;AACA,QAAO,cAAc;AACrB,QAAO,yBAAyB;AAChC;;AAEA,8CAA6C,IAAI;;AAEjD;AACA,YAAW,oBAAoB;AAC/B,SAAQ,uBAAuB;AAC/B,aAAY,gBAAgB;AAC5B;;AAEA;AACA,YAAW,oBAAoB;AAC/B,SAAQ,gBAAgB;AACxB,aAAY,gBAAgB;AAC5B;;AAEA,2DAA0D,iBAAiB;AAC3E,0DAAyD,iBAAiB;AAC1E,6DAA4D,iBAAiB;;AAE7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,KAAK,GAAG,KAAK;AAC5C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA6C;AAC7C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC,2BAA0B;AAC1B;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA,2DAA0D,kBAAkB,QAAQ,UAAU,OAAO,sBAAsB,UAAU,GAAG,iBAAiB,sCAAsC,uBAAuB,eAAe,UAAU,GAAG,gBAAgB,0CAA0C,UAAU,OAAO,SAAS,kBAAkB;AACxV;AACA;AACA;;AAEA;AACA,kCAAiC;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAuF,aAAa;;AAEpG;AACA;AACA;AACA;AACA,mDAAkD,SAAS;AAC3D;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAgC,oCAAoC,EAAE;;AAEtE,oBAAmB,qBAAqB;AACxC;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gEAA+D,iCAAiC;AAChG;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4DAA2D,iCAAiC;AAC5F;AACA;;AAEA;AACA,iCAAgC,oCAAoC,EAAE;;AAEtE;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yEAAwE,uBAAuB;AAC/F;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,mCAAmC;AACtD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,4BAA4B;AAC/C;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,gCAAgC;AACnD;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAmB,gCAAgC;AACnD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAgC,oCAAoC,EAAE;AACtE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA,QAAO;AACP;AACA,wBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAe,iBAAiB;AAChC,kBAAiB,oBAAoB;AACrC;AACA;AACA;;AAEA,oBAAmB,yBAAyB;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mCAAkC,uBAAuB;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,4BAA4B;AAC/C;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAmB,+BAA+B;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,yCAAwC,mBAAmB;;AAE3D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAC;;;;;;;;;;AC/vCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,8DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,EAAE;AACrB;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAoE;AACpE;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAiG;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAM;AACN;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sGAAqG,yBAAyB;AAC9H;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA,iEAAgE,QAAQ;AACxE;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,0BAAyB,6BAA6B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,oDAAoD;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,oDAAoD;AAC7E,UAAS;AACT,0BAAyB,4DAA4D,EAAE;AACvF;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,E;;;;;;;;;AChhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;;;;ACdD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;;;;ACXD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,EAAC,I","file":"./js/build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2f405164435e4376b8f5\n **/","(function($) {\r\n\t//Slidebars\r\n\tvar slidebars = require('./class/singleton/slidebars.js');\r\n\t//Load CSS\r\n\trequire(\"../less/index.less\");\r\n\t//i18n\r\n\tvar i18n = require('./class/singleton/i18n.js');\r\n\t//Map\r\n\tvar map = require('./class/singleton/map.js');\r\n\t//User\r\n\tvar user = require('./class/singleton/user.js');\r\n\t//user.set('uid', 'toto');\r\n\t//user.set('token', 'test');\r\n\t//Data\r\n\tvar data = require('./class/singleton/data.js');\r\n\t//data.set('foo', 'bar');\r\n\r\n\t//Toast\r\n\tvar toast = require('./class/singleton/toast.js');\r\n\r\n\t//Query\r\n\tvar query = require('./class/query.js')();\r\n\r\n\tvar $document = $(document);\r\n\t$document.ready(function() {\r\n\t\t//logout event : reset all user infos\r\n\t\t$document.on('app.logout', function() {\r\n\t\t\tuser.set('uid', null);\r\n\t\t\tuser.set('token', null);\r\n\t\t\tuser.set('favorites', null);\r\n\t\t\tuser.set('today_publications', 0);\r\n\t\t\t/*if (Ti.Facebook.loggedIn) {\r\n\t\t\t\t//disconnect facebook login in case of error\r\n\t\t\t\tTi.Facebook.logout();\r\n\t\t\t}*/\r\n\t\t});\r\n\r\n\t\t$document.on('app.start', function() {\r\n\t\t\t//Init Map\r\n\t\t\tmap.init();\r\n\t\t\t/*var activityIndicator = new activity({\r\n\t\t\t\tmessage: L('initializing')\r\n\t\t\t});\r\n\t\t\tactivityIndicator.show();*/\r\n\r\n\t\t\t//init with server infos\r\n\t\t\tquery.init(function (infos) {\r\n\t\t\t\t//update token and favorites if any\r\n\t\t\t\tif (infos.token) {\r\n\t\t\t\t\tuser.set('token', infos.token);\r\n\t\t\t\t\tuser.set('today_publications', infos.today_publications);\r\n\t\t\t\t\tif (infos.favorites) {\r\n\t\t\t\t\t\tuser.set('favorites', infos.favorites);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//logout\r\n\t\t\t\t\t$document.triggerHandler('app.logout');\r\n\t\t\t\t}\r\n\t\t\t\t//update categories\r\n\t\t\t\tif (infos.categories) {\r\n\t\t\t\t\tdata.set('categories', infos.categories);\r\n\t\t\t\t}\r\n\t\t\t\t//hide loader\r\n\t\t\t\t//activityIndicator.hide();\r\n\t\t\t\tslidebars.init();\r\n\r\n\t\t\t\t//show server message\r\n\t\t\t\tif (infos.message) {\r\n\t\t\t\t\t//show message page\r\n\t\t\t\t\tvar messageWindow = require('./class/singleton/window.js');\r\n\t\t\t\t\tmessageWindow.show({\r\n\t\t\t\t\t\ttitle: \tinfos.message.title,\r\n\t\t\t\t\t\ttext: \tinfos.message.msg\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t$document.triggerHandler('app.start-end');\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t$document.on('app.start-end', function() {\r\n\t\t\t$('#splash').fadeOut('fast', function () {\r\n\t\t\t\ttoast.show('Chargement termin√© !');\r\n\t\t\t\tif (__DEV__) {\r\n\t\t\t\t\tconsole.info('all done (dev mode)');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t//launch count\r\n\t\tif (!data.get('launchCount')) {\r\n\t\t\tdata.set('launchCount', 1);\r\n\t\t} else {\r\n\t\t\tdata.set('launchCount', data.get('launchCount') + 1);\r\n\t\t}\r\n\r\n\t\t//Orientation events\r\n\t\t/*Ti.Gesture.addEventListener('orientationchange', function(e) {\r\n\t\t\tTi.App.fireEvent('app.orientation', e);\r\n\t\t});*/\r\n\t\tdata.set('connectionAlert', 0);\r\n\t\t//show welcome page on first launch\r\n\t\tif (data.get('launchCount') == 1) {\r\n\t\t\t//init default app vars\r\n\t\t\tdata.set('rules', false);\r\n\t\t\tdata.set('fbPost', true);\r\n\t\t\tdata.set('allowContact', true);\r\n\t\t\tdata.set('postNotif', true);\r\n\t\t\tdata.set('commentNotif', true);\r\n\t\t\t//Ti.App.Properties.setBool('eventfulSearch', true);\r\n\t\t\tdata.set('unit', 'km');\r\n\t\t\tdata.set('radius', 150);\r\n\t\t\tdata.set('categories', []);\r\n\r\n\t\t\t/*//show welcome page\r\n\t\t\tvar welcomeWindow = require('ui/welcome');\r\n\t\t\tvar welcome = new welcomeWindow();\r\n\t\t\twelcome.addEventListener('close', function () {\r\n\t\t\t\t//launch app\r\n\t\t\t\t$document.triggerHandler('app.start');\r\n\t\t\t});\r\n\t\t\twelcome.open();*/\r\n\t\t} else {\r\n\t\t\t//launch app\r\n\t\t\t//$document.triggerHandler('app.start');\r\n\t\t}\r\n\r\n\t\t//launch app\r\n\t\t$document.triggerHandler('app.start');\r\n\t});\r\n}) (jQuery);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./index.js\n ** module id = 0\n ** module chunks = 0\n **/","var $ = require('jquery');\r\n//Slidebars\r\nrequire(\"../../../libs/slidebars/0.10.3/dist/slidebars.js\");\r\nrequire(\"../../../libs/slidebars/0.10.3/dist/slidebars.css\");\r\n\r\nmodule.exports = (function() {\r\n\t// private functions\r\n\tfunction init () {\r\n\t\t//i18n\r\n\t\tvar i18n = require('./i18n.js');\r\n\r\n\t\t$.slidebars();\r\n\t\t//Dom Events\r\n\t\t$('#when').on({\r\n\t\t\t'change': showHideCustomDates\r\n\t\t});\r\n\t\tshowHideCustomDates();\r\n\t\t//populate categories list\r\n\t\tvar data = require('./data.js');\r\n\r\n\t\t//set categories values\r\n\t\tvar categories = data.get('categories');\r\n\t\tvar $what = $('#what');\r\n\t\t$what.append('<option value=\"\">'+ i18n.t('All events') +'</option>');\r\n\t\tif (categories) {\r\n\t\t\tfor(var i = 0, l = categories.length; i < l; i++) {\r\n\t\t\t\t$what.append('<option value=\"'+ categories[i]['id'] +'\">'+ i18n.t(categories[i]['label']) +'</option>');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//$('#what')\r\n\t\t$('#search form').on({\r\n\t\t\t'submit': function() {\r\n\t\t\t\tif(__DEV__) {\r\n\t\t\t\t\tconsole.info('search');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t//HTML Dom\r\n\tfunction showHideCustomDates() {\r\n\t\tif ($('#when').val() === 'custom') {\r\n\t\t\t$('#search .specific-date').show('fast');\r\n\t\t} else {\r\n\t\t\t$('#search .specific-date').hide('fast');\r\n\t\t}\r\n\t}\r\n\r\n\t// API/data for end-user\r\n\treturn {\r\n\t\tinit: init\r\n\t}\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/singleton/slidebars.js\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 6\n ** module chunks = 0\n **/","// -----------------------------------\n// Slidebars\n// Version 0.10.3\n// http://plugins.adchsm.me/slidebars/\n//\n// Written by Adam Smith\n// http://www.adchsm.me/\n//\n// Released under MIT License\n// http://plugins.adchsm.me/slidebars/license.txt\n//\n// ---------------------\n// Index of Slidebars.js\n//\n// 001 - Default Settings\n// 002 - Feature Detection\n// 003 - User Agents\n// 004 - Setup\n// 005 - Animation\n// 006 - Operations\n// 007 - API\n// 008 - User Input\n\n;( function ( $ ) {\n\n\t$.slidebars = function ( options ) {\n\n\t\t// ----------------------\n\t\t// 001 - Default Settings\n\n\t\tvar settings = $.extend( {\n\t\t\tsiteClose: true, // true or false - Enable closing of Slidebars by clicking on #sb-site.\n\t\t\tscrollLock: false, // true or false - Prevent scrolling of site when a Slidebar is open.\n\t\t\tdisableOver: false, // integer or false - Hide Slidebars over a specific width.\n\t\t\thideControlClasses: false // true or false - Hide controls at same width as disableOver.\n\t\t}, options );\n\n\t\t// -----------------------\n\t\t// 002 - Feature Detection\n\n\t\tvar test = document.createElement( 'div' ).style, // Create element to test on.\n\t\tsupportTransition = false, // Variable for testing transitions.\n\t\tsupportTransform = false; // variable for testing transforms.\n\n\t\t// Test for CSS Transitions\n\t\tif ( test.MozTransition === '' || test.WebkitTransition === '' || test.OTransition === '' || test.transition === '' ) supportTransition = true;\n\n\t\t// Test for CSS Transforms\n\t\tif ( test.MozTransform === '' || test.WebkitTransform === '' || test.OTransform === '' || test.transform === '' ) supportTransform = true;\n\n\t\t// -----------------\n\t\t// 003 - User Agents\n\n\t\tvar ua = navigator.userAgent, // Get user agent string.\n\t\tandroid = false, // Variable for storing android version.\n\t\tiOS = false; // Variable for storing iOS version.\n\t\t\n\t\tif ( /Android/.test( ua ) ) { // Detect Android in user agent string.\n\t\t\tandroid = ua.substr( ua.indexOf( 'Android' )+8, 3 ); // Set version of Android.\n\t\t} else if ( /(iPhone|iPod|iPad)/.test( ua ) ) { // Detect iOS in user agent string.\n\t\t\tiOS = ua.substr( ua.indexOf( 'OS ' )+3, 3 ).replace( '_', '.' ); // Set version of iOS.\n\t\t}\n\t\t\n\t\tif ( android && android < 3 || iOS && iOS < 5 ) $( 'html' ).addClass( 'sb-static' ); // Add helper class for older versions of Android & iOS.\n\n\t\t// -----------\n\t\t// 004 - Setup\n\n\t\t// Site container\n\t\tvar $site = $( '#sb-site, .sb-site-container' ); // Cache the selector.\n\n\t\t// Left Slidebar\t\n\t\tif ( $( '.sb-left' ).length ) { // Check if the left Slidebar exists.\n\t\t\tvar $left = $( '.sb-left' ), // Cache the selector.\n\t\t\tleftActive = false; // Used to check whether the left Slidebar is open or closed.\n\t\t}\n\n\t\t// Right Slidebar\n\t\tif ( $( '.sb-right' ).length ) { // Check if the right Slidebar exists.\n\t\t\tvar $right = $( '.sb-right' ), // Cache the selector.\n\t\t\trightActive = false; // Used to check whether the right Slidebar is open or closed.\n\t\t}\n\t\t\t\t\n\t\tvar init = false, // Initialisation variable.\n\t\twindowWidth = $( window ).width(), // Get width of window.\n\t\t$controls = $( '.sb-toggle-left, .sb-toggle-right, .sb-open-left, .sb-open-right, .sb-close' ), // Cache the control classes.\n\t\t$slide = $( '.sb-slide' ); // Cache users elements to animate.\n\t\t\n\t\t// Initailise Slidebars\n\t\tfunction initialise () {\n\t\t\tif ( ! settings.disableOver || ( typeof settings.disableOver === 'number' && settings.disableOver >= windowWidth ) ) { // False or larger than window size. \n\t\t\t\tinit = true; // true enabled Slidebars to open.\n\t\t\t\t$( 'html' ).addClass( 'sb-init' ); // Add helper class.\n\t\t\t\tif ( settings.hideControlClasses ) $controls.removeClass( 'sb-hide' ); // Remove class just incase Slidebars was originally disabled.\n\t\t\t\tcss(); // Set required inline styles.\n\t\t\t} else if ( typeof settings.disableOver === 'number' && settings.disableOver < windowWidth ) { // Less than window size.\n\t\t\t\tinit = false; // false stop Slidebars from opening.\n\t\t\t\t$( 'html' ).removeClass( 'sb-init' ); // Remove helper class.\n\t\t\t\tif ( settings.hideControlClasses ) $controls.addClass( 'sb-hide' ); // Hide controls\n\t\t\t\t$site.css( 'minHeight', '' ); // Remove minimum height.\n\t\t\t\tif ( leftActive || rightActive ) close(); // Close Slidebars if open.\n\t\t\t}\n\t\t}\n\t\tinitialise();\n\t\t\n\t\t// Inline CSS\n\t\tfunction css() {\n\t\t\t// Site container height.\n\t\t\t$site.css( 'minHeight', '' );\n\t\t\tvar siteHeight = parseInt( $site.css( 'height' ), 10 ),\n\t\t\thtmlHeight = parseInt( $( 'html' ).css( 'height' ), 10 );\n\t\t\tif ( siteHeight < htmlHeight ) $site.css( 'minHeight', $( 'html' ).css( 'height' ) ); // Test height for vh support..\n\t\t\t\n\t\t\t// Custom Slidebar widths.\n\t\t\tif ( $left && $left.hasClass( 'sb-width-custom' ) ) $left.css( 'width', $left.attr( 'data-sb-width' ) ); // Set user custom width.\n\t\t\tif ( $right && $right.hasClass( 'sb-width-custom' ) ) $right.css( 'width', $right.attr( 'data-sb-width' ) ); // Set user custom width.\n\t\t\t\n\t\t\t// Set off-canvas margins for Slidebars with push and overlay animations.\n\t\t\tif ( $left && ( $left.hasClass( 'sb-style-push' ) || $left.hasClass( 'sb-style-overlay' ) ) ) $left.css( 'marginLeft', '-' + $left.css( 'width' ) );\n\t\t\tif ( $right && ( $right.hasClass( 'sb-style-push' ) || $right.hasClass( 'sb-style-overlay' ) ) ) $right.css( 'marginRight', '-' + $right.css( 'width' ) );\n\t\t\t\n\t\t\t// Site scroll locking.\n\t\t\tif ( settings.scrollLock ) $( 'html' ).addClass( 'sb-scroll-lock' );\n\t\t}\n\t\t\n\t\t// Resize Functions\n\t\t$( window ).resize( function () {\n\t\t\tvar resizedWindowWidth = $( window ).width(); // Get resized window width.\n\t\t\tif ( windowWidth !== resizedWindowWidth ) { // Slidebars is running and window was actually resized.\n\t\t\t\twindowWidth = resizedWindowWidth; // Set the new window width.\n\t\t\t\tinitialise(); // Call initalise to see if Slidebars should still be running.\n\t\t\t\tif ( leftActive ) open( 'left' ); // If left Slidebar is open, calling open will ensure it is the correct size.\n\t\t\t\tif ( rightActive ) open( 'right' ); // If right Slidebar is open, calling open will ensure it is the correct size.\n\t\t\t}\n\t\t} );\n\t\t// I may include a height check along side a width check here in future.\n\n\t\t// ---------------\n\t\t// 005 - Animation\n\n\t\tvar animation; // Animation type.\n\n\t\t// Set animation type.\n\t\tif ( supportTransition && supportTransform ) { // Browser supports css transitions and transforms.\n\t\t\tanimation = 'translate'; // Translate for browsers that support it.\n\t\t\tif ( android && android < 4.4 ) animation = 'side'; // Android supports both, but can't translate any fixed positions, so use left instead.\n\t\t} else {\n\t\t\tanimation = 'jQuery'; // Browsers that don't support css transitions and transitions.\n\t\t}\n\n\t\t// Animate mixin.\n\t\tfunction animate( object, amount, side ) {\n\t\t\t\n\t\t\t// Choose selectors depending on animation style.\n\t\t\tvar selector;\n\t\t\t\n\t\t\tif ( object.hasClass( 'sb-style-push' ) ) {\n\t\t\t\tselector = $site.add( object ).add( $slide ); // Push - Animate site, Slidebar and user elements.\n\t\t\t} else if ( object.hasClass( 'sb-style-overlay' ) ) {\n\t\t\t\tselector = object; // Overlay - Animate Slidebar only.\n\t\t\t} else {\n\t\t\t\tselector = $site.add( $slide ); // Reveal - Animate site and user elements.\n\t\t\t}\n\t\t\t\n\t\t\t// Apply animation\n\t\t\tif ( animation === 'translate' ) {\n\t\t\t\tif ( amount === '0px' ) {\n\t\t\t\t\tremoveAnimation();\n\t\t\t\t} else {\n\t\t\t\t\tselector.css( 'transform', 'translate( ' + amount + ' )' ); // Apply the animation.\n\t\t\t\t}\n\n\t\t\t} else if ( animation === 'side' ) {\n\t\t\t\tif ( amount === '0px' ) {\n\t\t\t\t\tremoveAnimation();\n\t\t\t\t} else {\n\t\t\t\t\tif ( amount[0] === '-' ) amount = amount.substr( 1 ); // Remove the '-' from the passed amount for side animations.\n\t\t\t\t\tselector.css( side, '0px' ); // Add a 0 value so css transition works.\n\t\t\t\t\tsetTimeout( function () { // Set a timeout to allow the 0 value to be applied above.\n\t\t\t\t\t\tselector.css( side, amount ); // Apply the animation.\n\t\t\t\t\t}, 1 );\n\t\t\t\t}\n\n\t\t\t} else if ( animation === 'jQuery' ) {\n\t\t\t\tif ( amount[0] === '-' ) amount = amount.substr( 1 ); // Remove the '-' from the passed amount for jQuery animations.\n\t\t\t\tvar properties = {};\n\t\t\t\tproperties[side] = amount;\n\t\t\t\tselector.stop().animate( properties, 400 ); // Stop any current jQuery animation before starting another.\n\t\t\t}\n\t\t\t\n\t\t\t// Remove animation\n\t\t\tfunction removeAnimation () {\n\t\t\t\tselector.removeAttr( 'style' );\n\t\t\t\tcss();\n\t\t\t}\n\t\t}\n\n\t\t// ----------------\n\t\t// 006 - Operations\n\n\t\t// Open a Slidebar\n\t\tfunction open( side ) {\n\t\t\t// Check to see if opposite Slidebar is open.\n\t\t\tif ( side === 'left' && $left && rightActive || side === 'right' && $right && leftActive ) { // It's open, close it, then continue.\n\t\t\t\tclose();\n\t\t\t\tsetTimeout( proceed, 400 );\n\t\t\t} else { // Its not open, continue.\n\t\t\t\tproceed();\n\t\t\t}\n\n\t\t\t// Open\n\t\t\tfunction proceed() {\n\t\t\t\tif ( init && side === 'left' && $left ) { // Slidebars is initiated, left is in use and called to open.\n\t\t\t\t\t$( 'html' ).addClass( 'sb-active sb-active-left' ); // Add active classes.\n\t\t\t\t\t$left.addClass( 'sb-active' );\n\t\t\t\t\tanimate( $left, $left.css( 'width' ), 'left' ); // Animation\n\t\t\t\t\tsetTimeout( function () { leftActive = true; }, 400 ); // Set active variables.\n\t\t\t\t} else if ( init && side === 'right' && $right ) { // Slidebars is initiated, right is in use and called to open.\n\t\t\t\t\t$( 'html' ).addClass( 'sb-active sb-active-right' ); // Add active classes.\n\t\t\t\t\t$right.addClass( 'sb-active' );\n\t\t\t\t\tanimate( $right, '-' + $right.css( 'width' ), 'right' ); // Animation\n\t\t\t\t\tsetTimeout( function () { rightActive = true; }, 400 ); // Set active variables.\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\t// Close either Slidebar\n\t\tfunction close( url, target ) {\n\t\t\tif ( leftActive || rightActive ) { // If a Slidebar is open.\n\t\t\t\tif ( leftActive ) {\n\t\t\t\t\tanimate( $left, '0px', 'left' ); // Animation\n\t\t\t\t\tleftActive = false;\n\t\t\t\t}\n\t\t\t\tif ( rightActive ) {\n\t\t\t\t\tanimate( $right, '0px', 'right' ); // Animation\n\t\t\t\t\trightActive = false;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tsetTimeout( function () { // Wait for closing animation to finish.\n\t\t\t\t\t$( 'html' ).removeClass( 'sb-active sb-active-left sb-active-right' ); // Remove active classes.\n\t\t\t\t\tif ( $left ) $left.removeClass( 'sb-active' );\n\t\t\t\t\tif ( $right ) $right.removeClass( 'sb-active' );\n\t\t\t\t\tif ( typeof url !== 'undefined' ) { // If a link has been passed to the function, go to it.\n\t\t\t\t\t\tif ( typeof target === undefined ) target = '_self'; // Set to _self if undefined.\n\t\t\t\t\t\twindow.open( url, target ); // Open the url.\n\t\t\t\t\t}\n\t\t\t\t}, 400 );\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Toggle either Slidebar\n\t\tfunction toggle( side ) {\n\t\t\tif ( side === 'left' && $left ) { // If left Slidebar is called and in use.\n\t\t\t\tif ( ! leftActive ) {\n\t\t\t\t\topen( 'left' ); // Slidebar is closed, open it.\n\t\t\t\t} else {\n\t\t\t\t\tclose(); // Slidebar is open, close it.\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( side === 'right' && $right ) { // If right Slidebar is called and in use.\n\t\t\t\tif ( ! rightActive ) {\n\t\t\t\t\topen( 'right' ); // Slidebar is closed, open it.\n\t\t\t\t} else {\n\t\t\t\t\tclose(); // Slidebar is open, close it.\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// ---------\n\t\t// 007 - API\n\t\t\n\t\tthis.slidebars = {\n\t\t\topen: open, // Maps user variable name to the open method.\n\t\t\tclose: close, // Maps user variable name to the close method.\n\t\t\ttoggle: toggle, // Maps user variable name to the toggle method.\n\t\t\tinit: function () { // Returns true or false whether Slidebars are running or not.\n\t\t\t\treturn init; // Returns true or false whether Slidebars are running.\n\t\t\t},\n\t\t\tactive: function ( side ) { // Returns true or false whether Slidebar is open or closed.\n\t\t\t\tif ( side === 'left' && $left ) return leftActive;\n\t\t\t\tif ( side === 'right' && $right ) return rightActive;\n\t\t\t},\n\t\t\tdestroy: function ( side ) { // Removes the Slidebar from the DOM.\n\t\t\t\tif ( side === 'left' && $left ) {\n\t\t\t\t\tif ( leftActive ) close(); // Close if its open.\n\t\t\t\t\tsetTimeout( function () {\n\t\t\t\t\t\t$left.remove(); // Remove it.\n\t\t\t\t\t\t$left = false; // Set variable to false so it cannot be opened again.\n\t\t\t\t\t}, 400 );\n\t\t\t\t}\n\t\t\t\tif ( side === 'right' && $right) {\n\t\t\t\t\tif ( rightActive ) close(); // Close if its open.\n\t\t\t\t\tsetTimeout( function () {\n\t\t\t\t\t\t$right.remove(); // Remove it.\n\t\t\t\t\t\t$right = false; // Set variable to false so it cannot be opened again.\n\t\t\t\t\t}, 400 );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// ----------------\n\t\t// 008 - User Input\n\t\t\n\t\tfunction eventHandler( event, selector ) {\n\t\t\tevent.stopPropagation(); // Stop event bubbling.\n\t\t\tevent.preventDefault(); // Prevent default behaviour.\n\t\t\tif ( event.type === 'touchend' ) selector.off( 'click' ); // If event type was touch, turn off clicks to prevent phantom clicks.\n\t\t}\n\t\t\n\t\t// Toggle left Slidebar\n\t\t$( '.sb-toggle-left' ).on( 'touchend click', function ( event ) {\n\t\t\teventHandler( event, $( this ) ); // Handle the event.\n\t\t\ttoggle( 'left' ); // Toggle the left Slidbar.\n\t\t} );\n\t\t\n\t\t// Toggle right Slidebar\n\t\t$( '.sb-toggle-right' ).on( 'touchend click', function ( event ) {\n\t\t\teventHandler( event, $( this ) ); // Handle the event.\n\t\t\ttoggle( 'right' ); // Toggle the right Slidbar.\n\t\t} );\n\t\t\n\t\t// Open left Slidebar\n\t\t$( '.sb-open-left' ).on( 'touchend click', function ( event ) {\n\t\t\teventHandler( event, $( this ) ); // Handle the event.\n\t\t\topen( 'left' ); // Open the left Slidebar.\n\t\t} );\n\t\t\n\t\t// Open right Slidebar\n\t\t$( '.sb-open-right' ).on( 'touchend click', function ( event ) {\n\t\t\teventHandler( event, $( this ) ); // Handle the event.\n\t\t\topen( 'right' ); // Open the right Slidebar.\n\t\t} );\n\t\t\n\t\t// Close Slidebar\n\t\t$( '.sb-close' ).on( 'touchend click', function ( event ) {\n\t\t\tif ( $( this ).is( 'a' ) || $( this ).children().is( 'a' ) ) { // Is a link or contains a link.\n\t\t\t\tif ( event.type === 'click' ) { // Make sure the user wanted to follow the link.\n\t\t\t\t\tevent.stopPropagation(); // Stop events propagating\n\t\t\t\t\tevent.preventDefault(); // Stop default behaviour\n\t\t\t\t\t\n\t\t\t\t\tvar link = ( $( this ).is( 'a' ) ? $( this ) : $( this ).find( 'a' ) ), // Get the link selector.\n\t\t\t\t\turl = link.attr( 'href' ), // Get the link url.\n\t\t\t\t\ttarget = ( link.attr( 'target' ) ? link.attr( 'target' ) : '_self' ); // Set target, default to _self if not provided\n\t\t\t\t\t\n\t\t\t\t\tclose( url, target ); // Close Slidebar and pass link target.\n\t\t\t\t}\n\t\t\t} else { // Just a normal control class.\n\t\t\t\teventHandler( event, $( this ) ); // Handle the event.\n\t\t\t\tclose(); // Close Slidebar.\n\t\t\t}\n\t\t} );\n\t\t\n\t\t// Close Slidebar via site\n\t\t$site.on( 'touchend click', function ( event ) {\n\t\t\tif ( settings.siteClose && ( leftActive || rightActive ) ) { // If settings permit closing by site and left or right Slidebar is open.\n\t\t\t\teventHandler( event, $( this ) ); // Handle the event.\n\t\t\t\tclose(); // Close it.\n\t\t\t}\n\t\t} );\n\t\t\n\t}; // End Slidebars function.\n\n} ) ( jQuery );\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../libs/slidebars/0.10.3/dist/slidebars.js\n ** module id = 7\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../../node_modules/css-loader/index.js!./../../../../../node_modules/postcss-loader/index.js!./slidebars.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../../node_modules/css-loader/index.js!./../../../../../node_modules/postcss-loader/index.js!./slidebars.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../../node_modules/css-loader/index.js!./../../../../../node_modules/postcss-loader/index.js!./slidebars.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../libs/slidebars/0.10.3/dist/slidebars.css\n ** module id = 8\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* -----------------------------------\\n * Slidebars\\n * Version 0.10.3\\n * http://plugins.adchsm.me/slidebars/\\n *\\n * Written by Adam Smith\\n * http://www.adchsm.me/\\n *\\n * Released under MIT License\\n * http://plugins.adchsm.me/slidebars/license.txt\\n *\\n * -------------------\\n * Slidebars CSS Index\\n *\\n * 001 - Box Model, Html & Body\\n * 002 - Site\\n * 003 - Slidebars\\n * 004 - Animation\\n * 005 - Helper Classes\\n *\\n * ----------------------------\\n * 001 - Box Model, Html & Body\\n */\\n\\nhtml, body, #sb-site, .sb-site-container, .sb-slidebar {\\n\\t/* Set box model to prevent any user added margins or paddings from altering the widths or heights. */\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\t-webkit-box-sizing: border-box;\\n\\t   -moz-box-sizing: border-box;\\n\\t        box-sizing: border-box;\\n}\\n\\nhtml, body {\\n\\twidth: 100%;\\n\\toverflow-x: hidden; /* Stops horizontal scrolling. */\\n}\\n\\nhtml {\\n\\theight: 100%; /* Site is as tall as device. */\\n}\\n\\nbody {\\n\\tmin-height: 100%;\\n\\theight: auto;\\n\\tposition: relative; /* Required for static Slidebars to function properly. */\\n}\\n\\n/* Site scroll locking - prevent site from scrolling when a Slidebar is open, except when static Slidebars are only available. */\\nhtml.sb-scroll-lock.sb-active:not(.sb-static) {\\n\\toverflow: hidden;\\n}\\n\\n/* ----------\\n * 002 - Site\\n */\\n\\n#sb-site, .sb-site-container {\\n\\t/* You may now use class .sb-site-container instead of #sb-site and use your own id. However please make sure you don't set any of the following styles any differently on your id. */\\n\\twidth: 100%;\\n\\tmin-height: 100vh;\\n\\tposition: relative;\\n\\tz-index: 1; /* Site sits above Slidebars */\\n\\tbackground-color: #ffffff; /* Default background colour, overwrite this with your own css. I suggest moving your html or body background styling here. Making this transparent will allow the Slidebars beneath to be visible. */\\n}\\n\\n/* Micro clearfix by Nicolas Gallagher, ensures the site container hits the top and bottom of the screen. */\\n#sb-site:before, #sb-site:after, .sb-site-container:before, .sb-site-container:after {\\n\\tcontent: ' ';\\n\\tdisplay: table;\\n}\\n\\n#sb-site:before, #sb-site:after, .sb-site-container:before, .sb-site-container:after {\\n    clear: both;\\n}\\n\\n/* ---------------\\n * 003 - Slidebars\\n */\\n\\n.sb-slidebar {\\n\\theight: 100%;\\n\\toverflow-y: auto; /* Enable vertical scrolling on Slidebars when needed. */\\n\\tposition: fixed;\\n\\ttop: 0;\\n\\tz-index: 0; /* Slidebars sit behind sb-site. */\\n\\tdisplay: none; /* Initially hide the Slidebars. Changed from visibility to display to allow -webkit-overflow-scrolling. */\\n\\tbackground-color: #222222; /* Default Slidebars background colour, overwrite this with your own css. */\\n}\\n\\n.sb-slidebar, .sb-slidebar * {\\n\\t-webkit-transform: translateZ( 0px ); /* Fixes issues with translated and z-indexed elements on iOS 7. */\\n}\\n\\n.sb-left {\\n\\tleft: 0; /* Set Slidebar to the left. */\\n}\\n\\n.sb-right {\\n\\tright: 0; /* Set Slidebar to the right. */\\n}\\n\\nhtml.sb-static .sb-slidebar,\\n.sb-slidebar.sb-static {\\n\\tposition: absolute; /* Makes Slidebars scroll naturally with the site, and unfixes them for Android Browser < 3 and iOS < 5. */\\n}\\n\\n.sb-slidebar.sb-active {\\n\\tdisplay: block; /* Makes Slidebars visibile when open. Changed from visibility to display to allow -webkit-overflow-scrolling. */\\n}\\n\\n.sb-style-overlay {\\n\\tz-index: 9999; /* Set z-index high to ensure it overlays any other site elements. */\\n}\\n\\n.sb-momentum-scrolling {\\n\\t-webkit-overflow-scrolling: touch; /* Adds native momentum scrolling for iOS & Android devices. */\\n}\\n\\n/* Slidebar widths for browsers/devices that don't support media queries. */\\n\\t.sb-slidebar {\\n\\t\\twidth: 30%;\\n\\t}\\n\\t\\n\\t.sb-width-thin {\\n\\t\\twidth: 15%;\\n\\t}\\n\\t\\n\\t.sb-width-wide {\\n\\t\\twidth: 45%;\\n\\t}\\n\\n@media (max-width: 480px) { /* Slidebar widths on extra small screens. */\\n\\t.sb-slidebar {\\n\\t\\twidth: 70%;\\n\\t}\\n\\t\\n\\t.sb-width-thin {\\n\\t\\twidth: 55%;\\n\\t}\\n\\t\\n\\t.sb-width-wide {\\n\\t\\twidth: 85%;\\n\\t}\\n}\\n\\n@media (min-width: 481px) { /* Slidebar widths on small screens. */\\n\\t.sb-slidebar {\\n\\t\\twidth: 55%;\\n\\t}\\n\\t\\n\\t.sb-width-thin {\\n\\t\\twidth: 40%;\\n\\t}\\n\\t\\n\\t.sb-width-wide {\\n\\t\\twidth: 70%;\\n\\t}\\n}\\n\\n@media (min-width: 768px) { /* Slidebar widths on medium screens. */\\n\\t.sb-slidebar {\\n\\t\\twidth: 40%;\\n\\t}\\n\\t\\n\\t.sb-width-thin {\\n\\t\\twidth: 25%;\\n\\t}\\n\\t\\n\\t.sb-width-wide {\\n\\t\\twidth: 55%;\\n\\t}\\n}\\n\\n@media (min-width: 992px) { /* Slidebar widths on large screens. */\\n\\t.sb-slidebar {\\n\\t\\twidth: 30%;\\n\\t}\\n\\t\\n\\t.sb-width-thin {\\n\\t\\twidth: 15%;\\n\\t}\\n\\t\\n\\t.sb-width-wide {\\n\\t\\twidth: 45%;\\n\\t}\\n}\\n\\n@media (min-width: 1200px) { /* Slidebar widths on extra large screens. */\\n\\t.sb-slidebar {\\n\\t\\twidth: 20%;\\n\\t}\\n\\t\\n\\t.sb-width-thin {\\n\\t\\twidth: 5%;\\n\\t}\\n\\t\\n\\t.sb-width-wide {\\n\\t\\twidth: 35%;\\n\\t}\\n}\\n\\n/* ---------------\\n * 004 - Animation\\n */\\n\\n.sb-slide, #sb-site, .sb-site-container, .sb-slidebar {\\n\\t-webkit-transform: translate( 0px );\\n\\t   -moz-transform: translate( 0px );\\n\\t     -o-transform: translate( 0px );\\n\\t        transform: translate( 0px );\\n\\t\\n\\t-webkit-transition: -webkit-transform 400ms ease;\\n\\t   -moz-transition:    -moz-transform 400ms ease;\\n\\t     -o-transition:      -o-transform 400ms ease;\\n\\t        transition:         transform 400ms ease;\\n\\t\\n\\t-webkit-transition-property: -webkit-transform, left, right; /* Add left/right for Android < 4.4. */\\n\\t-webkit-backface-visibility: hidden; /* Prevents flickering. This is non essential, and you may remove it if your having problems with fixed background images in Chrome. */\\n}\\n\\n/* --------------------\\n * 005 - Helper Classes\\n */\\n \\n.sb-hide { \\n\\tdisplay: none; /* Optionally applied to control classes when Slidebars is disabled over a certain width. */\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /mnt/windows/Web_app/~/css-loader!/mnt/windows/Web_app/~/postcss-loader!../libs/slidebars/0.10.3/dist/slidebars.css\n ** module id = 9\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /mnt/windows/Web_app/~/css-loader/lib/css-base.js\n ** module id = 10\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0;\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction createStyleElement() {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = getHeadElement();\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement() {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tvar head = getHeadElement();\r\n\tlinkElement.rel = \"stylesheet\";\r\n\thead.appendChild(linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement();\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement();\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /mnt/windows/Web_app/~/style-loader/addStyles.js\n ** module id = 11\n ** module chunks = 0\n **/","module.exports = (function() {\r\n\tvar self = {};\r\n\t//i18next\r\n\tvar i18next = require(\"../../../libs/i18next/1.10.1/i18next-1.10.1.js\");\r\n\t//Init plugin with current language\r\n\ti18next.init({ resStore: {dev: {translation: require(\"../../../../languages/\" + LANGUAGE + \".json\")} } });\r\n\r\n\tself.t = i18next.t;\r\n\treturn self;\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/singleton/i18n.js\n ** module id = 12\n ** module chunks = 0\n **/","// i18next, v1.10.1\r\n// Copyright (c)2015 Jan M√ºhlemann (jamuhl).\r\n// Distributed under MIT license\r\n// http://i18next.com\r\n\r\nexports.jQuery = jQuery;\r\n\r\n(function(root) {\r\n\r\n    // add indexOf to non ECMA-262 standard compliant browsers\r\n    if (!Array.prototype.indexOf) {\r\n        Array.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\r\n            \"use strict\";\r\n            if (this == null) {\r\n                throw new TypeError();\r\n            }\r\n            var t = Object(this);\r\n            var len = t.length >>> 0;\r\n            if (len === 0) {\r\n                return -1;\r\n            }\r\n            var n = 0;\r\n            if (arguments.length > 0) {\r\n                n = Number(arguments[1]);\r\n                if (n != n) { // shortcut for verifying if it's NaN\r\n                    n = 0;\r\n                } else if (n != 0 && n != Infinity && n != -Infinity) {\r\n                    n = (n > 0 || -1) * Math.floor(Math.abs(n));\r\n                }\r\n            }\r\n            if (n >= len) {\r\n                return -1;\r\n            }\r\n            var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\r\n            for (; k < len; k++) {\r\n                if (k in t && t[k] === searchElement) {\r\n                    return k;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n    \r\n    // add lastIndexOf to non ECMA-262 standard compliant browsers\r\n    if (!Array.prototype.lastIndexOf) {\r\n        Array.prototype.lastIndexOf = function(searchElement /*, fromIndex*/) {\r\n            \"use strict\";\r\n            if (this == null) {\r\n                throw new TypeError();\r\n            }\r\n            var t = Object(this);\r\n            var len = t.length >>> 0;\r\n            if (len === 0) {\r\n                return -1;\r\n            }\r\n            var n = len;\r\n            if (arguments.length > 1) {\r\n                n = Number(arguments[1]);\r\n                if (n != n) {\r\n                    n = 0;\r\n                } else if (n != 0 && n != (1 / 0) && n != -(1 / 0)) {\r\n                    n = (n > 0 || -1) * Math.floor(Math.abs(n));\r\n                }\r\n            }\r\n            var k = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);\r\n            for (; k >= 0; k--) {\r\n                if (k in t && t[k] === searchElement) {\r\n                    return k;\r\n                }\r\n            }\r\n            return -1;\r\n        };\r\n    }\r\n    \r\n    // Add string trim for IE8.\r\n    if (typeof String.prototype.trim !== 'function') {\r\n        String.prototype.trim = function() {\r\n            return this.replace(/^\\s+|\\s+$/g, ''); \r\n        }\r\n    }\r\n\r\n    var $ = root.jQuery || root.Zepto\r\n      , i18n = {}\r\n      , resStore = {}\r\n      , currentLng\r\n      , replacementCounter = 0\r\n      , languages = []\r\n      , initialized = false\r\n      , sync = {}\r\n      , conflictReference = null;\r\n\r\n\r\n\r\n    // Export the i18next object for **CommonJS**. \r\n    // If we're not in CommonJS, add `i18n` to the\r\n    // global object or to jquery.\r\n    if (typeof module !== 'undefined' && module.exports) {\r\n        module.exports = i18n;\r\n    } else {\r\n        if ($) {\r\n            $.i18n = $.i18n || i18n;\r\n        }\r\n        \r\n        if (root.i18n) {\r\n        \tconflictReference = root.i18n;\r\n        }\r\n        root.i18n = i18n;\r\n    }\r\n    sync = {\r\n    \r\n        load: function(lngs, options, cb) {\r\n            if (options.useLocalStorage) {\r\n                sync._loadLocal(lngs, options, function(err, store) {\r\n                    var missingLngs = [];\r\n                    for (var i = 0, len = lngs.length; i < len; i++) {\r\n                        if (!store[lngs[i]]) missingLngs.push(lngs[i]);\r\n                    }\r\n    \r\n                    if (missingLngs.length > 0) {\r\n                        sync._fetch(missingLngs, options, function(err, fetched) {\r\n                            f.extend(store, fetched);\r\n                            sync._storeLocal(fetched);\r\n    \r\n                            cb(err, store);\r\n                        });\r\n                    } else {\r\n                        cb(err, store);\r\n                    }\r\n                });\r\n            } else {\r\n                sync._fetch(lngs, options, function(err, store){\r\n                    cb(err, store);\r\n                });\r\n            }\r\n        },\r\n    \r\n        _loadLocal: function(lngs, options, cb) {\r\n            var store = {}\r\n              , nowMS = new Date().getTime();\r\n    \r\n            if(window.localStorage) {\r\n    \r\n                var todo = lngs.length;\r\n    \r\n                f.each(lngs, function(key, lng) {\r\n                    var local = f.localStorage.getItem('res_' + lng);\r\n    \r\n                    if (local) {\r\n                        local = JSON.parse(local);\r\n    \r\n                        if (local.i18nStamp && local.i18nStamp + options.localStorageExpirationTime > nowMS) {\r\n                            store[lng] = local;\r\n                        }\r\n                    }\r\n    \r\n                    todo--; // wait for all done befor callback\r\n                    if (todo === 0) cb(null, store);\r\n                });\r\n            }\r\n        },\r\n    \r\n        _storeLocal: function(store) {\r\n            if(window.localStorage) {\r\n                for (var m in store) {\r\n                    store[m].i18nStamp = new Date().getTime();\r\n                    f.localStorage.setItem('res_' + m, JSON.stringify(store[m]));\r\n                }\r\n            }\r\n            return;\r\n        },\r\n    \r\n        _fetch: function(lngs, options, cb) {\r\n            var ns = options.ns\r\n              , store = {};\r\n            \r\n            if (!options.dynamicLoad) {\r\n                var todo = ns.namespaces.length * lngs.length\r\n                  , errors;\r\n    \r\n                // load each file individual\r\n                f.each(ns.namespaces, function(nsIndex, nsValue) {\r\n                    f.each(lngs, function(lngIndex, lngValue) {\r\n                        \r\n                        // Call this once our translation has returned.\r\n                        var loadComplete = function(err, data) {\r\n                            if (err) {\r\n                                errors = errors || [];\r\n                                errors.push(err);\r\n                            }\r\n                            store[lngValue] = store[lngValue] || {};\r\n                            store[lngValue][nsValue] = data;\r\n    \r\n                            todo--; // wait for all done befor callback\r\n                            if (todo === 0) cb(errors, store);\r\n                        };\r\n                        \r\n                        if(typeof options.customLoad == 'function'){\r\n                            // Use the specified custom callback.\r\n                            options.customLoad(lngValue, nsValue, options, loadComplete);\r\n                        } else {\r\n                            //~ // Use our inbuilt sync.\r\n                            sync._fetchOne(lngValue, nsValue, options, loadComplete);\r\n                        }\r\n                    });\r\n                });\r\n            } else {\r\n                // Call this once our translation has returned.\r\n                var loadComplete = function(err, data) {\r\n                    cb(err, data);\r\n                };\r\n    \r\n                if(typeof options.customLoad == 'function'){\r\n                    // Use the specified custom callback.\r\n                    options.customLoad(lngs, ns.namespaces, options, loadComplete);\r\n                } else {\r\n                    var url = applyReplacement(options.resGetPath, { lng: lngs.join('+'), ns: ns.namespaces.join('+') });\r\n                    // load all needed stuff once\r\n                    f.ajax({\r\n                        url: url,\r\n                        cache: options.cache,\r\n                        success: function(data, status, xhr) {\r\n                            f.log('loaded: ' + url);\r\n                            loadComplete(null, data);\r\n                        },\r\n                        error : function(xhr, status, error) {\r\n                            f.log('failed loading: ' + url);\r\n                            loadComplete('failed loading resource.json error: ' + error);\r\n                        },\r\n                        dataType: \"json\",\r\n                        async : options.getAsync,\r\n                        timeout: options.ajaxTimeout\r\n                    });\r\n                }    \r\n            }\r\n        },\r\n    \r\n        _fetchOne: function(lng, ns, options, done) {\r\n            var url = applyReplacement(options.resGetPath, { lng: lng, ns: ns });\r\n            f.ajax({\r\n                url: url,\r\n                cache: options.cache,\r\n                success: function(data, status, xhr) {\r\n                    f.log('loaded: ' + url);\r\n                    done(null, data);\r\n                },\r\n                error : function(xhr, status, error) {\r\n                    if ((status && status == 200) || (xhr && xhr.status && xhr.status == 200)) {\r\n                        // file loaded but invalid json, stop waste time !\r\n                        f.error('There is a typo in: ' + url);\r\n                    } else if ((status && status == 404) || (xhr && xhr.status && xhr.status == 404)) {\r\n                        f.log('Does not exist: ' + url);\r\n                    } else {\r\n                        var theStatus = status ? status : ((xhr && xhr.status) ? xhr.status : null);\r\n                        f.log(theStatus + ' when loading ' + url);\r\n                    }\r\n                    \r\n                    done(error, {});\r\n                },\r\n                dataType: \"json\",\r\n                async : options.getAsync,\r\n                timeout: options.ajaxTimeout\r\n            });\r\n        },\r\n    \r\n        postMissing: function(lng, ns, key, defaultValue, lngs) {\r\n            var payload = {};\r\n            payload[key] = defaultValue;\r\n    \r\n            var urls = [];\r\n    \r\n            if (o.sendMissingTo === 'fallback' && o.fallbackLng[0] !== false) {\r\n                for (var i = 0; i < o.fallbackLng.length; i++) {\r\n                    urls.push({lng: o.fallbackLng[i], url: applyReplacement(o.resPostPath, { lng: o.fallbackLng[i], ns: ns })});\r\n                }\r\n            } else if (o.sendMissingTo === 'current' || (o.sendMissingTo === 'fallback' && o.fallbackLng[0] === false) ) {\r\n                urls.push({lng: lng, url: applyReplacement(o.resPostPath, { lng: lng, ns: ns })});\r\n            } else if (o.sendMissingTo === 'all') {\r\n                for (var i = 0, l = lngs.length; i < l; i++) {\r\n                    urls.push({lng: lngs[i], url: applyReplacement(o.resPostPath, { lng: lngs[i], ns: ns })});\r\n                }\r\n            }\r\n    \r\n            for (var y = 0, len = urls.length; y < len; y++) {\r\n                var item = urls[y];\r\n                f.ajax({\r\n                    url: item.url,\r\n                    type: o.sendType,\r\n                    data: payload,\r\n                    success: function(data, status, xhr) {\r\n                        f.log('posted missing key \\'' + key + '\\' to: ' + item.url);\r\n    \r\n                        // add key to resStore\r\n                        var keys = key.split('.');\r\n                        var x = 0;\r\n                        var value = resStore[item.lng][ns];\r\n                        while (keys[x]) {\r\n                            if (x === keys.length - 1) {\r\n                                value = value[keys[x]] = defaultValue;\r\n                            } else {\r\n                                value = value[keys[x]] = value[keys[x]] || {};\r\n                            }\r\n                            x++;\r\n                        }\r\n                    },\r\n                    error : function(xhr, status, error) {\r\n                        f.log('failed posting missing key \\'' + key + '\\' to: ' + item.url);\r\n                    },\r\n                    dataType: \"json\",\r\n                    async : o.postAsync,\r\n                    timeout: o.ajaxTimeout\r\n                });\r\n            }\r\n        },\r\n    \r\n        reload: reload\r\n    };\r\n    // defaults\r\n    var o = {\r\n        lng: undefined,\r\n        load: 'all',\r\n        preload: [],\r\n        lowerCaseLng: false,\r\n        returnObjectTrees: false,\r\n        fallbackLng: ['dev'],\r\n        fallbackNS: [],\r\n        detectLngQS: 'setLng',\r\n        detectLngFromLocalStorage: false,\r\n        ns: {\r\n            namespaces: ['translation'],\r\n            defaultNs: 'translation'\r\n        },\r\n        fallbackOnNull: true,\r\n        fallbackOnEmpty: false,\r\n        fallbackToDefaultNS: false,\r\n        showKeyIfEmpty: false,\r\n        nsseparator: ':',\r\n        keyseparator: '.',\r\n        selectorAttr: 'data-i18n',\r\n        debug: false,\r\n    \r\n        resGetPath: 'locales/__lng__/__ns__.json',\r\n        resPostPath: 'locales/add/__lng__/__ns__',\r\n    \r\n        getAsync: true,\r\n        postAsync: true,\r\n    \r\n        resStore: undefined,\r\n        useLocalStorage: false,\r\n        localStorageExpirationTime: 7*24*60*60*1000,\r\n    \r\n        dynamicLoad: false,\r\n        sendMissing: false,\r\n        sendMissingTo: 'fallback', // current | all\r\n        sendType: 'POST',\r\n    \r\n        interpolationPrefix: '__',\r\n        interpolationSuffix: '__',\r\n        defaultVariables: false,\r\n        reusePrefix: '$t(',\r\n        reuseSuffix: ')',\r\n        pluralSuffix: '_plural',\r\n        pluralNotFound: ['plural_not_found', Math.random()].join(''),\r\n        contextNotFound: ['context_not_found', Math.random()].join(''),\r\n        escapeInterpolation: false,\r\n        indefiniteSuffix: '_indefinite',\r\n        indefiniteNotFound: ['indefinite_not_found', Math.random()].join(''),\r\n    \r\n        setJqueryExt: true,\r\n        defaultValueFromContent: true,\r\n        useDataAttrOptions: false,\r\n        cookieExpirationTime: undefined,\r\n        useCookie: true,\r\n        cookieName: 'i18next',\r\n        cookieDomain: undefined,\r\n    \r\n        objectTreeKeyHandler: undefined,\r\n        postProcess: undefined,\r\n        parseMissingKey: undefined,\r\n        missingKeyHandler: sync.postMissing,\r\n        ajaxTimeout: 0,\r\n    \r\n        shortcutFunction: 'sprintf' // or: defaultValue\r\n    };\r\n    function _extend(target, source) {\r\n        if (!source || typeof source === 'function') {\r\n            return target;\r\n        }\r\n    \r\n        for (var attr in source) { target[attr] = source[attr]; }\r\n        return target;\r\n    }\r\n    \r\n    function _deepExtend(target, source) {\r\n        for (var prop in source)\r\n            if (prop in target)\r\n                _deepExtend(target[prop], source[prop]);\r\n            else\r\n                target[prop] = source[prop];\r\n        return target;\r\n    }\r\n    \r\n    function _each(object, callback, args) {\r\n        var name, i = 0,\r\n            length = object.length,\r\n            isObj = length === undefined || Object.prototype.toString.apply(object) !== '[object Array]' || typeof object === \"function\";\r\n    \r\n        if (args) {\r\n            if (isObj) {\r\n                for (name in object) {\r\n                    if (callback.apply(object[name], args) === false) {\r\n                        break;\r\n                    }\r\n                }\r\n            } else {\r\n                for ( ; i < length; ) {\r\n                    if (callback.apply(object[i++], args) === false) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n    \r\n        // A special, fast, case for the most common use of each\r\n        } else {\r\n            if (isObj) {\r\n                for (name in object) {\r\n                    if (callback.call(object[name], name, object[name]) === false) {\r\n                        break;\r\n                    }\r\n                }\r\n            } else {\r\n                for ( ; i < length; ) {\r\n                    if (callback.call(object[i], i, object[i++]) === false) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        return object;\r\n    }\r\n    \r\n    var _entityMap = {\r\n        \"&\": \"&amp;\",\r\n        \"<\": \"&lt;\",\r\n        \">\": \"&gt;\",\r\n        '\"': '&quot;',\r\n        \"'\": '&#39;',\r\n        \"/\": '&#x2F;'\r\n    };\r\n    \r\n    function _escape(data) {\r\n        if (typeof data === 'string') {\r\n            return data.replace(/[&<>\"'\\/]/g, function (s) {\r\n                return _entityMap[s];\r\n            });\r\n        }else{\r\n            return data;\r\n        }\r\n    }\r\n    \r\n    function _ajax(options) {\r\n    \r\n        // v0.5.0 of https://github.com/goloroden/http.js\r\n        var getXhr = function (callback) {\r\n            // Use the native XHR object if the browser supports it.\r\n            if (window.XMLHttpRequest) {\r\n                return callback(null, new XMLHttpRequest());\r\n            } else if (window.ActiveXObject) {\r\n                // In Internet Explorer check for ActiveX versions of the XHR object.\r\n                try {\r\n                    return callback(null, new ActiveXObject(\"Msxml2.XMLHTTP\"));\r\n                } catch (e) {\r\n                    return callback(null, new ActiveXObject(\"Microsoft.XMLHTTP\"));\r\n                }\r\n            }\r\n    \r\n            // If no XHR support was found, throw an error.\r\n            return callback(new Error());\r\n        };\r\n    \r\n        var encodeUsingUrlEncoding = function (data) {\r\n            if(typeof data === 'string') {\r\n                return data;\r\n            }\r\n    \r\n            var result = [];\r\n            for(var dataItem in data) {\r\n                if(data.hasOwnProperty(dataItem)) {\r\n                    result.push(encodeURIComponent(dataItem) + '=' + encodeURIComponent(data[dataItem]));\r\n                }\r\n            }\r\n    \r\n            return result.join('&');\r\n        };\r\n    \r\n        var utf8 = function (text) {\r\n            text = text.replace(/\\r\\n/g, '\\n');\r\n            var result = '';\r\n    \r\n            for(var i = 0; i < text.length; i++) {\r\n                var c = text.charCodeAt(i);\r\n    \r\n                if(c < 128) {\r\n                        result += String.fromCharCode(c);\r\n                } else if((c > 127) && (c < 2048)) {\r\n                        result += String.fromCharCode((c >> 6) | 192);\r\n                        result += String.fromCharCode((c & 63) | 128);\r\n                } else {\r\n                        result += String.fromCharCode((c >> 12) | 224);\r\n                        result += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                        result += String.fromCharCode((c & 63) | 128);\r\n                }\r\n            }\r\n    \r\n            return result;\r\n        };\r\n    \r\n        var base64 = function (text) {\r\n            var keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n    \r\n            text = utf8(text);\r\n            var result = '',\r\n                    chr1, chr2, chr3,\r\n                    enc1, enc2, enc3, enc4,\r\n                    i = 0;\r\n    \r\n            do {\r\n                chr1 = text.charCodeAt(i++);\r\n                chr2 = text.charCodeAt(i++);\r\n                chr3 = text.charCodeAt(i++);\r\n    \r\n                enc1 = chr1 >> 2;\r\n                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n                enc4 = chr3 & 63;\r\n    \r\n                if(isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if(isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n    \r\n                result +=\r\n                    keyStr.charAt(enc1) +\r\n                    keyStr.charAt(enc2) +\r\n                    keyStr.charAt(enc3) +\r\n                    keyStr.charAt(enc4);\r\n                chr1 = chr2 = chr3 = '';\r\n                enc1 = enc2 = enc3 = enc4 = '';\r\n            } while(i < text.length);\r\n    \r\n            return result;\r\n        };\r\n    \r\n        var mergeHeaders = function () {\r\n            // Use the first header object as base.\r\n            var result = arguments[0];\r\n    \r\n            // Iterate through the remaining header objects and add them.\r\n            for(var i = 1; i < arguments.length; i++) {\r\n                var currentHeaders = arguments[i];\r\n                for(var header in currentHeaders) {\r\n                    if(currentHeaders.hasOwnProperty(header)) {\r\n                        result[header] = currentHeaders[header];\r\n                    }\r\n                }\r\n            }\r\n    \r\n            // Return the merged headers.\r\n            return result;\r\n        };\r\n    \r\n        var ajax = function (method, url, options, callback) {\r\n            // Adjust parameters.\r\n            if(typeof options === 'function') {\r\n                callback = options;\r\n                options = {};\r\n            }\r\n    \r\n            // Set default parameter values.\r\n            options.cache = options.cache || false;\r\n            options.data = options.data || {};\r\n            options.headers = options.headers || {};\r\n            options.jsonp = options.jsonp || false;\r\n            options.async = options.async === undefined ? true : options.async;\r\n    \r\n            // Merge the various header objects.\r\n            var headers = mergeHeaders({\r\n                'accept': '*/*',\r\n                'content-type': 'application/x-www-form-urlencoded;charset=UTF-8'\r\n            }, ajax.headers, options.headers);\r\n    \r\n            // Encode the data according to the content-type.\r\n            var payload;\r\n            if (headers['content-type'] === 'application/json') {\r\n                payload = JSON.stringify(options.data);\r\n            } else {\r\n                payload = encodeUsingUrlEncoding(options.data);\r\n            }\r\n    \r\n            // Specially prepare GET requests: Setup the query string, handle caching and make a JSONP call\r\n            // if neccessary.\r\n            if(method === 'GET') {\r\n                // Setup the query string.\r\n                var queryString = [];\r\n                if(payload) {\r\n                    queryString.push(payload);\r\n                    payload = null;\r\n                }\r\n    \r\n                // Handle caching.\r\n                if(!options.cache) {\r\n                    queryString.push('_=' + (new Date()).getTime());\r\n                }\r\n    \r\n                // If neccessary prepare the query string for a JSONP call.\r\n                if(options.jsonp) {\r\n                    queryString.push('callback=' + options.jsonp);\r\n                    queryString.push('jsonp=' + options.jsonp);\r\n                }\r\n    \r\n                // Merge the query string and attach it to the url.\r\n                queryString = queryString.join('&');\r\n                if (queryString.length > 1) {\r\n                    if (url.indexOf('?') > -1) {\r\n                        url += '&' + queryString;\r\n                    } else {\r\n                        url += '?' + queryString;\r\n                    }\r\n                }\r\n    \r\n                // Make a JSONP call if neccessary.\r\n                if(options.jsonp) {\r\n                    var head = document.getElementsByTagName('head')[0];\r\n                    var script = document.createElement('script');\r\n                    script.type = 'text/javascript';\r\n                    script.src = url;\r\n                    head.appendChild(script);\r\n                    return;\r\n                }\r\n            }\r\n    \r\n            // Since we got here, it is no JSONP request, so make a normal XHR request.\r\n            getXhr(function (err, xhr) {\r\n                if(err) return callback(err);\r\n    \r\n                // Open the request.\r\n                xhr.open(method, url, options.async);\r\n    \r\n                // Set the request headers.\r\n                for(var header in headers) {\r\n                    if(headers.hasOwnProperty(header)) {\r\n                        xhr.setRequestHeader(header, headers[header]);\r\n                    }\r\n                }\r\n    \r\n                // Handle the request events.\r\n                xhr.onreadystatechange = function () {\r\n                    if(xhr.readyState === 4) {\r\n                        var data = xhr.responseText || '';\r\n    \r\n                        // If no callback is given, return.\r\n                        if(!callback) {\r\n                            return;\r\n                        }\r\n    \r\n                        // Return an object that provides access to the data as text and JSON.\r\n                        callback(xhr.status, {\r\n                            text: function () {\r\n                                return data;\r\n                            },\r\n    \r\n                            json: function () {\r\n                                try {\r\n                                    return JSON.parse(data)\r\n                                } catch (e) {\r\n                                    f.error('Can not parse JSON. URL: ' + url);\r\n                                    return {};\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n    \r\n                // Actually send the XHR request.\r\n                xhr.send(payload);\r\n            });\r\n        };\r\n    \r\n        // Define the external interface.\r\n        var http = {\r\n            authBasic: function (username, password) {\r\n                ajax.headers['Authorization'] = 'Basic ' + base64(username + ':' + password);\r\n            },\r\n    \r\n            connect: function (url, options, callback) {\r\n                return ajax('CONNECT', url, options, callback);\r\n            },\r\n    \r\n            del: function (url, options, callback) {\r\n                return ajax('DELETE', url, options, callback);\r\n            },\r\n    \r\n            get: function (url, options, callback) {\r\n                return ajax('GET', url, options, callback);\r\n            },\r\n    \r\n            head: function (url, options, callback) {\r\n                return ajax('HEAD', url, options, callback);\r\n            },\r\n    \r\n            headers: function (headers) {\r\n                ajax.headers = headers || {};\r\n            },\r\n    \r\n            isAllowed: function (url, verb, callback) {\r\n                this.options(url, function (status, data) {\r\n                    callback(data.text().indexOf(verb) !== -1);\r\n                });\r\n            },\r\n    \r\n            options: function (url, options, callback) {\r\n                return ajax('OPTIONS', url, options, callback);\r\n            },\r\n    \r\n            patch: function (url, options, callback) {\r\n                return ajax('PATCH', url, options, callback);\r\n            },\r\n    \r\n            post: function (url, options, callback) {\r\n                return ajax('POST', url, options, callback);\r\n            },\r\n    \r\n            put: function (url, options, callback) {\r\n                return ajax('PUT', url, options, callback);\r\n            },\r\n    \r\n            trace: function (url, options, callback) {\r\n                return ajax('TRACE', url, options, callback);\r\n            }\r\n        };\r\n    \r\n    \r\n        var methode = options.type ? options.type.toLowerCase() : 'get';\r\n    \r\n        http[methode](options.url, options, function (status, data) {\r\n            // file: protocol always gives status code 0, so check for data\r\n            if (status === 200 || (status === 0 && data.text())) {\r\n                options.success(data.json(), status, null);\r\n            } else {\r\n                options.error(data.text(), status, null);\r\n            }\r\n        });\r\n    }\r\n    \r\n    var _cookie = {\r\n        create: function(name,value,minutes,domain) {\r\n            var expires;\r\n            if (minutes) {\r\n                var date = new Date();\r\n                date.setTime(date.getTime()+(minutes*60*1000));\r\n                expires = \"; expires=\"+date.toGMTString();\r\n            }\r\n            else expires = \"\";\r\n            domain = (domain)? \"domain=\"+domain+\";\" : \"\";\r\n            document.cookie = name+\"=\"+value+expires+\";\"+domain+\"path=/\";\r\n        },\r\n    \r\n        read: function(name) {\r\n            var nameEQ = name + \"=\";\r\n            var ca = document.cookie.split(';');\r\n            for(var i=0;i < ca.length;i++) {\r\n                var c = ca[i];\r\n                while (c.charAt(0)==' ') c = c.substring(1,c.length);\r\n                if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length,c.length);\r\n            }\r\n            return null;\r\n        },\r\n    \r\n        remove: function(name) {\r\n            this.create(name,\"\",-1);\r\n        }\r\n    };\r\n    \r\n    var cookie_noop = {\r\n        create: function(name,value,minutes,domain) {},\r\n        read: function(name) { return null; },\r\n        remove: function(name) {}\r\n    };\r\n    \r\n    \r\n    \r\n    // move dependent functions to a container so that\r\n    // they can be overriden easier in no jquery environment (node.js)\r\n    var f = {\r\n        extend: $ ? $.extend : _extend,\r\n        deepExtend: _deepExtend,\r\n        each: $ ? $.each : _each,\r\n        ajax: $ ? $.ajax : (typeof document !== 'undefined' ? _ajax : function() {}),\r\n        cookie: typeof document !== 'undefined' ? _cookie : cookie_noop,\r\n        detectLanguage: detectLanguage,\r\n        escape: _escape,\r\n        log: function(str) {\r\n            if (o.debug && typeof console !== \"undefined\") console.log(str);\r\n        },\r\n        error: function(str) {\r\n            if (typeof console !== \"undefined\") console.error(str);\r\n        },\r\n        getCountyIndexOfLng: function(lng) {\r\n            var lng_index = 0;\r\n            if (lng === 'nb-NO' || lng === 'nn-NO' || lng === 'nb-no' || lng === 'nn-no') lng_index = 1;\r\n            return lng_index;\r\n        },\r\n        toLanguages: function(lng, fallbackLng) {\r\n            var log = this.log;\r\n    \r\n            fallbackLng = fallbackLng || o.fallbackLng;\r\n            if (typeof fallbackLng === 'string')\r\n                fallbackLng = [fallbackLng];\r\n    \r\n            function applyCase(l) {\r\n                var ret = l;\r\n    \r\n                if (typeof l === 'string' && l.indexOf('-') > -1) {\r\n                    var parts = l.split('-');\r\n    \r\n                    ret = o.lowerCaseLng ?\r\n                        parts[0].toLowerCase() +  '-' + parts[1].toLowerCase() :\r\n                        parts[0].toLowerCase() +  '-' + parts[1].toUpperCase();\r\n                } else {\r\n                    ret = o.lowerCaseLng ? l.toLowerCase() : l;\r\n                }\r\n    \r\n                return ret;\r\n            }\r\n    \r\n            var languages = [];\r\n            var whitelist = o.lngWhitelist || false;\r\n            var addLanguage = function(language){\r\n              //reject langs not whitelisted\r\n              if(!whitelist || whitelist.indexOf(language) > -1){\r\n                languages.push(language);\r\n              }else{\r\n                log('rejecting non-whitelisted language: ' + language);\r\n              }\r\n            };\r\n            if (typeof lng === 'string' && lng.indexOf('-') > -1) {\r\n                var parts = lng.split('-');\r\n    \r\n                if (o.load !== 'unspecific') addLanguage(applyCase(lng));\r\n                if (o.load !== 'current') addLanguage(applyCase(parts[this.getCountyIndexOfLng(lng)]));\r\n            } else {\r\n                addLanguage(applyCase(lng));\r\n            }\r\n    \r\n            for (var i = 0; i < fallbackLng.length; i++) {\r\n                if (languages.indexOf(fallbackLng[i]) === -1 && fallbackLng[i]) languages.push(applyCase(fallbackLng[i]));\r\n            }\r\n            return languages;\r\n        },\r\n        regexEscape: function(str) {\r\n            return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\r\n        },\r\n        regexReplacementEscape: function(strOrFn) {\r\n            if (typeof strOrFn === 'string') {\r\n                return strOrFn.replace(/\\$/g, \"$$$$\");\r\n            } else {\r\n                return strOrFn;\r\n            }\r\n        },\r\n        localStorage: {\r\n            setItem: function(key, value) {\r\n                if (window.localStorage) {\r\n                    try {\r\n                        window.localStorage.setItem(key, value);\r\n                    } catch (e) {\r\n                        f.log('failed to set value for key \"' + key + '\" to localStorage.');\r\n                    }\r\n                }\r\n            },\r\n            getItem: function(key, value) {\r\n                if (window.localStorage) {\r\n                    try {\r\n                        return window.localStorage.getItem(key, value);\r\n                    } catch (e) {\r\n                        f.log('failed to get value for key \"' + key + '\" from localStorage.');\r\n                        return undefined;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    function init(options, cb) {\r\n    \r\n        if (typeof options === 'function') {\r\n            cb = options;\r\n            options = {};\r\n        }\r\n        options = options || {};\r\n    \r\n        // override defaults with passed in options\r\n        f.extend(o, options);\r\n        delete o.fixLng; /* passed in each time */\r\n    \r\n        // override functions: .log(), .detectLanguage(), etc\r\n        if (o.functions) {\r\n            delete o.functions;\r\n            f.extend(f, options.functions);\r\n        }\r\n    \r\n        // create namespace object if namespace is passed in as string\r\n        if (typeof o.ns == 'string') {\r\n            o.ns = { namespaces: [o.ns], defaultNs: o.ns};\r\n        }\r\n    \r\n        // fallback namespaces\r\n        if (typeof o.fallbackNS == 'string') {\r\n            o.fallbackNS = [o.fallbackNS];\r\n        }\r\n    \r\n        // fallback languages\r\n        if (typeof o.fallbackLng == 'string' || typeof o.fallbackLng == 'boolean') {\r\n            o.fallbackLng = [o.fallbackLng];\r\n        }\r\n    \r\n        // escape prefix/suffix\r\n        o.interpolationPrefixEscaped = f.regexEscape(o.interpolationPrefix);\r\n        o.interpolationSuffixEscaped = f.regexEscape(o.interpolationSuffix);\r\n    \r\n        if (!o.lng) o.lng = f.detectLanguage();\r\n    \r\n        languages = f.toLanguages(o.lng);\r\n        currentLng = languages[0];\r\n        f.log('currentLng set to: ' + currentLng);\r\n    \r\n        if (o.useCookie && f.cookie.read(o.cookieName) !== currentLng){ //cookie is unset or invalid\r\n            f.cookie.create(o.cookieName, currentLng, o.cookieExpirationTime, o.cookieDomain);\r\n        }\r\n        if (o.detectLngFromLocalStorage && typeof document !== 'undefined' && window.localStorage) {\r\n            f.localStorage.setItem('i18next_lng', currentLng);\r\n        }\r\n    \r\n        var lngTranslate = translate;\r\n        if (options.fixLng) {\r\n            lngTranslate = function(key, options) {\r\n                options = options || {};\r\n                options.lng = options.lng || lngTranslate.lng;\r\n                return translate(key, options);\r\n            };\r\n            lngTranslate.lng = currentLng;\r\n        }\r\n    \r\n        pluralExtensions.setCurrentLng(currentLng);\r\n    \r\n        // add JQuery extensions\r\n        if ($ && o.setJqueryExt) {\r\n            addJqueryFunct && addJqueryFunct();\r\n        } else {\r\n           addJqueryLikeFunctionality && addJqueryLikeFunctionality();\r\n        }\r\n    \r\n        // jQuery deferred\r\n        var deferred;\r\n        if ($ && $.Deferred) {\r\n            deferred = $.Deferred();\r\n        }\r\n    \r\n        // return immidiatly if res are passed in\r\n        if (o.resStore) {\r\n            resStore = o.resStore;\r\n            initialized = true;\r\n            if (cb) cb(lngTranslate);\r\n            if (deferred) deferred.resolve(lngTranslate);\r\n            if (deferred) return deferred.promise();\r\n            return;\r\n        }\r\n    \r\n        // languages to load\r\n        var lngsToLoad = f.toLanguages(o.lng);\r\n        if (typeof o.preload === 'string') o.preload = [o.preload];\r\n        for (var i = 0, l = o.preload.length; i < l; i++) {\r\n            var pres = f.toLanguages(o.preload[i]);\r\n            for (var y = 0, len = pres.length; y < len; y++) {\r\n                if (lngsToLoad.indexOf(pres[y]) < 0) {\r\n                    lngsToLoad.push(pres[y]);\r\n                }\r\n            }\r\n        }\r\n    \r\n        // else load them\r\n        i18n.sync.load(lngsToLoad, o, function(err, store) {\r\n            resStore = store;\r\n            initialized = true;\r\n    \r\n            if (cb) cb(err, lngTranslate);\r\n            if (deferred) (!err ? deferred.resolve : deferred.reject)(err || lngTranslate);\r\n        });\r\n    \r\n        if (deferred) return deferred.promise();\r\n    }\r\n    \r\n    function isInitialized() {\r\n        return initialized;\r\n    }\r\n    function preload(lngs, cb) {\r\n        if (typeof lngs === 'string') lngs = [lngs];\r\n        for (var i = 0, l = lngs.length; i < l; i++) {\r\n            if (o.preload.indexOf(lngs[i]) < 0) {\r\n                o.preload.push(lngs[i]);\r\n            }\r\n        }\r\n        return init(cb);\r\n    }\r\n    \r\n    function addResourceBundle(lng, ns, resources, deep) {\r\n        if (typeof ns !== 'string') {\r\n            resources = ns;\r\n            ns = o.ns.defaultNs;\r\n        } else if (o.ns.namespaces.indexOf(ns) < 0) {\r\n            o.ns.namespaces.push(ns);\r\n        }\r\n    \r\n        resStore[lng] = resStore[lng] || {};\r\n        resStore[lng][ns] = resStore[lng][ns] || {};\r\n    \r\n        if (deep) {\r\n            f.deepExtend(resStore[lng][ns], resources);\r\n        } else {\r\n            f.extend(resStore[lng][ns], resources);\r\n        }\r\n        if (o.useLocalStorage) {\r\n            sync._storeLocal(resStore);\r\n        }\r\n    }\r\n    \r\n    function hasResourceBundle(lng, ns) {\r\n        if (typeof ns !== 'string') {\r\n            ns = o.ns.defaultNs;\r\n        }\r\n    \r\n        resStore[lng] = resStore[lng] || {};\r\n        var res = resStore[lng][ns] || {};\r\n    \r\n        var hasValues = false;\r\n        for(var prop in res) {\r\n            if (res.hasOwnProperty(prop)) {\r\n                hasValues = true;\r\n            }\r\n        }\r\n    \r\n        return hasValues;\r\n    }\r\n    \r\n    function getResourceBundle(lng, ns) {\r\n        if (typeof ns !== 'string') {\r\n            ns = o.ns.defaultNs;\r\n        }\r\n    \r\n        resStore[lng] = resStore[lng] || {};\r\n        return f.extend({}, resStore[lng][ns]);\r\n    }\r\n    \r\n    function removeResourceBundle(lng, ns) {\r\n        if (typeof ns !== 'string') {\r\n            ns = o.ns.defaultNs;\r\n        }\r\n    \r\n        resStore[lng] = resStore[lng] || {};\r\n        resStore[lng][ns] = {};\r\n        if (o.useLocalStorage) {\r\n            sync._storeLocal(resStore);\r\n        }\r\n    }\r\n    \r\n    function addResource(lng, ns, key, value) {\r\n        if (typeof ns !== 'string') {\r\n            resource = ns;\r\n            ns = o.ns.defaultNs;\r\n        } else if (o.ns.namespaces.indexOf(ns) < 0) {\r\n            o.ns.namespaces.push(ns);\r\n        }\r\n    \r\n        resStore[lng] = resStore[lng] || {};\r\n        resStore[lng][ns] = resStore[lng][ns] || {};\r\n    \r\n        var keys = key.split(o.keyseparator);\r\n        var x = 0;\r\n        var node = resStore[lng][ns];\r\n        var origRef = node;\r\n    \r\n        while (keys[x]) {\r\n            if (x == keys.length - 1)\r\n                node[keys[x]] = value;\r\n            else {\r\n                if (node[keys[x]] == null)\r\n                    node[keys[x]] = {};\r\n    \r\n                node = node[keys[x]];\r\n            }\r\n            x++;\r\n        }\r\n        if (o.useLocalStorage) {\r\n            sync._storeLocal(resStore);\r\n        }\r\n    }\r\n    \r\n    function addResources(lng, ns, resources) {\r\n        if (typeof ns !== 'string') {\r\n            resource = ns;\r\n            ns = o.ns.defaultNs;\r\n        } else if (o.ns.namespaces.indexOf(ns) < 0) {\r\n            o.ns.namespaces.push(ns);\r\n        }\r\n    \r\n        for (var m in resources) {\r\n            if (typeof resources[m] === 'string') addResource(lng, ns, m, resources[m]);\r\n        }\r\n    }\r\n    \r\n    function setDefaultNamespace(ns) {\r\n        o.ns.defaultNs = ns;\r\n    }\r\n    \r\n    function loadNamespace(namespace, cb) {\r\n        loadNamespaces([namespace], cb);\r\n    }\r\n    \r\n    function loadNamespaces(namespaces, cb) {\r\n        var opts = {\r\n            dynamicLoad: o.dynamicLoad,\r\n            resGetPath: o.resGetPath,\r\n            getAsync: o.getAsync,\r\n            customLoad: o.customLoad,\r\n            ns: { namespaces: namespaces, defaultNs: ''} /* new namespaces to load */\r\n        };\r\n    \r\n        // languages to load\r\n        var lngsToLoad = f.toLanguages(o.lng);\r\n        if (typeof o.preload === 'string') o.preload = [o.preload];\r\n        for (var i = 0, l = o.preload.length; i < l; i++) {\r\n            var pres = f.toLanguages(o.preload[i]);\r\n            for (var y = 0, len = pres.length; y < len; y++) {\r\n                if (lngsToLoad.indexOf(pres[y]) < 0) {\r\n                    lngsToLoad.push(pres[y]);\r\n                }\r\n            }\r\n        }\r\n    \r\n        // check if we have to load\r\n        var lngNeedLoad = [];\r\n        for (var a = 0, lenA = lngsToLoad.length; a < lenA; a++) {\r\n            var needLoad = false;\r\n            var resSet = resStore[lngsToLoad[a]];\r\n            if (resSet) {\r\n                for (var b = 0, lenB = namespaces.length; b < lenB; b++) {\r\n                    if (!resSet[namespaces[b]]) needLoad = true;\r\n                }\r\n            } else {\r\n                needLoad = true;\r\n            }\r\n    \r\n            if (needLoad) lngNeedLoad.push(lngsToLoad[a]);\r\n        }\r\n    \r\n        if (lngNeedLoad.length) {\r\n            i18n.sync._fetch(lngNeedLoad, opts, function(err, store) {\r\n                var todo = namespaces.length * lngNeedLoad.length;\r\n    \r\n                // load each file individual\r\n                f.each(namespaces, function(nsIndex, nsValue) {\r\n    \r\n                    // append namespace to namespace array\r\n                    if (o.ns.namespaces.indexOf(nsValue) < 0) {\r\n                        o.ns.namespaces.push(nsValue);\r\n                    }\r\n    \r\n                    f.each(lngNeedLoad, function(lngIndex, lngValue) {\r\n                        resStore[lngValue] = resStore[lngValue] || {};\r\n                        resStore[lngValue][nsValue] = store[lngValue][nsValue];\r\n    \r\n                        todo--; // wait for all done befor callback\r\n                        if (todo === 0 && cb) {\r\n                            if (o.useLocalStorage) i18n.sync._storeLocal(resStore);\r\n                            cb();\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        } else {\r\n            if (cb) cb();\r\n        }\r\n    }\r\n    \r\n    function setLng(lng, options, cb) {\r\n        if (typeof options === 'function') {\r\n            cb = options;\r\n            options = {};\r\n        } else if (!options) {\r\n            options = {};\r\n        }\r\n    \r\n        options.lng = lng;\r\n        return init(options, cb);\r\n    }\r\n    \r\n    function lng() {\r\n        return currentLng;\r\n    }\r\n    \r\n    function reload(cb) {\r\n        resStore = {};\r\n        setLng(currentLng, cb);\r\n    }\r\n    \r\n    function noConflict() {\r\n        \r\n        window.i18next = window.i18n;\r\n    \r\n        if (conflictReference) {\r\n            window.i18n = conflictReference;\r\n        } else {\r\n            delete window.i18n;\r\n        }\r\n    }\r\n    function addJqueryFunct() {\r\n        // $.t shortcut\r\n        $.t = $.t || translate;\r\n    \r\n        function parse(ele, key, options) {\r\n            if (key.length === 0) return;\r\n    \r\n            var attr = 'text';\r\n    \r\n            if (key.indexOf('[') === 0) {\r\n                var parts = key.split(']');\r\n                key = parts[1];\r\n                attr = parts[0].substr(1, parts[0].length-1);\r\n            }\r\n    \r\n            if (key.indexOf(';') === key.length-1) {\r\n                key = key.substr(0, key.length-2);\r\n            }\r\n    \r\n            var optionsToUse;\r\n            if (attr === 'html') {\r\n                optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.html() }, options) : options;\r\n                ele.html($.t(key, optionsToUse));\r\n            } else if (attr === 'text') {\r\n                optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.text() }, options) : options;\r\n                ele.text($.t(key, optionsToUse));\r\n            } else if (attr === 'prepend') {\r\n                optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.html() }, options) : options;\r\n                ele.prepend($.t(key, optionsToUse));\r\n            } else if (attr === 'append') {\r\n                optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.html() }, options) : options;\r\n                ele.append($.t(key, optionsToUse));\r\n            } else if (attr.indexOf(\"data-\") === 0) {\r\n                var dataAttr = attr.substr((\"data-\").length);\r\n                optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.data(dataAttr) }, options) : options;\r\n                var translated = $.t(key, optionsToUse);\r\n                //we change into the data cache\r\n                ele.data(dataAttr, translated);\r\n                //we change into the dom\r\n                ele.attr(attr, translated);\r\n            } else {\r\n                optionsToUse = o.defaultValueFromContent ? $.extend({ defaultValue: ele.attr(attr) }, options) : options;\r\n                ele.attr(attr, $.t(key, optionsToUse));\r\n            }\r\n        }\r\n    \r\n        function localize(ele, options) {\r\n            var key = ele.attr(o.selectorAttr);\r\n            if (!key && typeof key !== 'undefined' && key !== false) key = ele.text() || ele.val();\r\n            if (!key) return;\r\n    \r\n            var target = ele\r\n              , targetSelector = ele.data(\"i18n-target\");\r\n            if (targetSelector) {\r\n                target = ele.find(targetSelector) || ele;\r\n            }\r\n    \r\n            if (!options && o.useDataAttrOptions === true) {\r\n                options = ele.data(\"i18n-options\");\r\n            }\r\n            options = options || {};\r\n    \r\n            if (key.indexOf(';') >= 0) {\r\n                var keys = key.split(';');\r\n    \r\n                $.each(keys, function(m, k) {\r\n                    if (k !== '') parse(target, k, options);\r\n                });\r\n    \r\n            } else {\r\n                parse(target, key, options);\r\n            }\r\n    \r\n            if (o.useDataAttrOptions === true) ele.data(\"i18n-options\", options);\r\n        }\r\n    \r\n        // fn\r\n        $.fn.i18n = function (options) {\r\n            return this.each(function() {\r\n                // localize element itself\r\n                localize($(this), options);\r\n    \r\n                // localize childs\r\n                var elements =  $(this).find('[' + o.selectorAttr + ']');\r\n                elements.each(function() { \r\n                    localize($(this), options);\r\n                });\r\n            });\r\n        };\r\n    }\r\n    function addJqueryLikeFunctionality() {\r\n    \r\n        function parse(ele, key, options) {\r\n            if (key.length === 0) return;\r\n    \r\n            var attr = 'text';\r\n    \r\n            if (key.indexOf('[') === 0) {\r\n                var parts = key.split(']');\r\n                key = parts[1];\r\n                attr = parts[0].substr(1, parts[0].length-1);\r\n            }\r\n    \r\n            if (key.indexOf(';') === key.length-1) {\r\n                key = key.substr(0, key.length-2);\r\n            }\r\n    \r\n            if (attr === 'html') {\r\n                ele.innerHTML = translate(key, options);\r\n            } else if (attr === 'text') {\r\n                ele.textContent = translate(key, options);\r\n            } else if (attr === 'prepend') {\r\n                ele.insertAdjacentHTML(translate(key, options), 'afterbegin');\r\n            } else if (attr === 'append') {\r\n                ele.insertAdjacentHTML(translate(key, options), 'beforeend');\r\n            } else {\r\n                ele.setAttribute(attr, translate(key, options));\r\n            }\r\n        }\r\n    \r\n        function localize(ele, options) {\r\n            var key = ele.getAttribute(o.selectorAttr);\r\n            if (!key && typeof key !== 'undefined' && key !== false) key = ele.textContent || ele.value;\r\n            if (!key) return;\r\n    \r\n            var target = ele\r\n              , targetSelector = ele.getAttribute(\"i18n-target\");\r\n            if (targetSelector) {\r\n                target = ele.querySelector(targetSelector) || ele;\r\n            }\r\n            \r\n            if (key.indexOf(';') >= 0) {\r\n                var keys = key.split(';'), index = 0, length = keys.length;\r\n                \r\n                for ( ; index < length; index++) {\r\n                    if (keys[index] !== '') parse(target, keys[index], options);\r\n                }\r\n    \r\n            } else {\r\n                parse(target, key, options);\r\n            }\r\n        }\r\n    \r\n        // fn\r\n        i18n.translateObject = function (object, options) {\r\n            // localize childs\r\n            var elements =  object.querySelectorAll('[' + o.selectorAttr + ']');\r\n            var index = 0, length = elements.length;\r\n            for ( ; index < length; index++) {\r\n                localize(elements[index], options);\r\n            }\r\n        };\r\n    }\r\n    function applyReplacement(str, replacementHash, nestedKey, options) {\r\n        if (!str) return str;\r\n    \r\n        options = options || replacementHash; // first call uses replacement hash combined with options\r\n        if (str.indexOf(options.interpolationPrefix || o.interpolationPrefix) < 0) return str;\r\n    \r\n        var prefix = options.interpolationPrefix ? f.regexEscape(options.interpolationPrefix) : o.interpolationPrefixEscaped\r\n          , suffix = options.interpolationSuffix ? f.regexEscape(options.interpolationSuffix) : o.interpolationSuffixEscaped\r\n          , unEscapingSuffix = 'HTML'+suffix;\r\n    \r\n        var hash = replacementHash.replace && typeof replacementHash.replace === 'object' ? replacementHash.replace : replacementHash;\r\n        f.each(hash, function(key, value) {\r\n            var nextKey = nestedKey ? nestedKey + o.keyseparator + key : key;\r\n            if (typeof value === 'object' && value !== null) {\r\n                str = applyReplacement(str, value, nextKey, options);\r\n            } else {\r\n                if (options.escapeInterpolation || o.escapeInterpolation) {\r\n                    str = str.replace(new RegExp([prefix, nextKey, unEscapingSuffix].join(''), 'g'), f.regexReplacementEscape(value));\r\n                    str = str.replace(new RegExp([prefix, nextKey, suffix].join(''), 'g'), f.regexReplacementEscape(f.escape(value)));\r\n                } else {\r\n                    str = str.replace(new RegExp([prefix, nextKey, suffix].join(''), 'g'), f.regexReplacementEscape(value));\r\n                }\r\n                // str = options.escapeInterpolation;\r\n            }\r\n        });\r\n        return str;\r\n    }\r\n    \r\n    // append it to functions\r\n    f.applyReplacement = applyReplacement;\r\n    \r\n    function applyReuse(translated, options) {\r\n        var comma = ',';\r\n        var options_open = '{';\r\n        var options_close = '}';\r\n    \r\n        var opts = f.extend({}, options);\r\n        delete opts.postProcess;\r\n    \r\n        while (translated.indexOf(o.reusePrefix) != -1) {\r\n            replacementCounter++;\r\n            if (replacementCounter > o.maxRecursion) { break; } // safety net for too much recursion\r\n            var index_of_opening = translated.lastIndexOf(o.reusePrefix);\r\n            var index_of_end_of_closing = translated.indexOf(o.reuseSuffix, index_of_opening) + o.reuseSuffix.length;\r\n            var token = translated.substring(index_of_opening, index_of_end_of_closing);\r\n            var token_without_symbols = token.replace(o.reusePrefix, '').replace(o.reuseSuffix, '');\r\n    \r\n            if (index_of_end_of_closing <= index_of_opening) {\r\n                f.error('there is an missing closing in following translation value', translated);\r\n                return '';\r\n            }\r\n    \r\n            if (token_without_symbols.indexOf(comma) != -1) {\r\n                var index_of_token_end_of_closing = token_without_symbols.indexOf(comma);\r\n                if (token_without_symbols.indexOf(options_open, index_of_token_end_of_closing) != -1 && token_without_symbols.indexOf(options_close, index_of_token_end_of_closing) != -1) {\r\n                    var index_of_opts_opening = token_without_symbols.indexOf(options_open, index_of_token_end_of_closing);\r\n                    var index_of_opts_end_of_closing = token_without_symbols.indexOf(options_close, index_of_opts_opening) + options_close.length;\r\n                    try {\r\n                        opts = f.extend(opts, JSON.parse(token_without_symbols.substring(index_of_opts_opening, index_of_opts_end_of_closing)));\r\n                        token_without_symbols = token_without_symbols.substring(0, index_of_token_end_of_closing);\r\n                    } catch (e) {\r\n                    }\r\n                }\r\n            }\r\n    \r\n            var translated_token = _translate(token_without_symbols, opts);\r\n            translated = translated.replace(token, f.regexReplacementEscape(translated_token));\r\n        }\r\n        return translated;\r\n    }\r\n    \r\n    function hasContext(options) {\r\n        return (options.context && (typeof options.context == 'string' || typeof options.context == 'number'));\r\n    }\r\n    \r\n    function needsPlural(options, lng) {\r\n        return (options.count !== undefined && typeof options.count != 'string'/* && pluralExtensions.needsPlural(lng, options.count)*/);\r\n    }\r\n    \r\n    function needsIndefiniteArticle(options) {\r\n        return (options.indefinite_article !== undefined && typeof options.indefinite_article != 'string' && options.indefinite_article);\r\n    }\r\n    \r\n    function exists(key, options) {\r\n        options = options || {};\r\n    \r\n        var notFound = _getDefaultValue(key, options)\r\n            , found = _find(key, options);\r\n    \r\n        return found !== undefined || found === notFound;\r\n    }\r\n    \r\n    function translate(key, options) {\r\n        options = options || {};\r\n    \r\n        if (!initialized) {\r\n            f.log('i18next not finished initialization. you might have called t function before loading resources finished.')\r\n            return options.defaultValue || '';\r\n        };\r\n        replacementCounter = 0;\r\n        return _translate.apply(null, arguments);\r\n    }\r\n    \r\n    function _getDefaultValue(key, options) {\r\n        return (options.defaultValue !== undefined) ? options.defaultValue : key;\r\n    }\r\n    \r\n    function _injectSprintfProcessor() {\r\n    \r\n        var values = [];\r\n    \r\n        // mh: build array from second argument onwards\r\n        for (var i = 1; i < arguments.length; i++) {\r\n            values.push(arguments[i]);\r\n        }\r\n    \r\n        return {\r\n            postProcess: 'sprintf',\r\n            sprintf:     values\r\n        };\r\n    }\r\n    \r\n    function _translate(potentialKeys, options) {\r\n        if (options && typeof options !== 'object') {\r\n            if (o.shortcutFunction === 'sprintf') {\r\n                // mh: gettext like sprintf syntax found, automatically create sprintf processor\r\n                options = _injectSprintfProcessor.apply(null, arguments);\r\n            } else if (o.shortcutFunction === 'defaultValue') {\r\n                options = {\r\n                    defaultValue: options\r\n                }\r\n            }\r\n        } else {\r\n            options = options || {};\r\n        }\r\n    \r\n        if (typeof o.defaultVariables === 'object') {\r\n            options = f.extend({}, o.defaultVariables, options);\r\n        }\r\n    \r\n        if (potentialKeys === undefined || potentialKeys === null || potentialKeys === '') return '';\r\n    \r\n        if (typeof potentialKeys === 'number') {\r\n            potentialKeys = String(potentialKeys);\r\n        }\r\n    \r\n        if (typeof potentialKeys === 'string') {\r\n            potentialKeys = [potentialKeys];\r\n        }\r\n    \r\n        var key = potentialKeys[0];\r\n    \r\n        if (potentialKeys.length > 1) {\r\n            for (var i = 0; i < potentialKeys.length; i++) {\r\n                key = potentialKeys[i];\r\n                if (exists(key, options)) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        var notFound = _getDefaultValue(key, options)\r\n            , found = _find(key, options)\r\n            , lngs = options.lng ? f.toLanguages(options.lng, options.fallbackLng) : languages\r\n            , ns = options.ns || o.ns.defaultNs\r\n            , parts;\r\n    \r\n        // split ns and key\r\n        if (key.indexOf(o.nsseparator) > -1) {\r\n            parts = key.split(o.nsseparator);\r\n            ns = parts[0];\r\n            key = parts[1];\r\n        }\r\n    \r\n        if (found === undefined && o.sendMissing && typeof o.missingKeyHandler === 'function') {\r\n            if (options.lng) {\r\n                o.missingKeyHandler(lngs[0], ns, key, notFound, lngs);\r\n            } else {\r\n                o.missingKeyHandler(o.lng, ns, key, notFound, lngs);\r\n            }\r\n        }\r\n    \r\n        var postProcessorsToApply;\r\n        if (typeof o.postProcess === 'string' && o.postProcess !== '') {\r\n            postProcessorsToApply = [o.postProcess];\r\n        } else if (typeof o.postProcess === 'array' || typeof o.postProcess === 'object') {\r\n            postProcessorsToApply = o.postProcess;\r\n        } else {\r\n            postProcessorsToApply = [];\r\n        }\r\n    \r\n        if (typeof options.postProcess === 'string' && options.postProcess !== '') {\r\n            postProcessorsToApply = postProcessorsToApply.concat([options.postProcess]);\r\n        } else if (typeof options.postProcess === 'array' || typeof options.postProcess === 'object') {\r\n            postProcessorsToApply = postProcessorsToApply.concat(options.postProcess);\r\n        }\r\n    \r\n        if (found !== undefined && postProcessorsToApply.length) {\r\n            postProcessorsToApply.forEach(function(postProcessor) {\r\n                if (postProcessors[postProcessor]) {\r\n                    found = postProcessors[postProcessor](found, key, options);\r\n                }\r\n            });\r\n        }\r\n    \r\n        // process notFound if function exists\r\n        var splitNotFound = notFound;\r\n        if (notFound.indexOf(o.nsseparator) > -1) {\r\n            parts = notFound.split(o.nsseparator);\r\n            splitNotFound = parts[1];\r\n        }\r\n        if (splitNotFound === key && o.parseMissingKey) {\r\n            notFound = o.parseMissingKey(notFound);\r\n        }\r\n    \r\n        if (found === undefined) {\r\n            notFound = applyReplacement(notFound, options);\r\n            notFound = applyReuse(notFound, options);\r\n    \r\n            if (postProcessorsToApply.length) {\r\n                var val = _getDefaultValue(key, options);\r\n                postProcessorsToApply.forEach(function(postProcessor) {\r\n                    if (postProcessors[postProcessor]) {\r\n                        found = postProcessors[postProcessor](val, key, options);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        return (found !== undefined) ? found : notFound;\r\n    }\r\n    \r\n    function _find(key, options) {\r\n        options = options || {};\r\n    \r\n        var optionWithoutCount, translated\r\n            , notFound = _getDefaultValue(key, options)\r\n            , lngs = languages;\r\n    \r\n        if (!resStore) { return notFound; } // no resStore to translate from\r\n    \r\n        // CI mode\r\n        if (lngs[0].toLowerCase() === 'cimode') return notFound;\r\n    \r\n        // passed in lng\r\n        if (options.lngs) lngs = options.lngs;\r\n        if (options.lng) {\r\n            lngs = f.toLanguages(options.lng, options.fallbackLng);\r\n    \r\n            if (!resStore[lngs[0]]) {\r\n                var oldAsync = o.getAsync;\r\n                o.getAsync = false;\r\n    \r\n                i18n.sync.load(lngs, o, function(err, store) {\r\n                    f.extend(resStore, store);\r\n                    o.getAsync = oldAsync;\r\n                });\r\n            }\r\n        }\r\n    \r\n        var ns = options.ns || o.ns.defaultNs;\r\n        if (key.indexOf(o.nsseparator) > -1) {\r\n            var parts = key.split(o.nsseparator);\r\n            ns = parts[0];\r\n            key = parts[1];\r\n        }\r\n    \r\n        if (hasContext(options)) {\r\n            optionWithoutCount = f.extend({}, options);\r\n            delete optionWithoutCount.context;\r\n            optionWithoutCount.defaultValue = o.contextNotFound;\r\n    \r\n            var contextKey = ns + o.nsseparator + key + '_' + options.context;\r\n    \r\n            translated = translate(contextKey, optionWithoutCount);\r\n            if (translated != o.contextNotFound) {\r\n                return applyReplacement(translated, { context: options.context }); // apply replacement for context only\r\n            } // else continue translation with original/nonContext key\r\n        }\r\n    \r\n        if (needsPlural(options, lngs[0])) {\r\n            optionWithoutCount = f.extend({ lngs: [lngs[0]]}, options);\r\n            delete optionWithoutCount.count;\r\n            optionWithoutCount._origLng = optionWithoutCount._origLng || optionWithoutCount.lng || lngs[0];\r\n            delete optionWithoutCount.lng;\r\n            optionWithoutCount.defaultValue = o.pluralNotFound;\r\n    \r\n            var pluralKey;\r\n            if (!pluralExtensions.needsPlural(lngs[0], options.count)) {\r\n                pluralKey = ns + o.nsseparator + key;\r\n            } else {\r\n                pluralKey = ns + o.nsseparator + key + o.pluralSuffix;\r\n                var pluralExtension = pluralExtensions.get(lngs[0], options.count);\r\n                if (pluralExtension >= 0) {\r\n                    pluralKey = pluralKey + '_' + pluralExtension;\r\n                } else if (pluralExtension === 1) {\r\n                    pluralKey = ns + o.nsseparator + key; // singular\r\n                }\r\n            }\r\n    \r\n            translated = translate(pluralKey, optionWithoutCount);\r\n    \r\n            if (translated != o.pluralNotFound) {\r\n                return applyReplacement(translated, {\r\n                    count: options.count,\r\n                    interpolationPrefix: options.interpolationPrefix,\r\n                    interpolationSuffix: options.interpolationSuffix\r\n                }); // apply replacement for count only\r\n            } else if (lngs.length > 1) {\r\n                // remove failed lng\r\n                var clone = lngs.slice();\r\n                clone.shift();\r\n                options = f.extend(options, { lngs: clone });\r\n                options._origLng = optionWithoutCount._origLng;\r\n                delete options.lng;\r\n                // retry with fallbacks\r\n                translated = translate(ns + o.nsseparator + key, options);\r\n                if (translated != o.pluralNotFound) return translated;\r\n            } else {\r\n                optionWithoutCount.lng = optionWithoutCount._origLng;\r\n                delete optionWithoutCount._origLng;\r\n                translated = translate(ns + o.nsseparator + key, optionWithoutCount);\r\n    \r\n                return applyReplacement(translated, {\r\n                    count: options.count,\r\n                    interpolationPrefix: options.interpolationPrefix,\r\n                    interpolationSuffix: options.interpolationSuffix\r\n                });\r\n            }\r\n        }\r\n    \r\n        if (needsIndefiniteArticle(options)) {\r\n            var optionsWithoutIndef = f.extend({}, options);\r\n            delete optionsWithoutIndef.indefinite_article;\r\n            optionsWithoutIndef.defaultValue = o.indefiniteNotFound;\r\n            // If we don't have a count, we want the indefinite, if we do have a count, and needsPlural is false\r\n            var indefiniteKey = ns + o.nsseparator + key + (((options.count && !needsPlural(options, lngs[0])) || !options.count) ? o.indefiniteSuffix : \"\");\r\n            translated = translate(indefiniteKey, optionsWithoutIndef);\r\n            if (translated != o.indefiniteNotFound) {\r\n                return translated;\r\n            }\r\n        }\r\n    \r\n        var found;\r\n        var keys = key.split(o.keyseparator);\r\n        for (var i = 0, len = lngs.length; i < len; i++ ) {\r\n            if (found !== undefined) break;\r\n    \r\n            var l = lngs[i];\r\n    \r\n            var x = 0;\r\n            var value = resStore[l] && resStore[l][ns];\r\n            while (keys[x]) {\r\n                value = value && value[keys[x]];\r\n                x++;\r\n            }\r\n            if (value !== undefined && (!o.showKeyIfEmpty || value !== '')) {\r\n                var valueType = Object.prototype.toString.apply(value);\r\n                if (typeof value === 'string') {\r\n                    value = applyReplacement(value, options);\r\n                    value = applyReuse(value, options);\r\n                } else if (valueType === '[object Array]' && !o.returnObjectTrees && !options.returnObjectTrees) {\r\n                    value = value.join('\\n');\r\n                    value = applyReplacement(value, options);\r\n                    value = applyReuse(value, options);\r\n                } else if (value === null && o.fallbackOnNull === true) {\r\n                    value = undefined;\r\n                } else if (value !== null) {\r\n                    if (!o.returnObjectTrees && !options.returnObjectTrees) {\r\n                        if (o.objectTreeKeyHandler && typeof o.objectTreeKeyHandler == 'function') {\r\n                            value = o.objectTreeKeyHandler(key, value, l, ns, options);\r\n                        } else {\r\n                            value = 'key \\'' + ns + ':' + key + ' (' + l + ')\\' ' +\r\n                                'returned an object instead of string.';\r\n                            f.log(value);\r\n                        }\r\n                    } else if (valueType !== '[object Number]' && valueType !== '[object Function]' && valueType !== '[object RegExp]') {\r\n                        var copy = (valueType === '[object Array]') ? [] : {}; // apply child translation on a copy\r\n                        f.each(value, function(m) {\r\n                            copy[m] = _translate(ns + o.nsseparator + key + o.keyseparator + m, options);\r\n                        });\r\n                        value = copy;\r\n                    }\r\n                }\r\n    \r\n                if (typeof value === 'string' && value.trim() === '' && o.fallbackOnEmpty === true)\r\n                    value = undefined;\r\n    \r\n                found = value;\r\n            }\r\n        }\r\n    \r\n        if (found === undefined && !options.isFallbackLookup && (o.fallbackToDefaultNS === true || (o.fallbackNS && o.fallbackNS.length > 0))) {\r\n            // set flag for fallback lookup - avoid recursion\r\n            options.isFallbackLookup = true;\r\n    \r\n            if (o.fallbackNS.length) {\r\n    \r\n                for (var y = 0, lenY = o.fallbackNS.length; y < lenY; y++) {\r\n                    found = _find(o.fallbackNS[y] + o.nsseparator + key, options);\r\n    \r\n                    if (found || (found===\"\" && o.fallbackOnEmpty === false)) {\r\n                        /* compare value without namespace */\r\n                        var foundValue = found.indexOf(o.nsseparator) > -1 ? found.split(o.nsseparator)[1] : found\r\n                          , notFoundValue = notFound.indexOf(o.nsseparator) > -1 ? notFound.split(o.nsseparator)[1] : notFound;\r\n    \r\n                        if (foundValue !== notFoundValue) break;\r\n                    }\r\n                }\r\n            } else {\r\n                options.ns = o.ns.defaultNs;\r\n                found = _find(key, options); // fallback to default NS\r\n            }\r\n            options.isFallbackLookup = false;\r\n        }\r\n    \r\n        return found;\r\n    }\r\n    function detectLanguage() {\r\n        var detectedLng;\r\n        var whitelist = o.lngWhitelist || [];\r\n        var userLngChoices = [];\r\n    \r\n        // get from qs\r\n        var qsParm = [];\r\n        if (typeof window !== 'undefined') {\r\n            (function() {\r\n                var query = window.location.search.substring(1);\r\n                var params = query.split('&');\r\n                for (var i=0; i<params.length; i++) {\r\n                    var pos = params[i].indexOf('=');\r\n                    if (pos > 0) {\r\n                        var key = params[i].substring(0,pos);\r\n                        if (key == o.detectLngQS) {\r\n                            userLngChoices.push(params[i].substring(pos+1));\r\n                        }\r\n                    }\r\n                }\r\n            })();\r\n        }\r\n    \r\n        // get from cookie\r\n        if (o.useCookie && typeof document !== 'undefined') {\r\n            var c = f.cookie.read(o.cookieName);\r\n            if (c) userLngChoices.push(c);\r\n        }\r\n    \r\n        // get from localStorage\r\n        if (o.detectLngFromLocalStorage && typeof window !== 'undefined' && window.localStorage) {\r\n            var lang = f.localStorage.getItem('i18next_lng');\r\n            if (lang) {\r\n                userLngChoices.push(lang);\r\n            }\r\n        }\r\n    \r\n        // get from navigator\r\n        if (typeof navigator !== 'undefined') {\r\n            if (navigator.languages) { // chrome only; not an array, so can't use .push.apply instead of iterating\r\n                for (var i=0;i<navigator.languages.length;i++) {\r\n                    userLngChoices.push(navigator.languages[i]);\r\n                }\r\n            }\r\n            if (navigator.userLanguage) {\r\n                userLngChoices.push(navigator.userLanguage);\r\n            }\r\n            if (navigator.language) {\r\n                userLngChoices.push(navigator.language);\r\n            }\r\n        }\r\n    \r\n        (function() {\r\n            for (var i=0;i<userLngChoices.length;i++) {\r\n                var lng = userLngChoices[i];\r\n    \r\n                if (lng.indexOf('-') > -1) {\r\n                    var parts = lng.split('-');\r\n                    lng = o.lowerCaseLng ?\r\n                        parts[0].toLowerCase() +  '-' + parts[1].toLowerCase() :\r\n                        parts[0].toLowerCase() +  '-' + parts[1].toUpperCase();\r\n                }\r\n    \r\n                if (whitelist.length === 0 || whitelist.indexOf(lng) > -1) {\r\n                    detectedLng = lng;\r\n                    break;\r\n                }\r\n            }\r\n        })();\r\n    \r\n        //fallback\r\n        if (!detectedLng){\r\n          detectedLng = o.fallbackLng[0];\r\n        }\r\n        \r\n        return detectedLng;\r\n    }\r\n    // definition http://translate.sourceforge.net/wiki/l10n/pluralforms\r\n    \r\n    /* [code, name, numbers, pluralsType] */\r\n    var _rules = [\r\n        [\"ach\", \"Acholi\", [1,2], 1],\r\n        [\"af\", \"Afrikaans\",[1,2], 2],\r\n        [\"ak\", \"Akan\", [1,2], 1],\r\n        [\"am\", \"Amharic\", [1,2], 1],\r\n        [\"an\", \"Aragonese\",[1,2], 2],\r\n        [\"ar\", \"Arabic\", [0,1,2,3,11,100],5],\r\n        [\"arn\", \"Mapudungun\",[1,2], 1],\r\n        [\"ast\", \"Asturian\", [1,2], 2],\r\n        [\"ay\", \"Aymar√°\", [1], 3],\r\n        [\"az\", \"Azerbaijani\",[1,2],2],\r\n        [\"be\", \"Belarusian\",[1,2,5],4],\r\n        [\"bg\", \"Bulgarian\",[1,2], 2],\r\n        [\"bn\", \"Bengali\", [1,2], 2],\r\n        [\"bo\", \"Tibetan\", [1], 3],\r\n        [\"br\", \"Breton\", [1,2], 1],\r\n        [\"bs\", \"Bosnian\", [1,2,5],4],\r\n        [\"ca\", \"Catalan\", [1,2], 2],\r\n        [\"cgg\", \"Chiga\", [1], 3],\r\n        [\"cs\", \"Czech\", [1,2,5],6],\r\n        [\"csb\", \"Kashubian\",[1,2,5],7],\r\n        [\"cy\", \"Welsh\", [1,2,3,8],8],\r\n        [\"da\", \"Danish\", [1,2], 2],\r\n        [\"de\", \"German\", [1,2], 2],\r\n        [\"dev\", \"Development Fallback\", [1,2], 2],\r\n        [\"dz\", \"Dzongkha\", [1], 3],\r\n        [\"el\", \"Greek\", [1,2], 2],\r\n        [\"en\", \"English\", [1,2], 2],\r\n        [\"eo\", \"Esperanto\",[1,2], 2],\r\n        [\"es\", \"Spanish\", [1,2], 2],\r\n        [\"es_ar\",\"Argentinean Spanish\", [1,2], 2],\r\n        [\"et\", \"Estonian\", [1,2], 2],\r\n        [\"eu\", \"Basque\", [1,2], 2],\r\n        [\"fa\", \"Persian\", [1], 3],\r\n        [\"fi\", \"Finnish\", [1,2], 2],\r\n        [\"fil\", \"Filipino\", [1,2], 1],\r\n        [\"fo\", \"Faroese\", [1,2], 2],\r\n        [\"fr\", \"French\", [1,2], 9],\r\n        [\"fur\", \"Friulian\", [1,2], 2],\r\n        [\"fy\", \"Frisian\", [1,2], 2],\r\n        [\"ga\", \"Irish\", [1,2,3,7,11],10],\r\n        [\"gd\", \"Scottish Gaelic\",[1,2,3,20],11],\r\n        [\"gl\", \"Galician\", [1,2], 2],\r\n        [\"gu\", \"Gujarati\", [1,2], 2],\r\n        [\"gun\", \"Gun\", [1,2], 1],\r\n        [\"ha\", \"Hausa\", [1,2], 2],\r\n        [\"he\", \"Hebrew\", [1,2], 2],\r\n        [\"hi\", \"Hindi\", [1,2], 2],\r\n        [\"hr\", \"Croatian\", [1,2,5],4],\r\n        [\"hu\", \"Hungarian\",[1,2], 2],\r\n        [\"hy\", \"Armenian\", [1,2], 2],\r\n        [\"ia\", \"Interlingua\",[1,2],2],\r\n        [\"id\", \"Indonesian\",[1], 3],\r\n        [\"is\", \"Icelandic\",[1,2], 12],\r\n        [\"it\", \"Italian\", [1,2], 2],\r\n        [\"ja\", \"Japanese\", [1], 3],\r\n        [\"jbo\", \"Lojban\", [1], 3],\r\n        [\"jv\", \"Javanese\", [0,1], 13],\r\n        [\"ka\", \"Georgian\", [1], 3],\r\n        [\"kk\", \"Kazakh\", [1], 3],\r\n        [\"km\", \"Khmer\", [1], 3],\r\n        [\"kn\", \"Kannada\", [1,2], 2],\r\n        [\"ko\", \"Korean\", [1], 3],\r\n        [\"ku\", \"Kurdish\", [1,2], 2],\r\n        [\"kw\", \"Cornish\", [1,2,3,4],14],\r\n        [\"ky\", \"Kyrgyz\", [1], 3],\r\n        [\"lb\", \"Letzeburgesch\",[1,2],2],\r\n        [\"ln\", \"Lingala\", [1,2], 1],\r\n        [\"lo\", \"Lao\", [1], 3],\r\n        [\"lt\", \"Lithuanian\",[1,2,10],15],\r\n        [\"lv\", \"Latvian\", [1,2,0],16],\r\n        [\"mai\", \"Maithili\", [1,2], 2],\r\n        [\"mfe\", \"Mauritian Creole\",[1,2],1],\r\n        [\"mg\", \"Malagasy\", [1,2], 1],\r\n        [\"mi\", \"Maori\", [1,2], 1],\r\n        [\"mk\", \"Macedonian\",[1,2],17],\r\n        [\"ml\", \"Malayalam\",[1,2], 2],\r\n        [\"mn\", \"Mongolian\",[1,2], 2],\r\n        [\"mnk\", \"Mandinka\", [0,1,2],18],\r\n        [\"mr\", \"Marathi\", [1,2], 2],\r\n        [\"ms\", \"Malay\", [1], 3],\r\n        [\"mt\", \"Maltese\", [1,2,11,20],19],\r\n        [\"nah\", \"Nahuatl\", [1,2], 2],\r\n        [\"nap\", \"Neapolitan\",[1,2], 2],\r\n        [\"nb\", \"Norwegian Bokmal\",[1,2],2],\r\n        [\"ne\", \"Nepali\", [1,2], 2],\r\n        [\"nl\", \"Dutch\", [1,2], 2],\r\n        [\"nn\", \"Norwegian Nynorsk\",[1,2],2],\r\n        [\"no\", \"Norwegian\",[1,2], 2],\r\n        [\"nso\", \"Northern Sotho\",[1,2],2],\r\n        [\"oc\", \"Occitan\", [1,2], 1],\r\n        [\"or\", \"Oriya\", [2,1], 2],\r\n        [\"pa\", \"Punjabi\", [1,2], 2],\r\n        [\"pap\", \"Papiamento\",[1,2], 2],\r\n        [\"pl\", \"Polish\", [1,2,5],7],\r\n        [\"pms\", \"Piemontese\",[1,2], 2],\r\n        [\"ps\", \"Pashto\", [1,2], 2],\r\n        [\"pt\", \"Portuguese\",[1,2], 2],\r\n        [\"pt_br\",\"Brazilian Portuguese\",[1,2], 2],\r\n        [\"rm\", \"Romansh\", [1,2], 2],\r\n        [\"ro\", \"Romanian\", [1,2,20],20],\r\n        [\"ru\", \"Russian\", [1,2,5],4],\r\n        [\"sah\", \"Yakut\", [1], 3],\r\n        [\"sco\", \"Scots\", [1,2], 2],\r\n        [\"se\", \"Northern Sami\",[1,2], 2],\r\n        [\"si\", \"Sinhala\", [1,2], 2],\r\n        [\"sk\", \"Slovak\", [1,2,5],6],\r\n        [\"sl\", \"Slovenian\",[5,1,2,3],21],\r\n        [\"so\", \"Somali\", [1,2], 2],\r\n        [\"son\", \"Songhay\", [1,2], 2],\r\n        [\"sq\", \"Albanian\", [1,2], 2],\r\n        [\"sr\", \"Serbian\", [1,2,5],4],\r\n        [\"su\", \"Sundanese\",[1], 3],\r\n        [\"sv\", \"Swedish\", [1,2], 2],\r\n        [\"sw\", \"Swahili\", [1,2], 2],\r\n        [\"ta\", \"Tamil\", [1,2], 2],\r\n        [\"te\", \"Telugu\", [1,2], 2],\r\n        [\"tg\", \"Tajik\", [1,2], 1],\r\n        [\"th\", \"Thai\", [1], 3],\r\n        [\"ti\", \"Tigrinya\", [1,2], 1],\r\n        [\"tk\", \"Turkmen\", [1,2], 2],\r\n        [\"tr\", \"Turkish\", [1,2], 1],\r\n        [\"tt\", \"Tatar\", [1], 3],\r\n        [\"ug\", \"Uyghur\", [1], 3],\r\n        [\"uk\", \"Ukrainian\",[1,2,5],4],\r\n        [\"ur\", \"Urdu\", [1,2], 2],\r\n        [\"uz\", \"Uzbek\", [1,2], 1],\r\n        [\"vi\", \"Vietnamese\",[1], 3],\r\n        [\"wa\", \"Walloon\", [1,2], 1],\r\n        [\"wo\", \"Wolof\", [1], 3],\r\n        [\"yo\", \"Yoruba\", [1,2], 2],\r\n        [\"zh\", \"Chinese\", [1], 3]\r\n    ];\r\n    \r\n    var _rulesPluralsTypes = {\r\n        1: function(n) {return Number(n > 1);},\r\n        2: function(n) {return Number(n != 1);},\r\n        3: function(n) {return 0;},\r\n        4: function(n) {return Number(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);},\r\n        5: function(n) {return Number(n===0 ? 0 : n==1 ? 1 : n==2 ? 2 : n%100>=3 && n%100<=10 ? 3 : n%100>=11 ? 4 : 5);},\r\n        6: function(n) {return Number((n==1) ? 0 : (n>=2 && n<=4) ? 1 : 2);},\r\n        7: function(n) {return Number(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);},\r\n        8: function(n) {return Number((n==1) ? 0 : (n==2) ? 1 : (n != 8 && n != 11) ? 2 : 3);},\r\n        9: function(n) {return Number(n >= 2);},\r\n        10: function(n) {return Number(n==1 ? 0 : n==2 ? 1 : n<7 ? 2 : n<11 ? 3 : 4) ;},\r\n        11: function(n) {return Number((n==1 || n==11) ? 0 : (n==2 || n==12) ? 1 : (n > 2 && n < 20) ? 2 : 3);},\r\n        12: function(n) {return Number(n%10!=1 || n%100==11);},\r\n        13: function(n) {return Number(n !== 0);},\r\n        14: function(n) {return Number((n==1) ? 0 : (n==2) ? 1 : (n == 3) ? 2 : 3);},\r\n        15: function(n) {return Number(n%10==1 && n%100!=11 ? 0 : n%10>=2 && (n%100<10 || n%100>=20) ? 1 : 2);},\r\n        16: function(n) {return Number(n%10==1 && n%100!=11 ? 0 : n !== 0 ? 1 : 2);},\r\n        17: function(n) {return Number(n==1 || n%10==1 ? 0 : 1);},\r\n        18: function(n) {return Number(0 ? 0 : n==1 ? 1 : 2);},\r\n        19: function(n) {return Number(n==1 ? 0 : n===0 || ( n%100>1 && n%100<11) ? 1 : (n%100>10 && n%100<20 ) ? 2 : 3);},\r\n        20: function(n) {return Number(n==1 ? 0 : (n===0 || (n%100 > 0 && n%100 < 20)) ? 1 : 2);},\r\n        21: function(n) {return Number(n%100==1 ? 1 : n%100==2 ? 2 : n%100==3 || n%100==4 ? 3 : 0); }\r\n    };\r\n    \r\n    var pluralExtensions = {\r\n    \r\n        rules: (function () {\r\n            var l, rules = {};\r\n            for (l=_rules.length; l-- ;) {\r\n                rules[_rules[l][0]] = {\r\n                    name: _rules[l][1],\r\n                    numbers: _rules[l][2],\r\n                    plurals: _rulesPluralsTypes[_rules[l][3]]\r\n                }\r\n            }\r\n            return rules;\r\n        }()),\r\n    \r\n        // you can add your own pluralExtensions\r\n        addRule: function(lng, obj) {\r\n            pluralExtensions.rules[lng] = obj;\r\n        },\r\n    \r\n        setCurrentLng: function(lng) {\r\n            if (!pluralExtensions.currentRule || pluralExtensions.currentRule.lng !== lng) {\r\n                var parts = lng.split('-');\r\n    \r\n                pluralExtensions.currentRule = {\r\n                    lng: lng,\r\n                    rule: pluralExtensions.rules[parts[0]]\r\n                };\r\n            }\r\n        },\r\n    \r\n        needsPlural: function(lng, count) {\r\n            var parts = lng.split('-');\r\n    \r\n            var ext;\r\n            if (pluralExtensions.currentRule && pluralExtensions.currentRule.lng === lng) {\r\n                ext = pluralExtensions.currentRule.rule; \r\n            } else {\r\n                ext = pluralExtensions.rules[parts[f.getCountyIndexOfLng(lng)]];\r\n            }\r\n    \r\n            if (ext && ext.numbers.length <= 1) {\r\n                return false;\r\n            } else {\r\n                return this.get(lng, count) !== 1;\r\n            }\r\n        },\r\n    \r\n        get: function(lng, count) {\r\n            var parts = lng.split('-');\r\n    \r\n            function getResult(l, c) {\r\n                var ext;\r\n                if (pluralExtensions.currentRule && pluralExtensions.currentRule.lng === lng) {\r\n                    ext = pluralExtensions.currentRule.rule; \r\n                } else {\r\n                    ext = pluralExtensions.rules[l];\r\n                }\r\n                if (ext) {\r\n                    var i;\r\n                    if (ext.noAbs) {\r\n                        i = ext.plurals(c);\r\n                    } else {\r\n                        i = ext.plurals(Math.abs(c));\r\n                    }\r\n                    \r\n                    var number = ext.numbers[i];\r\n                    if (ext.numbers.length === 2 && ext.numbers[0] === 1) {\r\n                        if (number === 2) { \r\n                            number = -1; // regular plural\r\n                        } else if (number === 1) {\r\n                            number = 1; // singular\r\n                        }\r\n                    }//console.log(count + '-' + number);\r\n                    return number;\r\n                } else {\r\n                    return c === 1 ? '1' : '-1';\r\n                }\r\n            }\r\n                        \r\n            return getResult(parts[f.getCountyIndexOfLng(lng)], count);\r\n        }\r\n    \r\n    };\r\n    var postProcessors = {};\r\n    var addPostProcessor = function(name, fc) {\r\n        postProcessors[name] = fc;\r\n    };\r\n    // sprintf support\r\n    var sprintf = (function() {\r\n        function get_type(variable) {\r\n            return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();\r\n        }\r\n        function str_repeat(input, multiplier) {\r\n            for (var output = []; multiplier > 0; output[--multiplier] = input) {/* do nothing */}\r\n            return output.join('');\r\n        }\r\n    \r\n        var str_format = function() {\r\n            if (!str_format.cache.hasOwnProperty(arguments[0])) {\r\n                str_format.cache[arguments[0]] = str_format.parse(arguments[0]);\r\n            }\r\n            return str_format.format.call(null, str_format.cache[arguments[0]], arguments);\r\n        };\r\n    \r\n        str_format.format = function(parse_tree, argv) {\r\n            var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;\r\n            for (i = 0; i < tree_length; i++) {\r\n                node_type = get_type(parse_tree[i]);\r\n                if (node_type === 'string') {\r\n                    output.push(parse_tree[i]);\r\n                }\r\n                else if (node_type === 'array') {\r\n                    match = parse_tree[i]; // convenience purposes only\r\n                    if (match[2]) { // keyword argument\r\n                        arg = argv[cursor];\r\n                        for (k = 0; k < match[2].length; k++) {\r\n                            if (!arg.hasOwnProperty(match[2][k])) {\r\n                                throw(sprintf('[sprintf] property \"%s\" does not exist', match[2][k]));\r\n                            }\r\n                            arg = arg[match[2][k]];\r\n                        }\r\n                    }\r\n                    else if (match[1]) { // positional argument (explicit)\r\n                        arg = argv[match[1]];\r\n                    }\r\n                    else { // positional argument (implicit)\r\n                        arg = argv[cursor++];\r\n                    }\r\n    \r\n                    if (/[^s]/.test(match[8]) && (get_type(arg) != 'number')) {\r\n                        throw(sprintf('[sprintf] expecting number but found %s', get_type(arg)));\r\n                    }\r\n                    switch (match[8]) {\r\n                        case 'b': arg = arg.toString(2); break;\r\n                        case 'c': arg = String.fromCharCode(arg); break;\r\n                        case 'd': arg = parseInt(arg, 10); break;\r\n                        case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\r\n                        case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\r\n                        case 'o': arg = arg.toString(8); break;\r\n                        case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\r\n                        case 'u': arg = Math.abs(arg); break;\r\n                        case 'x': arg = arg.toString(16); break;\r\n                        case 'X': arg = arg.toString(16).toUpperCase(); break;\r\n                    }\r\n                    arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);\r\n                    pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\r\n                    pad_length = match[6] - String(arg).length;\r\n                    pad = match[6] ? str_repeat(pad_character, pad_length) : '';\r\n                    output.push(match[5] ? arg + pad : pad + arg);\r\n                }\r\n            }\r\n            return output.join('');\r\n        };\r\n    \r\n        str_format.cache = {};\r\n    \r\n        str_format.parse = function(fmt) {\r\n            var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;\r\n            while (_fmt) {\r\n                if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\r\n                    parse_tree.push(match[0]);\r\n                }\r\n                else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\r\n                    parse_tree.push('%');\r\n                }\r\n                else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\r\n                    if (match[2]) {\r\n                        arg_names |= 1;\r\n                        var field_list = [], replacement_field = match[2], field_match = [];\r\n                        if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                            field_list.push(field_match[1]);\r\n                            while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\r\n                                if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\r\n                                    field_list.push(field_match[1]);\r\n                                }\r\n                                else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\r\n                                    field_list.push(field_match[1]);\r\n                                }\r\n                                else {\r\n                                    throw('[sprintf] huh?');\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            throw('[sprintf] huh?');\r\n                        }\r\n                        match[2] = field_list;\r\n                    }\r\n                    else {\r\n                        arg_names |= 2;\r\n                    }\r\n                    if (arg_names === 3) {\r\n                        throw('[sprintf] mixing positional and named placeholders is not (yet) supported');\r\n                    }\r\n                    parse_tree.push(match);\r\n                }\r\n                else {\r\n                    throw('[sprintf] huh?');\r\n                }\r\n                _fmt = _fmt.substring(match[0].length);\r\n            }\r\n            return parse_tree;\r\n        };\r\n    \r\n        return str_format;\r\n    })();\r\n    \r\n    var vsprintf = function(fmt, argv) {\r\n        argv.unshift(fmt);\r\n        return sprintf.apply(null, argv);\r\n    };\r\n    \r\n    addPostProcessor(\"sprintf\", function(val, key, opts) {\r\n        if (!opts.sprintf) return val;\r\n    \r\n        if (Object.prototype.toString.apply(opts.sprintf) === '[object Array]') {\r\n            return vsprintf(val, opts.sprintf);\r\n        } else if (typeof opts.sprintf === 'object') {\r\n            return sprintf(val, opts.sprintf);\r\n        }\r\n    \r\n        return val;\r\n    });\r\n    // public api interface\r\n    i18n.init = init;\r\n    i18n.isInitialized = isInitialized;\r\n    i18n.setLng = setLng;\r\n    i18n.preload = preload;\r\n    i18n.addResourceBundle = addResourceBundle;\r\n    i18n.hasResourceBundle = hasResourceBundle;\r\n    i18n.getResourceBundle = getResourceBundle;\r\n    i18n.addResource = addResource;\r\n    i18n.addResources = addResources;\r\n    i18n.removeResourceBundle = removeResourceBundle;\r\n    i18n.loadNamespace = loadNamespace;\r\n    i18n.loadNamespaces = loadNamespaces;\r\n    i18n.setDefaultNamespace = setDefaultNamespace;\r\n    i18n.t = translate;\r\n    i18n.translate = translate;\r\n    i18n.exists = exists;\r\n    i18n.detectLanguage = f.detectLanguage;\r\n    i18n.pluralExtensions = pluralExtensions;\r\n    i18n.sync = sync;\r\n    i18n.functions = f;\r\n    i18n.lng = lng;\r\n    i18n.addPostProcessor = addPostProcessor;\r\n    i18n.applyReplacement = f.applyReplacement;\r\n    i18n.options = o;\r\n    i18n.noConflict = noConflict;\r\n\r\n})(typeof exports === 'undefined' ? window : exports);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../libs/i18next/1.10.1/i18next-1.10.1.js\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = {\n\t\"languageShort\": \"fr\",\n\t\"Search!\": \"Recherchez !\",\n\t\"Contact\": \"Contact\",\n\t\"About\": \"A Propos\",\n\t\"Twitter\": \"Twitter\",\n\t\"Wouaf IT\": \"Wouaf IT\",\n\t\"The first micro-events network\": \"Le premier r√©seau de micro-√©v√©nements\",\n\t\"Menu\": \"Menu\",\n\t\"Login\": \"Connexion\",\n\t\"Create your account\": \"Cr√©er un compte\",\n\t\"My account\": \"Mon compte\",\n\t\"Parameters\": \"Param√®tres\",\n\t\"Logout\": \"D√©connexion\",\n\t\"Search\": \"Rechercher\",\n\t\"Your Wouafs\": \"Vos Wouafs\",\n\t\"Where?\": \"O√π ?\",\n\t\"Look for a place\": \"Cherchez un endroit\",\n\t\"When?\": \"Quand ?\",\n\t\"Choose a period\": \"Cherchez une p√©riode\",\n\t\"Today\": \"Aujourd'hui\",\n\t\"Tomorrow\": \"Demain\",\n\t\"This week\": \"Cette semaine\",\n\t\"This month\": \"Ce mois ci\",\n\t\"Specific dates\": \"Dates sp√©cifiques\",\n\t\"From\": \"Du\",\n\t\"Start\": \"D√©but\",\n\t\"To\": \"Au\",\n\t\"End\": \"Fin\",\n\t\"What?\": \"Quoi ?\",\n\t\"Choose a category\": \"Choississez une cat√©gorie\",\n\t\"Hashtag\": \"Hashtag\",\n\t\"Specify a hashtag\": \"Cherchez un hashtag\",\n\t\"All events\": \"Tous les √©v√®nements\",\n\t\"Events\": \"Ev√©nements\",\n\t\"Out\": \"Sorties\",\n\t\"Purchases / Sales\": \"Achats / Ventes\",\n\t\"Lost / Found\": \"Perdus / Trouv√©s\",\n\t\"Donations\": \"Dons\",\n\t\"Exchanges\": \"Echanges\",\n\t\"Services\": \"Services\",\n\t\"Others\": \"Autres\"\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /mnt/windows/Web_app/languages/fr-fr.json\n ** module id = 14\n ** module chunks = 0\n **/","module.exports = (function() {\r\n\t// Reference to \"this\" that won't get clobbered by some other \"this\"\r\n\tvar self = {};\r\n\t// Public methods\r\n\tself.init = function () {\r\n\t\t//todo: get current data from cookies if any\r\n\t}\r\n\tself.set = function (key, value) {\r\n\t\tself[key] = value;\r\n\t}\r\n\tself.get = function (key) {\r\n\t\treturn self[key] || null;\r\n\t}\r\n\treturn self;\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/singleton/data.js\n ** module id = 15\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/postcss-loader/index.js!./../../node_modules/less-loader/index.js!./index.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/postcss-loader/index.js!./../../node_modules/less-loader/index.js!./index.less\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/postcss-loader/index.js!./../../node_modules/less-loader/index.js!./index.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../less/index.less\n ** module id = 16\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"a,\\n.btn-link {\\n  color: #2b9d48;\\n}\\na:focus,\\n.btn-link:focus,\\na:hover,\\n.btn-link:hover,\\na:active,\\n.btn-link:active {\\n  color: #154d23;\\n}\\n.btn-primary {\\n  background-color: #2b9d48;\\n  border-color: #2b9d48;\\n}\\n.btn-primary:hover,\\n.btn-primary:active {\\n  background-color: #154d23;\\n  border-color: #154d23;\\n}\\n.form-control:focus {\\n  border-color: #5cd27a;\\n}\\n@media (max-width: 480px) {\\n  /* Slidebar widths on extra small screens. */\\n  .sb-width-wide {\\n    width: 85%;\\n  }\\n}\\n@media (min-width: 481px) {\\n  /* Slidebar widths on small screens. */\\n  .sb-width-wide {\\n    width: 400px;\\n  }\\n}\\n@media (min-width: 768px) {\\n  /* Slidebar widths on medium screens. */\\n  .sb-width-wide {\\n    width: 400px;\\n  }\\n}\\n@media (min-width: 992px) {\\n  /* Slidebar widths on large screens. */\\n  .sb-width-wide {\\n    width: 525px;\\n  }\\n}\\n@media (min-width: 1200px) {\\n  /* Slidebar widths on extra large screens. */\\n  .sb-width-wide {\\n    width: 525px;\\n  }\\n}\\n@keyframes uil-ripple {\\n  0% {\\n    width: 0;\\n    height: 0;\\n    opacity: 0;\\n    margin: 0 0 0 0;\\n  }\\n  33% {\\n    width: 44%;\\n    height: 44%;\\n    margin: -22% 0 0 -22%;\\n    opacity: 1;\\n  }\\n  100% {\\n    width: 88%;\\n    height: 88%;\\n    margin: -44% 0 0 -44%;\\n    opacity: 0;\\n  }\\n}\\n.uil-ripple-css {\\n  background: none;\\n  position: relative;\\n  width: 200px;\\n  height: 200px;\\n}\\n.uil-ripple-css div {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  margin: 0;\\n  width: 0;\\n  height: 0;\\n  opacity: 0;\\n  border-radius: 50%;\\n  border-width: 20px;\\n  border-style: solid;\\n  animation: uil-ripple 2s ease-out infinite;\\n}\\n.uil-ripple-css div:nth-of-type(1) {\\n  border-color: #afafb7;\\n}\\n.uil-ripple-css div:nth-of-type(2) {\\n  border-color: #2b9d48;\\n  animation-delay: 1s;\\n}\\n@font-face {\\n  font-family: \\\"harlequinflfregular\\\";\\n  src: url(\" + require(\"../fonts/harlequinflf-webfont.eot\") + \");\\n  src: url(\" + require(\"../fonts/harlequinflf-webfont.eot\") + \"?#iefix) format('embedded-opentype'), url(\" + require(\"../fonts/harlequinflf-webfont.woff\") + \") format('woff'), url(\" + require(\"../fonts/harlequinflf-webfont.ttf\") + \") format('truetype'), url(\" + require(\"../fonts/harlequinflf-webfont.svg\") + \"#RanchoRegular) format('svg');\\n  font-style: normal;\\n  font-weight: 400;\\n}\\n::selection {\\n  background: #5cd27a;\\n}\\nhtml,\\nbody {\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n  background-color: #ffffff;\\n}\\n#sb-site,\\n#map {\\n  height: 100%;\\n}\\n#menu {\\n  position: absolute;\\n  top: 1em;\\n  left: 1em;\\n  z-index: 100;\\n  background-color: rgba(255, 255, 255, 0.6);\\n  padding: 0.3em;\\n  border: 1px solid #cccccc;\\n  border-radius: 0.3em;\\n  cursor: pointer;\\n}\\n#toast {\\n  position: absolute;\\n  max-width: 100%;\\n  width: 100%;\\n  top: 80%;\\n  z-index: 10000;\\n  display: none;\\n}\\n#toast > div {\\n  background-color: #ffffff;\\n  border: 0.2em solid #2b9d48;\\n  border-radius: 0.5em;\\n  text-align: center;\\n  margin: 0 auto;\\n  padding: 0.3rem;\\n}\\n#toast > div > p {\\n  margin-bottom: 0;\\n}\\n#modalWindow .modal-header {\\n  background-color: #2b9d48;\\n  color: #ffffff;\\n}\\n#loader {\\n  position: absolute;\\n  bottom: -3rem;\\n  right: -3rem;\\n  z-index: 10;\\n  transform: scale(0.25);\\n  display: none;\\n}\\n.sb-slidebar {\\n  background-color: #ffffff;\\n  border-right: 0, 125rem solid #cccccc;\\n}\\n.sb-slidebar .tab-content {\\n  padding: 0.3em;\\n}\\n.sb-slidebar header {\\n  color: #ffffff;\\n  background-color: #2b9d48;\\n  margin-bottom: 0.1rem;\\n  border-bottom: 1px solid #26893f;\\n}\\n.sb-slidebar header h1.logo {\\n  font-family: 'harlequinflfregular';\\n  text-transform: uppercase;\\n  height: 4.6875rem;\\n  background: url(\" + require(\"../img/logo-75.png\") + \") top left no-repeat;\\n  padding-left: 4.6875rem;\\n  padding-top: 1.25rem;\\n  margin-bottom: 0;\\n  font-size: 2.3rem;\\n}\\n.sb-slidebar header nav {\\n  position: relative;\\n  right: 0.5rem;\\n  z-index: 2;\\n}\\n.sb-slidebar header nav a,\\n.sb-slidebar header nav .btn-link {\\n  color: #ffffff;\\n}\\n.sb-slidebar header nav a:focus,\\n.sb-slidebar header nav .btn-link:focus,\\n.sb-slidebar header nav a:hover,\\n.sb-slidebar header nav .btn-link:hover,\\n.sb-slidebar header nav a:active,\\n.sb-slidebar header nav .btn-link:active {\\n  color: #154d23;\\n}\\n.sb-slidebar header nav .btn-link {\\n  padding: 0;\\n}\\n.sb-slidebar footer {\\n  position: fixed;\\n  bottom: 0;\\n  width: 100%;\\n  background-color: #cccccc;\\n  color: #2b9d48;\\n}\\n@media (max-width: 480px) {\\n  /* widths on extra small screens. */\\n  #toast > div {\\n    width: 100%;\\n  }\\n}\\n@media (min-width: 481px) {\\n  /* widths on small screens. */\\n  #toast > div {\\n    width: 20rem;\\n  }\\n}\\n@media (min-width: 768px) {\\n  /* widths on medium screens. */\\n}\\n@media (min-width: 992px) {\\n  /* widths on large screens. */\\n}\\n@media (min-width: 1200px) {\\n  /* widths on extra large screens. */\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /mnt/windows/Web_app/~/css-loader!/mnt/windows/Web_app/~/postcss-loader!/mnt/windows/Web_app/~/less-loader!../less/index.less\n ** module id = 17\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"_/fonts/harlequinflf-webfont-7cbc37.eot\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../fonts/harlequinflf-webfont.eot\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"_/fonts/harlequinflf-webfont-f6d22e.woff\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../fonts/harlequinflf-webfont.woff\n ** module id = 19\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"_/fonts/harlequinflf-webfont-59f502.ttf\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../fonts/harlequinflf-webfont.ttf\n ** module id = 20\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"_/fonts/harlequinflf-webfont-0910ff.svg\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../fonts/harlequinflf-webfont.svg\n ** module id = 21\n ** module chunks = 0\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAIAAAC3LO29AAALB0lEQVR42s2ceXAT5xXAZUm2ZNmWL1m2fMmWZFnaUzbmMpZPyauV5FDoAD0o0LoEgkvSZIJJmzChg8thWicU25ItycYnnQxToIRJc5QUOnTaQqFNSjvNQDtJJ51p/+jf/SMz9O2ucGTZ1u7KcrTffOPh2G93f/ve9659a5ntXJc96LYHhM1Rt32EnaOCl8RMJNCNBigsyEz4MxJI5iQiZtANdDJ7sBud9KATfDPiQSIUOu3F5nzYjI9ZEhawKmbik157hKoedVaMbKkcabGEuuBfRJ1B9Jz0AJ0MWDmARDPsQSY8xIwfG+iwHdyIHm0hQjQ+50PCFMMZ4Z/4hNcUbG+a8J74zeDEg9nh++PbLu0zjrSgEVrI8iTnhAfoBBAC3qSHGPMYPTa1WiWTyRQKRZFZb+3bQM74gJwXkpjw1gbb9/y878NP7l2/fPXcj4amw5MP/no/8Idxa7ADILH0EiIRDznpLd9cA2yyDHayQyGTV7msZJhGJhNB4hO0aazjy5e++feP/7a9ZzsslMvl8NNQarj5ixtj9yLG0RaQcPoIQxQ+5zfvdjBciidwgCnPgMnc6PpqMuRNCEkjwY5b/3i/r/cZTv7M8gxmbaWh8s9/ub/78tOWsS5sgk4HIejnBQ9+rju3RLtwW7GDg6xoNTumlt+TIMCaYPuzb/ff/f3tgoICOLjcYBgZGfZ6vdwZzpw4+c6jt8yBtvQQIqwALXsbmXuRx+M9oWS4TTsI4qIfjl+6A8FyDt0dffvam9zhp0+devz48cOHD7XaPPjr/n29f/zP/bpAx5qYHH7CsIe44C1By5cVYAwksyetz2yAxxEHCYRVo86B22dvvvcep59Op/PRo0cnBwa4pc/3PXfnX7+zBNrTIUNQ0SmaONWl0qiiNkaWQIoydW42frwNm/GiMZBYhLaG3N2zOz54dGedYx1nZtQqlUIu51a9eeXy4O2zpvQQhihs3lfXt0EBcCvjRQerw8VmPRH0xPkPEGPlcPP5e8H5yWk4RqlUAltmZib8mersvvfJXTzstocpEQ4DTg57PsTO8CoIQd/IuZ4qT92CRUk8uGNqt6HEYl2FW7eFKfD1Dz79oMPZzkFyS2798sZLv/oBqDEh0FuEmecOkQpoCjbrg4leoBkLlyRhhCInfGVklUBCTs7ZeRr8rAvUO06MgHHk/VcBCXSa25Df2X/o1/+8aRp1YkLwwswTR2HXzPnxgAd51Wnr22g/vAkbcuEQdYST01KIJMc8hVU6HjOzRFere+zkfLzJAQzTaOutj28e+vZBOKZMX/anD+9u/1mveawT592BIQr8LT7vx8+4qv32gopi7hnB0ORprAfWs5CUSEJ4Khdo/DVXtlaT2MwsNTn5hkLiPIUujgE4x7j3+uG7d34Lxxzr//6lj65UDTcTkz5ePNBJcow2bkXVOdmLVIYJjWQqlQp9uRVdbOGEEU570eOtXIQlYrDPov7QRkhB0CVitATa3n347p6du99659quawcgmkssQFAE5jyvthXW6LiTZ7Dj86spmNvToeXwpJjURxQhNutFXtySIVB8ixW1bFMNObOMb6wJth2+/tJ/P/33lftXbaFOHg8B8ca8z/Z8szpHndgWZMqV9pedjKOK09VEhOzDsx3aJJIvqqiavBx80IUutjdgVOvD3a1TWz/77H9nbg4ZA60JAm5OerYXmrOyMllZZSR+pqZtOMQb8YrKS2jtXZ8heBPGuY0acBsQx43Ha059yHX7oxv7rj4H8lyRkN0j2A87NbnZvHaO+189UQEJULyi8hDO+yx71snEEy64DexUJ2sA4nOxrpmdjZM99giVOF8rdVTySC+GMKc4l3y9G/KERTEAL6H5aw3JED65arFVTwaXyR6tEMSsjMdcetaHHNkilwkzAlzMqFHjA53oNC2CEPyP6auO5AjZ7cH8qHCaiSlvXGKFJUzq4WByylfaKC7SgFgXPd6OzogivOiv3UEkT8hCwlLLNxrIN55idkiI4o1dYN+C7oCzkQu/LidDNRB2iCas3o4tSCOZwd4iBNmmnQQZYSLJKOdC0BxeErtM0eSwB2KGhVsXSJgNmc3JrrhoMREhGGvHfI+h3SRUVRJywvoiix48G/hlqNCBWcchaJ5mah/IAuo4g+cY9+pZAyMTfFFuz+eV5TuGqfg9vyJhNGRz5+q0IoLSBITsGSAnLLTqjbS9bm9D/Xc3IgPtxLCHBCcG9hYud9EPsZ4OMYjC+7ySsrmWmF4Sna5IyBQvfHW968RejFeXYocqS5VfVlDpqkO+58QGO+u+1aStKExGZdjjLV9vEOPx2fKMsduWSsKFu+GKdDFnhdA3U5WZEaNyYocyQ2E71iImamMJK9ssqSeMEysLHKfMSTjevCIt9po7LkjkJ6xy1a8xYbzVTWYde3tFVr0jzIZsoggtuxtSYEjXerCerOZLKD6/TC0zoS2dorHBLk1+Tgps6RoP8LfY8TYmmw2Ly/EpfMZre3aTSqNeVVizpqrN5aLrqiHKQyJUMrU24qc91gMb5DKpypA1yZanm5ZXUSE1bzsUFGf85ZtrJbohM5jI13xwPYSyaHKEXBXI/kprpiJTmlJkPOGLzVBwSZaQffVLBuj8yiKpiTGagtoN5JRvxaKw0PeHs766/U2K5FOMtUKEH1pjERFiagKrewccphzT/rL11dISI5f45qnJIXd88UL0e3ymouGt79skLaPKEeaqiUEXcoFeHSF7KDFM5ZUViEhMvxh3D5XSI040eUsT+zJ43l8TTfkzpLMPNdoc/HTXMjG3aBkyBUwaO9GhVqulIkbO3e9pYNp6QtTq+mme1DAhfi8wFUvC3rCPuKrLSs76k39/uGzbSfmaJ41CR5YqCz3NFUhTSli7FU87IadBJfVlBJMTpqTrK6Z4Y/mKI/0yZK9e5asn5/xI4hqsaMJZn2WXBAjZgNt6cOOKAfdqtNToQ6RBKLP0NqWYEFJMx4xfh5en3ZZyVy93maFVJHVaCv0u0976gxuUckXaU36OUGctI8a9PL2fomQIL9yL60olUbZhbyC3KA8950ZXikiTidqmoMXUJJOMu88pyENfd6WIkC29Nc4+ZWgySoEw2tNSVogNx/e0JEUI66GQccwJL8qVWZKoZUSze3MpMUanYB9C0EBE6FKiMv1OYrGlKW2qdEwlDEqFVqJmffX9zUoZW8SQSGLI9ZZtQ5bt2U2u1ubM4mptkkl9wWkhR7nEd9VxabRvgC3SSEFLuU1YWFtChOnU9Oozle85v8FZK5V9yDlDvZY4381jSAVbGsoR8eabpZH4LpRnlEr8lTbm9Xg4Fd9bQPtXtF1fUvuwvyU1+5ARI5S9I16d3SAdMQIh2u9MGSHXAcZ28UiiAMVoqTorUYktmS+7oMF6oBP6CdKfWLCWpsReDt2qSMq+XeOa0cJ0QW1J+nMLtlUR7ALOW8IQXfMepXJLtektlkb7Emp0/BGpyH3ogT2N9DvhZV3ag7Viix472cG/A8XZUnD6F/3GHSh7mXQamJyCXPLH7qU98qv/wpJyTPpLGyvT5i2410zZauQo0/iECMQTnh8yX3OM0UXVurSZGa5XfRdBvNEjAk84IdSgkOOtmU8+VkqLe8gpzMWHoCrjEfhhtShCtuv6hc3p8oTRylpjBdQyefLdFQkTf48Px0158GFKW1qYFi2NVmWqi4lR5pNd7r7FfY/P8zsVRt22oBv9SXdxrV6hVKhy1Fka1Rc54YqKLKVWl4+e7rKNd4v7XQ7s71T4P8nmF/tQISOdAAAAAElFTkSuQmCC\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../img/logo-75.png\n ** module id = 22\n ** module chunks = 0\n **/","module.exports = (function() {\r\n    var clustermap = \trequire('../clustermap');\r\n    //Query\r\n    var query = require('../query.js')();\r\n    var map;\r\n    var browserSupportLocation = new Boolean();\r\n    var initialLocation;\r\n\r\n    var updatePins = function(json) {\r\n        console.info(json);\r\n    }\r\n\r\n    var getPosts = function(params) {\r\n        var now = new Date();\r\n        params.searchId = now.getTime();\r\n        query.posts(params, updatePins);\r\n    }\r\n\r\n\r\n    var init = function () {\r\n       map = new google.maps.Map(document.getElementById('map'), {\r\n\t\t\tzoom: 9,\r\n\t\t\tpanControl: false,\r\n\t\t\tstreetViewControl: false,\r\n\t\t\tmapTypeControl: true,\r\n\t\t\tmapTypeControlOptions: {\r\n\t\t\t\tposition: google.maps.ControlPosition.TOP_RIGHT\r\n\t\t\t},\r\n\t\t\tzoomControl: true,\r\n\t\t\tzoomControlOptions: {\r\n\t\t\t\tposition: google.maps.ControlPosition.LEFT_BOTTOM\r\n\t\t\t},\r\n\t\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\r\n\t\t});\r\n\t\tvar myloc = new google.maps.Marker({\r\n\t\t\tclickable: false,\r\n\t\t\ticon: new google.maps.MarkerImage('//maps.gstatic.com/mapfiles/mobile/mobileimgs2.png',\r\n\t\t\t\t\t\t\t\t\t\t\t new google.maps.Size(22,22),\r\n\t\t\t\t\t\t\t\t\t\t\t new google.maps.Point(0,18),\r\n\t\t\t\t\t\t\t\t\t\t\t new google.maps.Point(11,11)),\r\n\t\t\tshadow: null,\r\n\t\t\tzIndex: 999,\r\n\t\t\tmap: map\r\n\t\t});\r\n\r\n        var marker = new google.maps.Marker({\r\n            map: map,\r\n            title: 'Hello World!'\r\n        });\r\n\r\n\t\t// Try W3C Geolocation (Preferred)\r\n\t\tif(navigator.geolocation) {\r\n            browserSupportLocation = true;\r\n\t\t\tnavigator.geolocation.getCurrentPosition(function(position) {\r\n\t\t\t\tinitialLocation = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);\r\n\t\t\t\tmap.setCenter(initialLocation);\r\n\t\t\t\tmyloc.setPosition(initialLocation);\r\n\r\n                getPosts({'loc': initialLocation});\r\n\t\t\t}, function() {\r\n\t\t\t\thandleNoGeolocation(browserSupportLocation);\r\n\t\t\t});\r\n\t\t}\r\n\t\t// Browser doesn't support Geolocation\r\n\t\telse {\r\n            browserSupportLocation = false;\r\n\t\t\thandleNoGeolocation(browserSupportLocation);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleNoGeolocation(errorFlag) {\r\n\t\t//TODO: get the last position chosen by cookie or user account\r\n\t\t// \t\tor ask user for position\r\n\t\t//\t\tor do a geo detection by IP (country / city / ...) => http://dev.maxmind.com/geoip/geoip2/geolite2/\r\n\t\tif (errorFlag === true) {\r\n\t\t\talert(\"Geolocation service failed.\");\r\n\t\t\tinitialLocation = newyork;\r\n\t\t} else {\r\n\t\t\talert(\"Your browser doesn't support geolocation. We've placed you in Siberia.\");\r\n\t\t\tinitialLocation = siberia;\r\n\t\t}\r\n\t\tmap.setCenter(initialLocation);\r\n\t\tmyloc.setPosition(initialLocation);\r\n\t}\r\n\r\n\t// API/data for end-user\r\n\treturn {\r\n\t\tinit:       init,\r\n        getPosts:   getPosts\r\n\t}\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/singleton/map.js\n ** module id = 23\n ** module chunks = 0\n **/","var figue = require('../../libs/figue');\r\nvar utils = require('./utils');\r\n\r\nvar clustermap = function () {\r\n\tvar _selectedNodes;\r\n\tvar _displayedMarkers;\r\n\t\r\n\tfunction HCMap (params) {\r\n\t\tthis._map = params.map ;\r\n\t\t//store initial map position\r\n\t\tthis._map._previous = this._map.getRegion();\r\n\t\tthis._elements = params.elements;\r\n\t\tthis._minDistance = 140 ;\r\n\t\tthis._vectors = [];\r\n\t\tthis._tags = {};\r\n\t\tvar that = this ;\r\n\t\tvar indexes = [];\r\n\t\tif (this._elements) {\r\n\t\t\t// extract the points and convert the lat/lng coordinates to map coordinates\r\n\t\t\t//for (var i in this._elements) {\r\n            for (var i = 0, li = this._elements.length; i < li; i++) {\r\n            \tvar element = this._elements[i];\r\n\t\t\t\tif (element) {\r\n    \t\t\t\telement.latlng = new utils.LatLng(element.loc[0], element.loc[1]);\r\n    \t\t\t\tvar projcoord = this._map.fromLatLngToPoint(element.latlng) ;\r\n    \t\t\t\tvar vector = [projcoord.x, projcoord.y];\r\n    \t\t\t\tthis._vectors.push (vector) ;\r\n    \t\t\t\tindexes.push(i);\r\n    \t\t\t\tfor (var j = 0, lj = element.tags.length; j < lj; j++) {\r\n    \t\t\t\t\tvar tag = element.tags[j];\r\n    \t\t\t\t\tif (this._tags[tag]) {\r\n    \t\t\t\t\t\tthis._tags[tag]++;\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tthis._tags[tag] = 1;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// cluster the map coordinates\r\n\t\t\tthis._tree = figue.agglomerate (indexes,\r\n                                       this._vectors,\r\n                                       figue.EUCLIDIAN_DISTANCE,\r\n                                       figue.COMPLETE_LINKAGE) ;\r\n\t\t\t\r\n\t\t\tthis._region_changed_listener = function(e) {\r\n\t\t\t\tif (this._timer) {\r\n\t\t\t\t\tclearTimeout(this._timer);\r\n\t\t\t\t}\r\n\t\t\t\tvar map = this;\r\n\t\t\t\tvar args = arguments;\r\n\t\t\t\tvar func = function(e) {\r\n\t\t\t\t\tif (this._previous.longitudeDelta != e.longitudeDelta) {\r\n\t\t\t\t\t\t//zoom changed\r\n\t\t\t\t\t\tupdateNodes(that);\r\n\t\t\t\t\t\tupdateMarkers(that, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//bounds changed\r\n\t\t\t\t\t\tupdateMarkers(that, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._previous = e;\r\n\t\t\t\t\tif (!that._map) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._timer = setTimeout(function() {\r\n\t\t\t\t\tfunc.apply(map, args);\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t\tthis._map.addEventListener('regionChanged', this._region_changed_listener);\r\n\t\t\tupdateNodes(that);\r\n\t\t\tupdateMarkers (that, true) ;\r\n\t\t}\r\n\t}\r\n\r\n\t// Node Selection Algorithm (ref Hierarchical Clusters in Web Mapping Systems, In Proceedings of the 19th ACM International World Wide Web Conference (WWW'10))\r\n\tfunction selectNodes(node, MCD) {\r\n\t\tvar selectedNodes ;\r\n\t\tif (!node) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (node.isLeaf()) \r\n\t\t\treturn [node] ;\r\n\t\telse if (node.dist < MCD) \r\n\t\t\treturn [] ;\r\n\t\telse {\r\n\t\t\tselectedNodes = new Array() ;\r\n\t\t\tif (node.left != null) {\r\n\t\t\t\tif (node.left.isLeaf()) \r\n\t\t\t\t\tselectedNodes.push(node.left) ;\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (node.left.dist < MCD)\r\n\t\t\t\t\t\tselectedNodes.push (node.left) ;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tselectedNodes = selectedNodes.concat (selectNodes(node.left, MCD)) ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (node.right != null) {\r\n\t\t\t\tif (node.right.isLeaf()) \r\n\t\t\t\t\tselectedNodes.push(node.right) ;\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (node.right.dist < MCD)\r\n\t\t\t\t\t\tselectedNodes.push (node.right) ;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tselectedNodes = selectedNodes.concat (selectNodes(node.right, MCD)) ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn selectedNodes ;\r\n\t}\r\n\t\r\n\tfunction updateMarkers(hcmap, reset) {\r\n\t\tif (! hcmap._selectedNodes || !hcmap._map) {\r\n\t\t\treturn ;\r\n\t\t}\r\n\t\t// remove visible markers\r\n\t\tif (reset) {\r\n\t\t\thcmap.removeMarkers();\r\n\t\t}\r\n\t\t// display nodes as markers\r\n\t\tvar viewport = hcmap._map.getBounds() ;\r\n\t\t\r\n\t\tvar selectedNodes = hcmap._selectedNodes ;\r\n        \r\n\t\tvar current_zoom_level = hcmap._map.getZoom() ;\r\n\t\tvar _count = 0;\r\n\t\tfor (var i = 0, l = selectedNodes.length ; i < l ; i++) {\r\n\t\t\tvar element;\r\n\t\t\tvar position;\r\n\t\t\tvar description;\r\n\t\t\tvar cat;\r\n\t\t\tvar author;\r\n\t\t\tif (!selectedNodes[i]) {\r\n                continue;\r\n\t\t\t}\r\n\t\t\tif (selectedNodes[i].isLeaf()) {\r\n\t\t\t\telement = hcmap._elements[ selectedNodes[i].index ] ;\r\n\t\t\t\tposition = element.latlng;\r\n\t\t\t\tcat = element.cat;\r\n\t\t\t\tauthor = element.author;\r\n\t\t\t} else {\r\n\t\t\t\t// Convert pixel coordinates to world coordinates\r\n\t\t\t\tvar projcoord = new utils.Point (selectedNodes[i].centroid[0],\r\n                                               selectedNodes[i].centroid[1]) ;\r\n\t\t\t\tposition = hcmap._map.fromPointToLatLng(projcoord) ;\r\n\t\t\t}\r\n\r\n\t\t\tif ((current_zoom_level > 2) && (! viewport.contains(position))) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n            var clusterSize = selectedNodes[i].size ;\r\n\t\t\tif (clusterSize) {\r\n\t\t\t\tvar _id = position.lat+'/'+position.lng;\r\n\t\t\t\tif (!hcmap._displayedMarkers[_id]) {\r\n\t\t\t\t\tif (clusterSize > 1) {\r\n\t\t\t\t\t\t/*var marker = Ti.Map.createAnnotation({\r\n\t\t\t\t\t\t\ttitle: '.' + Math.round(Math.random()*1000),\r\n\t\t\t\t\t\t\tanimate: false,\r\n\t\t\t\t\t\t\timage: utils.img + '/maps/group/' + getCLusterPic(clusterSize) + '.png',\r\n\t\t\t\t\t\t\tlatitude: position.lat,\r\n\t\t\t\t\t\t\tlongitude: position.lng,\r\n\t\t\t\t\t\t\telements: selectedNodes[i].indexes\r\n\t\t\t\t\t\t});*/\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/*var marker = Ti.Map.createAnnotation({\r\n\t\t\t\t\t\t\ttitle: '~' + Math.round(Math.random()*1000),\r\n\t\t\t\t\t\t\tanimate: false,\r\n\t\t\t\t\t\t\timage: /*(author && author[0] == 'eventful' ? utils.img + '/maps/cat/eventful.png' : * / utils.img + '/maps/cat/' + cat + '.png'/*)* /,\r\n\t\t\t\t\t\t\tlatitude: position.lat,\r\n\t\t\t\t\t\t\tlongitude: position.lng,\r\n\t\t\t\t\t\t\telements: [selectedNodes[i].index]\r\n\t\t\t\t\t\t});*/\r\n\t\t\t\t\t}\r\n\t\t\t\t\thcmap._map.addAnnotation(marker);\r\n\t\t\t\t\thcmap._displayedMarkers[_id] = marker ;\r\n\t\t\t\t\t_count++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateNodes(hcmap) {\r\n\t\tif (!hcmap || !hcmap._map) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar MCD = hcmap._minDistance/Math.pow(2, hcmap._map.getZoom());\r\n\r\n\t\tvar selectedNodes = selectNodes (hcmap._tree , MCD) ;\r\n\t\tif (selectedNodes == null) {\r\n\t\t\tselectedNodes = [];\r\n\t\t}\r\n\t\tif (selectedNodes.length == 0)\r\n\t\t\tselectedNodes.push(hcmap._tree) ;\r\n\t\t\r\n\t\thcmap._selectedNodes = selectedNodes ;\r\n\t}\r\n\t\r\n\tfunction getCLusterPic(size) {\r\n\t\tif (size > 1 && size < 10) {\r\n\t\t\treturn size;\r\n\t\t}\r\n\t\tif (size >= 100) {\r\n\t\t\treturn '100';\r\n\t\t}\r\n\t\tif (size >= 50) {\r\n\t\t\treturn '50';\r\n\t\t}\r\n\t\treturn (Math.floor(size/10) * 10);\r\n\t}\r\n\r\n\treturn {\r\n\t\tHCMap: HCMap\r\n\t}\r\n\t\r\n}() ;\r\n\t\r\n\r\nclustermap.HCMap.prototype.reset = function () {\r\n\tif (this._region_changed_listener && this._map) {\r\n\t\tthis._map.removeEventListener('regionChange', this._region_changed_listener);\r\n\t}\r\n\tthis.removeMarkers();\r\n\tthis._map = null ;\r\n\tthis._positions = new Array () ;\r\n\tthis._elements = new Array ();\r\n\tthis._vectors = new Array () ;\r\n\tthis._selectedNodes = new Array () ;\r\n\tthis._tree = null;\r\n}\r\nclustermap.HCMap.prototype.getTags = function () {\r\n\tvar _tags = utils.natsort(this._tags);\r\n\tvar tags = [];\r\n\tfor (var i in _tags) {\r\n\t\ttags.push('#' + i);\r\n\t}\r\n\ttags.push(L('every'));\r\n\ttags.reverse();\r\n\treturn tags;\r\n}\r\n\r\nclustermap.HCMap.prototype.removeMarkers = function () {\r\n\tthis._map.removeAllAnnotations();\r\n\tthis._displayedMarkers = {} ;\r\n}\r\n\r\nmodule.exports = clustermap;\r\n\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/clustermap.js\n ** module id = 24\n ** module chunks = 0\n **/","/*!\r\n * Figue v1.0.1\r\n *\r\n * Copyright 2010, Jean-Yves Delort\r\n * Licensed under the MIT license.\r\n *\r\n */\r\n\r\n\r\nvar figue = function () {\r\n\r\n\r\n\tfunction euclidianDistance (vec1 , vec2) {\r\n\t\tvar N = vec1.length ;\r\n\t\tvar d = 0 ;\r\n\t\tfor (var i = 0 ; i < N ; i++)\r\n\t\t\td += Math.pow (vec1[i] - vec2[i], 2)\r\n\t\td = Math.sqrt (d) ;\r\n\t\treturn d ;\r\n\t}\r\n\r\n\tfunction manhattanDistance (vec1 , vec2) {\r\n\t\tvar N = vec1.length ;\r\n\t\tvar d = 0 ;\r\n\t\tfor (var i = 0 ; i < N ; i++)\r\n\t\t\td += Math.abs (vec1[i] - vec2[i])\r\n\t\treturn d ;\r\n\t}\r\n\r\n\tfunction maxDistance (vec1 , vec2) {\r\n\t\tvar N = vec1.length ;\r\n\t\tvar d = 0 ;\r\n\t\tfor (var i = 0 ; i < N ; i++)\r\n\t\t\td = Math.max (d , Math.abs (vec1[i] - vec2[i])) ;\r\n\t\treturn d ;\r\n\t}\r\n\r\n\tfunction addVectors (vec1 , vec2) {\r\n\t\tvar N = vec1.length ;\r\n\t\tvar vec = new Array(N) ;\r\n\t\tfor (var i = 0 ; i < N ; i++)\r\n\t\t\tvec[i] = vec1[i] + vec2[i] ;\r\n\t\treturn vec ;\r\n\t}\t\r\n\r\n\tfunction multiplyVectorByValue (value , vec) {\r\n\t\tvar N = vec.length ;\r\n\t\tvar v = new Array(N) ;\r\n\t\tfor (var i = 0 ; i < N ; i++)\r\n\t\t\tv[i] = value * vec[i] ;\r\n\t\treturn v ;\r\n\t}\t\r\n\r\n\r\n\tfunction repeatChar(c, n) {\r\n\t\tvar str = \"\";\r\n\t\tfor (var i = 0 ; i < n ; i++)\r\n\t\t\tstr += c ;\r\n\t\treturn str ;\r\n\t}\r\n\t\r\n\tfunction calculateCentroid (c1Size , c1Centroid , c2Size , c2Centroid) {\r\n\t\tvar newCentroid = new Array(c1Centroid.length) ;\r\n\t\tvar newSize = c1Size + c2Size ;\r\n\t\tfor (var i = 0, l = c1Centroid.length ; i < l ; i++) \r\n\t\t\tnewCentroid[i] = (c1Size * c1Centroid[i] + c2Size * c2Centroid[i]) / newSize ;\r\n\t\treturn newCentroid ;\t\r\n\t}\r\n\r\n\r\n\tfunction centerString(str, width) {\r\n\t\tvar diff = width - str.length ;\r\n\t\tif (diff < 0)\r\n\t\t\treturn ;\r\n\r\n\t\tvar halfdiff = Math.floor(diff / 2) ;\r\n\t\treturn repeatChar (\" \" , halfdiff) + str + repeatChar (\" \" , diff - halfdiff)  ;\r\n\t}\r\n\r\n\tfunction putString(str, width, index) {\r\n\t\tvar diff = width - str.length ;\r\n\t\tif (diff < 0)\r\n\t\t\treturn ;\r\n\r\n\t\treturn repeatChar (\" \" , index) + str + repeatChar (\" \" , width - (str.length+index)) ;\r\n\t}\r\n\r\n\tfunction prettyVector(vector) {\r\n\t\tvar vals = new Array(vector.length) ;\r\n\t\tvar precision = Math.pow(10, figue.PRINT_VECTOR_VALUE_PRECISION) ; \r\n\t\tfor (var i = 0, l = vector.length ; i < l ; i++)\r\n\t\t\tvals[i] = Math.round(vector[i]*precision)/precision ;\r\n\t\treturn vals.join(\",\")\r\n\t}\r\n\r\n\tfunction prettyValue(value) {\r\n\t\tvar precision = Math.pow(10, figue.PRINT_VECTOR_VALUE_PRECISION) ; \r\n\t\treturn String (Math.round(value*precision)/precision) ;\r\n\t}\r\n\r\n\tfunction generateDendogram(tree, sep, balanced, withIndex, withCentroid, withDistance) {\r\n\t\tvar lines = new Array ;\r\n\t\tvar centroidstr = prettyVector(tree.centroid) ;\r\n\t\tif (tree.isLeaf()) {\r\n\t\t\tvar index = String(tree.index) ;\r\n\t\t\tvar len = 1;\r\n\t\t\tif (withCentroid) \r\n\t\t\t\tlen = Math.max(centroidstr.length , len) ;\r\n\t\t\tif (withIndex)\r\n\t\t\t\tlen = Math.max(index.length , len) ;\r\n\r\n\t\t\tlines.push (centerString (\"|\" , len)) ;\r\n\t\t\tif (withCentroid) \r\n\t\t\t\tlines.push (centerString (centroidstr , len)) ;\r\n\t\t\tif (withIndex) \r\n\t\t\t\tlines.push (centerString (index , len)) ;\r\n\r\n\t\t} else {\r\n\t\t\tvar distancestr = prettyValue(tree.dist) ;\r\n\t\t\tvar left_dendo = generateDendogram(tree.left ,sep, balanced,withIndex,withCentroid, withDistance) ;\r\n\t\t\tvar right_dendo = generateDendogram(tree.right, sep, balanced,withIndex,withCentroid,withDistance) ;\r\n\t\t\tvar left_bar_ix = left_dendo[0].indexOf(\"|\") ;\r\n\t\t\tvar right_bar_ix = right_dendo[0].indexOf(\"|\") ;\r\n\t\r\n\t\t\t// calculate nb of chars of each line\r\n\t\t\tvar len = sep + right_dendo[0].length + left_dendo[0].length ;\r\n\t\t\tif (withCentroid) \r\n\t\t\t\tlen = Math.max(centroidstr.length , len) ;\r\n\t\t\tif (withDistance) \r\n\t\t\t\tlen = Math.max(distancestr.length , len) ;\r\n\r\n\r\n\t\t\t// calculate position of new vertical bar\r\n\t\t\tvar bar_ix =  left_bar_ix + Math.floor(( left_dendo[0].length - (left_bar_ix) + sep + (1+right_bar_ix)) / 2) ;\r\n\t\t\t\r\n\t\t\t// add line with the new vertical bar \r\n\t\t\tlines.push (putString (\"|\" , len , bar_ix)) ;\r\n\t\t\tif (withCentroid) {\r\n\t\t\t\tlines.push (putString (centroidstr , len , bar_ix - Math.floor (centroidstr.length / 2))) ; //centerString (centroidstr , len)) ;\r\n\t\t\t}\r\n\t\t\tif (withDistance) {\r\n\t\t\t\tlines.push (putString (distancestr , len , bar_ix - Math.floor (distancestr.length / 2))) ; //centerString (centroidstr , len)) ;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\t// add horizontal line to connect the vertical bars of the lower level\r\n\t\t\tvar hlineLen = sep + (left_dendo[0].length -left_bar_ix) + right_bar_ix+1 ;\r\n\t\t\tvar hline = repeatChar (\"_\" , hlineLen) ;\r\n\t\t\tlines.push (putString(hline, len, left_bar_ix)) ;\r\n\t\r\n\t\t\t// IF: the user want the tree to be balanced: all the leaves have to be at the same level\r\n\t\t\t// THEN: if the left and right subtrees have not the same depth, add extra vertical bars to the top of the smallest subtree\r\n\t\t\tif (balanced &&  (left_dendo.length != right_dendo.length)) {\r\n\t\t\t\tvar shortest ;\r\n\t\t\t\tvar longest ;\r\n\t\t\t\tif (left_dendo.length > right_dendo.length) {\r\n\t\t\t\t\tlongest = left_dendo ;\r\n\t\t\t\t\tshortest = right_dendo ;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlongest = right_dendo ;\r\n\t\t\t\t\tshortest = left_dendo ;\r\n\t\t\t\t}\r\n\t\t\t\t// repeat the first line containing the vertical bar\r\n\t\t\t\theader = shortest[0] ;\r\n\t\t\t\tvar toadd = longest.length - shortest.length ;\r\n\t\t\t\tfor (var i = 0 ; i < toadd ; i++) {\r\n\t\t\t\t\tshortest.splice (0,0,header) ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// merge the left and right subtrees \r\n\t\t\tfor (var i = 0, l = Math.max (left_dendo.length , right_dendo.length) ; i < l ; i++) {\r\n\t\t\t\tvar left = \"\" ;\r\n\t\t\t\tif (i < left_dendo.length)\r\n\t\t\t\t\tleft = left_dendo[i] ;\r\n\t\t\t\telse\r\n\t\t\t\t\tleft = repeatChar (\" \" , left_dendo[0].length) ;\r\n\t\r\n\t\t\t\tvar right = \"\" ;\r\n\t\t\t\tif (i < right_dendo.length)\r\n\t\t\t\t\tright = right_dendo[i] ;\r\n\t\t\t\telse\r\n\t\t\t\t\tright = repeatChar (\" \" , right_dendo[0].length) ;\r\n\t\t\t\tlines.push(left + repeatChar (\" \" , sep) + right) ;\t\r\n\t\t\t\tvar l = left + repeatChar (\" \" , sep) + right ;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn lines ;\r\n\t}\r\n\r\n\r\n\r\n\tfunction agglomerate (indexes, vectors, distance, linkage) {\r\n\t\tif (indexes.length == 1) {\r\n\t\t    return new Node (indexes[0], null, null, 0, vectors[0]) ;\r\n\t\t}\r\n\t\tvar N = vectors.length ;\r\n\t\tvar dMin = new Array(N) ;\r\n\t\tvar cSize = new Array(N) ;\r\n\t\tvar matrixObj = new figue.Matrix(N,N);\r\n\t\tvar distMatrix = matrixObj.mtx ;\r\n\t\tvar clusters = new Array(N) ;\r\n\r\n\t\tvar c1, c2, c1Cluster, c2Cluster, i, j, p, root , newCentroid ;\r\n\r\n\t\tif (distance == figue.EUCLIDIAN_DISTANCE)\r\n\t\t\tdistance = euclidianDistance ;\r\n\t\telse if (distance == figue.MANHATTAN_DISTANCE)\r\n\t\t\tdistance = manhattanDistance ;\r\n\t\telse if (distance == figue.MAX_DISTANCE)\r\n\t\t\tdistance = maxDistance ;\r\n\r\n\t\t// Initialize distance matrix and vector of closest clusters\r\n\t\tfor (i = 0 ; i < N ; i++) {\r\n\t\t\tdMin[i] = 0 ;\r\n\t\t\tfor (j = 0 ; j < N ; j++) {\r\n\t\t\t\tif (i == j)\r\n\t\t\t\t\tdistMatrix[i][j] = Infinity ;\r\n\t\t\t\telse\r\n\t\t\t\t\tdistMatrix[i][j] = distance(vectors[i] , vectors[j]) ;\r\n\t\r\n\t\t\t\tif (distMatrix[i][dMin[i]] > distMatrix[i][j] )\r\n\t\t\t\t\tdMin[i] = j ;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// create leaves of the tree\r\n\t\tfor (i = 0 ; i < N ; i++) {\r\n\t\t\tclusters[i] = [] ;\r\n\t\t\tclusters[i][0] = new Node (indexes[i], null, null, 0, vectors[i]) ;\r\n\t\t\tcSize[i] = 1 ;\r\n\t\t}\r\n\t\t\r\n\t\t// Main loop\r\n\t\tfor (p = 0 ; p < N-1 ; p++) {\r\n\t\t\t// find the closest pair of clusters\r\n\t\t\tc1 = 0 ;\r\n\t\t\tfor (i = 0 ; i < N ; i++) {\r\n\t\t\t\tif (distMatrix[i][dMin[i]] < distMatrix[c1][dMin[c1]])\r\n\t\t\t\t\tc1 = i ;\r\n\t\t\t}\r\n\t\t\tc2 = dMin[c1] ;\r\n\t\r\n\t\t\t// create node to store cluster info \r\n\t\t\tc1Cluster = clusters[c1][0] ;\r\n\t\t\tc2Cluster = clusters[c2][0] ;\r\n\r\n\t\t\tnewCentroid = calculateCentroid ( c1Cluster.size , c1Cluster.centroid , c2Cluster.size , c2Cluster.centroid ) ;\r\n\t\t\tnewCluster = new Node (-1, c1Cluster, c2Cluster , distMatrix[c1][c2] , newCentroid) ;\r\n\t\t\tclusters[c1].splice(0,0, newCluster) ;\r\n\t\t\tcSize[c1] += cSize[c2] ;\r\n\t\t\r\n\t\t\t//√Ç overwrite√Ç row√Ç c1√Ç with respect to the linkage type\r\n\t\t\tfor (j = 0 ; j < N ; j++) {\r\n\t\t\t\tif (linkage == figue.SINGLE_LINKAGE) {\r\n\t\t\t\t\tif (distMatrix[c1][j] > distMatrix[c2][j])\r\n\t\t\t\t\t\tdistMatrix[j][c1] = distMatrix[c1][j] = distMatrix[c2][j] ;\r\n\t\t\t\t} else if (linkage == figue.COMPLETE_LINKAGE) {\r\n\t\t\t\t\tif (distMatrix[c1][j] < distMatrix[c2][j])\r\n\t\t\t\t\t\tdistMatrix[j][c1] = distMatrix[c1][j] = distMatrix[c2][j] ;\r\n\t\t\t\t} else if (linkage == figue.AVERAGE_LINKAGE) {\r\n\t\t\t\t\tvar avg = ( cSize[c1] * distMatrix[c1][j] + cSize[c2] * distMatrix[c2][j])  / (cSize[c1] + cSize[j]) \r\n\t\t\t\t\tdistMatrix[j][c1] = distMatrix[c1][j] = avg ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdistMatrix[c1][c1] = Infinity ;\r\n\t\t\r\n\t\t\t//√Ç infinity √Ç¬≠out√Ç old√Ç row√Ç c2√Ç and√Ç column√Ç c2\r\n\t\t\tfor (i = 0 ; i < N ; i++)\r\n\t\t\t\tdistMatrix[i][c2] = distMatrix[c2][i] = Infinity ;\r\n\t\r\n\t\t\t//√Ç update√Ç dmin√Ç and√Ç replace√Ç ones√Ç that√Ç previous√Ç pointed√Ç to c2 to point to c1\r\n\t\t\tfor (j = 0; j < N ; j++) {\r\n\t\t\t\tif (dMin[j] == c2)\r\n\t\t\t\t\tdMin[j] = c1;\r\n\t\t\t\tif (distMatrix[c1][j] < distMatrix[c1][dMin[c1]]) \r\n\t\t\t\t\tdMin[c1] = j;\r\n\t\t\t}\r\n\t\r\n\t\t\t// keep track of the last added cluster\r\n\t\t\troot = newCluster ;\r\n\t\t}\r\n\t\r\n\t\treturn root ;\r\n\t}\r\n\r\n\r\n\tfunction kmeans (k, vectors) {\r\n\t\tvar n = vectors.length ;\r\n\t\tif ( k > n ) \r\n\t\t\treturn null ;\r\n\r\n\t\t// randomly choose k different vectors among n entries\r\n\t\tvar centroids = new Array(k) ;\r\n\t\tvar tested_indices = new Object ;\r\n\t\tvar tested = 0 ;\r\n\t\tvar cluster = 0 ;\r\n\t\tvar i , vector, select ;\r\n\t\twhile (cluster < k) {\r\n\t\t\tif (tested == n)\r\n\t\t\t\treturn null ;\r\n\r\n\t\t\tvar random_index = Math.floor(Math.random()*(n)) ;\r\n\t\t\tif (random_index in tested_indices)\r\n\t\t\t\tcontinue\r\n\t\t\ttested_indices[random_index] = 1;\r\n\t\t\ttested++ ;\r\n\t\t\tvector = vectors[random_index] ;\r\n\t\t\tselect = true ;\r\n\t\t\tfor (i = 0 ; i < cluster ; i++) {\r\n\t\t\t\tif ( utils.compare (vector, centroids[i]) ) {\r\n\t\t\t\t\tselect = false ;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (select) {\r\n\t\t\t\tcentroids[cluster] = vector ;\r\n\t\t\t\tcluster++ ;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tvar assignments = new Array(n) ;\r\n\t\tvar clusterSizes = new Array(k) ;\r\n\t\tvar repeat = true ;\r\n\t\tvar nb_iters = 0 ;\r\n\t\twhile (repeat) {\r\n\r\n\t\t\t// assignment step\r\n\t\t\tfor (var j = 0 ; j < k ; j++)\r\n\t\t\t\tclusterSizes[j] = 0 ;\r\n\t\t\t\r\n\t\t\tfor (var i = 0 ; i < n ; i++) {\r\n\t\t\t\tvar vector = vectors[i] ;\r\n\t\t\t\tvar mindist = Number.MAX_VALUE ;\r\n\t\t\t\tvar best ;\r\n\t\t\t\tfor (var j = 0 ; j < k ; j++) {\r\n\t\t\t\t\tdist = euclidianDistance (centroids[j], vector)\r\n\t\t\t\t\tif (dist < mindist) {\r\n\t\t\t\t\t\tmindist = dist ;\r\n\t\t\t\t\t\tbest = j ;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tclusterSizes[best]++ ;\r\n\t\t\t\tassignments[i] = best ;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// update centroids step\r\n\t\t\tvar newCentroids = new Array(k) ;\r\n\t\t\tfor (var j = 0 ; j < k ; j++)\r\n\t\t\t\tnewCentroids[j] = null ;\r\n\r\n\t\t\tfor (var i = 0 ; i < n ; i++) {\r\n\t\t\t\tcluster = assignments[i] ;\r\n\t\t\t\tif (newCentroids[cluster] == null)\r\n\t\t\t\t\tnewCentroids[cluster] = vectors[i] ;\r\n\t\t\t\telse\r\n\t\t\t\t\tnewCentroids[cluster] = addVectors (newCentroids[cluster] , vectors[i]) ;\t\r\n\t\t\t}\r\n\r\n\t\t\tfor (var j = 0 ; j < k ; j++) {\r\n\t\t\t\tnewCentroids[j] = multiplyVectorByValue (1/clusterSizes[j] , newCentroids[j]) ;\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\t// check convergence\r\n\t\t\trepeat = false ;\r\n\t\t\tfor (var j = 0 ; j < k ; j++) {\r\n\t\t\t\tif (! utils.compare (newCentroids[j], centroids[j])) {\r\n\t\t\t\t\trepeat = true ; \r\n\t\t\t\t\tbreak ; \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcentroids = newCentroids ;\r\n\t\t\tnb_iters++ ;\r\n\t\t\tif (nb_iters > figue.KMEANS_MAX_ITERATIONS)\r\n\t\t\t\trepeat = false ;\r\n\t\t\t\r\n\t\t}\r\n\t\treturn { 'centroids': centroids , 'assignments': assignments} ;\r\n\r\n\t}\r\n\r\n\tfunction Matrix (rows,cols) \r\n\t{\r\n\t\tthis.rows = rows ;\r\n\t\tthis.cols = cols ;\r\n\t\tthis.mtx = new Array(rows) ; \r\n\r\n\t\tfor (var i = 0 ; i < rows ; i++)\r\n\t\t{\r\n\t\t\tvar row = new Array(cols) ;\r\n\t\t\tfor (var j = 0 ; j < cols ; j++)\r\n\t\t\t\trow[j] = 0;\r\n\t\t\tthis.mtx[i] = row ;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction Node (index,left,right,dist, centroid) \r\n\t{\r\n\t\tthis.index = index ;\r\n\t\tthis.indexes = [];\r\n\t\tif (index != -1) {\r\n\t\t\tthis.indexes.push(index);\r\n\t\t}\r\n\t\tthis.left = left ;\r\n\t\tthis.right = right ;\r\n\t\tthis.dist = dist ;\r\n\t\tthis.centroid = centroid ;\r\n\t\tif (left == null && right == null) {\r\n\t\t\tthis.size = 1 ;\r\n\t\t\tthis.depth = 0 ;\r\n\t\t} else {\r\n\t\t\tthis.size = left.size + right.size ;\r\n\t\t\tthis.depth = 1 + Math.max (left.depth , right.depth ) ;\r\n\t\t\tthis.indexes = this.indexes.concat(left.indexes).concat(right.indexes);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\treturn { \r\n\t\tSINGLE_LINKAGE: 0,\r\n\t\tCOMPLETE_LINKAGE: 1,\r\n\t\tAVERAGE_LINKAGE:2 ,\r\n\t\tEUCLIDIAN_DISTANCE: 0,\r\n\t\tMANHATTAN_DISTANCE: 1,\r\n\t\tMAX_DISTANCE: 2,\r\n\t\tPRINT_VECTOR_VALUE_PRECISION: 2,\r\n\t\tKMEANS_MAX_ITERATIONS: 10,\r\n\r\n\t\tMatrix: Matrix,\r\n\t\tNode: Node,\r\n\t\tgenerateDendogram: generateDendogram,\r\n\t\tagglomerate: agglomerate,\r\n\t\tkmeans: kmeans\r\n\t}\r\n}() ;\r\n\r\n\r\nfigue.Matrix.prototype.toString = function() \r\n{\r\n\tvar lines = [] ;\r\n\tfor (var i = 0 ; i < this.rows ; i++) \r\n\t\tlines.push (this.mtx[i].join(\"\\t\")) ;\r\n\treturn lines.join (\"\\n\") ;\r\n}\r\n\r\nfigue.Node.prototype.isLeaf = function() \r\n{\r\n\tif ((this.left == null) && (this.right == null))\r\n\t\treturn true ;\r\n\telse\r\n\t\treturn false ;\r\n}\r\n\r\nfigue.Node.prototype.buildDendogram = function (sep, balanced,withIndex,withCentroid, withDistance)\r\n{\r\n\tlines = figue.generateDendogram(this, sep, balanced,withIndex,withCentroid, withDistance) ;\r\n\treturn lines.join (\"\\n\") ;\t\r\n}\r\n\r\nmodule.exports = figue;\r\n\r\n\r\n\r\n\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../libs/figue.js\n ** module id = 25\n ** module chunks = 0\n **/","//LatLng object\r\nvar LatLng = function (lat, lng) {\r\n\tthis.lat = parseFloat(lat);\r\n\tthis.lng = parseFloat(lng);\r\n}\r\nmodule.exports.LatLng = LatLng;\r\n\r\n//Point object\r\nvar Point = function (x, y) {\r\n\tthis.x = x;\r\n\tthis.y = y;\r\n}\r\nmodule.exports.Point = Point;\r\n\r\n//LatLngBounds object\r\nvar LatLngBounds = function (sw, ne) {\r\n\tthis._sw = sw;\r\n\tthis._ne = ne;\r\n}\r\nLatLngBounds.prototype.extend = function(point) {\r\n\tif (point.lat < this._sw.lat && point.lng < this._sw.lng) {\r\n\t\tthis._sw = point;\r\n\t} else if (point.lat < this._sw.lat) {\r\n\t\tthis._sw = new LatLng(point.lat, this._sw.lng);\r\n\t} else if (point.lng < this._sw.lng) {\r\n\t\tthis._sw = new LatLng(this._sw.lat, point.lng);\r\n\t}\r\n\tif (point.lat > this._ne.lat && point.lng > this._ne.lng) {\r\n\t\tthis._ne = point;\r\n\t} else if (point.lat > this._ne.lat) {\r\n\t\tthis._ne = new LatLng(point.lat, this._ne.lng);\r\n\t} else if (point.lng > this._ne.lng) {\r\n\t\tthis._ne = new LatLng(this._ne.lat, point.lng);\r\n\t}\r\n\treturn this;\r\n};\r\nLatLngBounds.prototype.getNorthEast = function() {\r\n\treturn this._ne;\r\n}\r\nLatLngBounds.prototype.getSouthWest = function() {\r\n\treturn this._sw;\r\n}\r\nLatLngBounds.prototype.contains = function(point) {\r\n\tif (point.lat > this._sw.lat && point.lat < this._ne.lat && point.lng > this._sw.lng && point.lng < this._ne.lng) {\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\nmodule.exports.LatLngBounds = LatLngBounds;\r\n\r\n//Binary safe string comparison\r\n//from http://phpjs.org/functions/strcmp/\r\nvar strcmp = function (str1, str2) {\r\n    return ((str1 == str2) ? 0 : ((str1 > str2) ? 1 : -1));\r\n}\r\n\r\n//Returns the result of string comparison using 'natural' algorithm\r\n//from http://phpjs.org/functions/strnatcmp/\r\nvar strnatcmp = function (f_string1, f_string2, f_version) {\r\n    var i = 0;\r\n \r\n    if (f_version == undefined) {\r\n        f_version = false;\r\n    }\r\n \r\n    var __strnatcmp_split = function (f_string) {\r\n        var result = [];\r\n        var buffer = '';\r\n        var chr = '';\r\n        var i = 0,\r\n            f_stringl = 0;\r\n \r\n        var text = true;\r\n \r\n        f_stringl = f_string.length;\r\n        for (i = 0; i < f_stringl; i++) {\r\n            chr = f_string.substring(i, i + 1);\r\n            if (chr.match(/\\d/)) {\r\n                if (text) {\r\n                    if (buffer.length > 0) {\r\n                        result[result.length] = buffer;\r\n                        buffer = '';\r\n                    }\r\n \r\n                    text = false;\r\n                }\r\n                buffer += chr;\r\n            } else if ((text == false) && (chr == '.') && (i < (f_string.length - 1)) && (f_string.substring(i + 1, i + 2).match(/\\d/))) {\r\n                result[result.length] = buffer;\r\n                buffer = '';\r\n            } else {\r\n                if (text == false) {\r\n                    if (buffer.length > 0) {\r\n                        result[result.length] = parseInt(buffer, 10);\r\n                        buffer = '';\r\n                    }\r\n                    text = true;\r\n                }\r\n                buffer += chr;\r\n            }\r\n        }\r\n \r\n        if (buffer.length > 0) {\r\n            if (text) {\r\n                result[result.length] = buffer;\r\n            } else {\r\n                result[result.length] = parseInt(buffer, 10);\r\n            }\r\n        }\r\n \r\n        return result;\r\n    };\r\n \r\n    var array1 = __strnatcmp_split(f_string1 + '');\r\n    var array2 = __strnatcmp_split(f_string2 + '');\r\n \r\n    var len = array1.length;\r\n    var text = true;\r\n \r\n    var result = -1;\r\n    var r = 0;\r\n \r\n    if (len > array2.length) {\r\n        len = array2.length;\r\n        result = 1;\r\n    }\r\n \r\n    for (i = 0; i < len; i++) {\r\n        if (isNaN(array1[i])) {\r\n            if (isNaN(array2[i])) {\r\n                text = true;\r\n \r\n                if ((r = strcmp(array1[i], array2[i])) != 0) {\r\n                    return r;\r\n                }\r\n            } else if (text) {\r\n                return 1;\r\n            } else {\r\n                return -1;\r\n            }\r\n        } else if (isNaN(array2[i])) {\r\n            if (text) {\r\n                return -1;\r\n            } else {\r\n                return 1;\r\n            }\r\n        } else {\r\n            if (text || f_version) {\r\n                if ((r = (array1[i] - array2[i])) != 0) {\r\n                    return r;\r\n                }\r\n            } else {\r\n                if ((r = strcmp(array1[i].toString(), array2[i].toString())) != 0) {\r\n                    return r;\r\n                }\r\n            }\r\n \r\n            text = false;\r\n        }\r\n    }\r\n \r\n    return result;\r\n}\r\n\r\n//natsort from : http://phpjs.org/functions/natsort/\r\nvar natsort = function (inputArr) {\r\n    var valArr = [],\r\n        k, i, ret, that = this,\r\n        strictForIn = false,\r\n        populateArr = {};\r\n \r\n    // BEGIN REDUNDANT\r\n    this.php_js = this.php_js || {};\r\n    this.php_js.ini = this.php_js.ini || {};\r\n    // END REDUNDANT\r\n    strictForIn = this.php_js.ini['phpjs.strictForIn'] && this.php_js.ini['phpjs.strictForIn'].local_value && this.php_js.ini['phpjs.strictForIn'].local_value !== 'off';\r\n    populateArr = strictForIn ? inputArr : populateArr;\r\n \r\n    // Get key and value arrays\r\n    for (k in inputArr) {\r\n        if (inputArr.hasOwnProperty(k)) {\r\n            valArr.push([k, inputArr[k]]);\r\n            if (strictForIn) {\r\n                delete inputArr[k];\r\n            }\r\n        }\r\n    }\r\n    valArr.sort(function (a, b) {\r\n        return strnatcmp(a[1], b[1]);\r\n    });\r\n \r\n    // Repopulate the old array\r\n    for (i = 0; i < valArr.length; i++) {\r\n        populateArr[valArr[i][0]] = valArr[i][1];\r\n    }\r\n \r\n    return strictForIn || populateArr;\r\n}\r\nmodule.exports.natsort = natsort;\r\n\r\nvar compare = function (fromArray, testArr) {\r\n    if (fromArray.length != testArr.length) return false;\r\n    for (var i = 0, l = testArr.length; i < l; i++) {\r\n        if (typeof(fromArray[i]) == 'object' && (fromArray[i] instanceof Array)) { \r\n            if (!utils.compare(fromArray[i], testArr[i])) return false;\r\n        }\r\n        if (fromArray[i] !== testArr[i]) return false;\r\n    }\r\n    return true;\r\n}\r\nmodule.exports.compare = compare;\r\n\r\n//Strip tags from : http://phpjs.org/functions/strip_tags/\r\nvar strip_tags = function (input, allowed) {\r\n  allowed = (((allowed || \"\") + \"\").toLowerCase().match(/<[a-z][a-z0-9]*>/g) || []).join(''); // making sure the allowed arg is a string containing only tags in lowercase (<a><b><c>)\r\n  var tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>/gi,\r\n    commentsAndPhpTags = /<!--[\\s\\S]*?-->|<\\?(?:php)?[\\s\\S]*?\\?>/gi;\r\n  return input.replace(commentsAndPhpTags, '').replace(tags, function ($0, $1) {\r\n    return allowed.indexOf('<' + $1.toLowerCase() + '>') > -1 ? $0 : '';\r\n  });\r\n}\r\nmodule.exports.strip_tags = strip_tags;\r\n\r\nvar indexOf = function(r, elt /*, from*/) {\r\n    r = r || [];\r\n    var len = r.length >>> 0;\r\n\r\n    var from = Number(arguments[1]) || 0;\r\n    from = (from < 0)\r\n         ? Math.ceil(from)\r\n         : Math.floor(from);\r\n    if (from < 0)\r\n      from += len;\r\n\r\n    for (; from < len; from++) {\r\n      if (from in r &&\r\n          r[from] === elt)\r\n        return from;\r\n    }\r\n    return -1;\r\n};\r\nmodule.exports.indexOf = indexOf;\r\n\r\n//Mobile web formating functions\r\nvar formatDate = function(date, format) {\r\n    format = format || 'short';\r\n\r\n    var locale = Ti.Platform.getLocale().getCurrentLocale().substr(0, 2).toLowerCase();\r\n    if (format == 'short') {\r\n        if (locale == 'fr') {\r\n            return (date.getDate() < 10 ? '0' + date.getDate() : date.getDate()) +'/'+ ((date.getMonth() + 1) < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) +'/'+ date.getFullYear();\r\n        } else {\r\n            return ((date.getMonth() + 1) < 10 ? '0' + (date.getMonth() + 1) : (date.getMonth() + 1)) +'/'+ (date.getDate() < 10 ? '0' + date.getDate() : date.getDate()) +'/'+ date.getFullYear();\r\n        }\r\n    } else {\r\n        var months = [\"january\", \"february\", \"march\", \"april\", \"may\", \"june\", \"july\", \"august\", \"september\", \"october\", \"november\", \"december\"];\r\n        if (locale == 'fr') {\r\n            return date.getDate() +' '+ L(months[date.getMonth()]) +' '+ date.getFullYear();\r\n        } else {\r\n            return L(months[date.getMonth()]) +' '+ date.getDate() +', '+ date.getFullYear();\r\n        }\r\n    }\r\n};\r\nvar formatTime = function(date, format) {\r\n    format = format || 'short';\r\n\r\n    var locale = Ti.Platform.getLocale().getCurrentLocale().substr(0, 2).toLowerCase();\r\n    if (locale == 'fr') {\r\n        return  (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) +':'+ (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes());\r\n    } else {\r\n        var hours = date.getHours();\r\n        if (hours > 12) {\r\n            return  ((hours - 12) < 10 ? '0' + (hours - 12) : (hours - 12)) +':'+ (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) +' PM';\r\n        } else {\r\n            return  (hours < 10 ? '0' + hours : hours) +':'+ (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) +' AM';\r\n        }\r\n    }\r\n};\r\n//format text for mobile web\r\nvar formatText = function (text) {\r\n    //replace \\n by <br />\r\n    text = text.replace(/\\n*/g, '').replace(/\\\\n/g, '<br />');\r\n    //convert links\r\n    var twitter = require('../../libs/twitter-text');\r\n    var entities = twitter.extractUrlsWithIndices(text);\r\n    var pos = 0;\r\n    var textContent = '';\r\n    for (var i = 0, l = entities.length; i < l; i++) {\r\n        var url = entities[i].url;\r\n        var indices = entities[i].indices;\r\n        //text before entity\r\n        textContent += text.substr(pos, indices[0] - pos);\r\n        //entity\r\n        textContent += '<a href=\"'+ url +'\" target=\"_blank\" style=\"color:#2B9D48;\">' + url + '</a>';\r\n        pos = indices[1];\r\n    }\r\n    if (pos != text.length) {\r\n        //text after entities\r\n        textContent += text.substr(pos, text.length - pos);\r\n    }\r\n    return textContent;\r\n}\r\nmodule.exports.formatTime = formatTime;\r\nmodule.exports.formatDate = formatDate;\r\nmodule.exports.formatText = formatText;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/utils.js\n ** module id = 26\n ** module chunks = 0\n **/","if (typeof window === \"undefined\" || window === null) {\r\n  window = { twttr: {} };\r\n}\r\nif (window.twttr == null) {\r\n  window.twttr = {};\r\n}\r\nif (typeof twttr === \"undefined\" || twttr === null) {\r\n  twttr = {};\r\n}\r\n\r\n(function() {\r\n  twttr.txt = {};\r\n  twttr.txt.regexen = {};\r\n\r\n  var HTML_ENTITIES = {\r\n    '&': '&amp;',\r\n    '>': '&gt;',\r\n    '<': '&lt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#39;'\r\n  };\r\n\r\n  // HTML escaping\r\n  twttr.txt.htmlEscape = function(text) {\r\n    return text && text.replace(/[&\"'><]/g, function(character) {\r\n      return HTML_ENTITIES[character];\r\n    });\r\n  };\r\n\r\n  // Builds a RegExp\r\n  function regexSupplant(regex, flags) {\r\n    flags = flags || \"\";\r\n    if (typeof regex !== \"string\") {\r\n      if (regex.global && flags.indexOf(\"g\") < 0) {\r\n        flags += \"g\";\r\n      }\r\n      if (regex.ignoreCase && flags.indexOf(\"i\") < 0) {\r\n        flags += \"i\";\r\n      }\r\n      if (regex.multiline && flags.indexOf(\"m\") < 0) {\r\n        flags += \"m\";\r\n      }\r\n\r\n      regex = regex.source;\r\n    }\r\n\r\n    return new RegExp(regex.replace(/#\\{(\\w+)\\}/g, function(match, name) {\r\n      var newRegex = twttr.txt.regexen[name] || \"\";\r\n      if (typeof newRegex !== \"string\") {\r\n        newRegex = newRegex.source;\r\n      }\r\n      return newRegex;\r\n    }), flags);\r\n  }\r\n\r\n  twttr.txt.regexSupplant = regexSupplant;\r\n\r\n  // simple string interpolation\r\n  function stringSupplant(str, values) {\r\n    return str.replace(/#\\{(\\w+)\\}/g, function(match, name) {\r\n      return values[name] || \"\";\r\n    });\r\n  }\r\n\r\n  twttr.txt.stringSupplant = stringSupplant;\r\n\r\n  function addCharsToCharClass(charClass, start, end) {\r\n    var s = String.fromCharCode(start);\r\n    if (end !== start) {\r\n      s += \"-\" + String.fromCharCode(end);\r\n    }\r\n    charClass.push(s);\r\n    return charClass;\r\n  }\r\n\r\n  twttr.txt.addCharsToCharClass = addCharsToCharClass;\r\n\r\n  // Space is more than %20, U+3000 for example is the full-width space used with Kanji. Provide a short-hand\r\n  // to access both the list of characters and a pattern suitible for use with String#split\r\n  // Taken from: ActiveSupport::Multibyte::Handlers::UTF8Handler::UNICODE_WHITESPACE\r\n  var fromCode = String.fromCharCode;\r\n  var UNICODE_SPACES = [\r\n    fromCode(0x0020), // White_Space # Zs       SPACE\r\n    fromCode(0x0085), // White_Space # Cc       <control-0085>\r\n    fromCode(0x00A0), // White_Space # Zs       NO-BREAK SPACE\r\n    fromCode(0x1680), // White_Space # Zs       OGHAM SPACE MARK\r\n    fromCode(0x180E), // White_Space # Zs       MONGOLIAN VOWEL SEPARATOR\r\n    fromCode(0x2028), // White_Space # Zl       LINE SEPARATOR\r\n    fromCode(0x2029), // White_Space # Zp       PARAGRAPH SEPARATOR\r\n    fromCode(0x202F), // White_Space # Zs       NARROW NO-BREAK SPACE\r\n    fromCode(0x205F), // White_Space # Zs       MEDIUM MATHEMATICAL SPACE\r\n    fromCode(0x3000)  // White_Space # Zs       IDEOGRAPHIC SPACE\r\n  ];\r\n  addCharsToCharClass(UNICODE_SPACES, 0x009, 0x00D); // White_Space # Cc   [5] <control-0009>..<control-000D>\r\n  addCharsToCharClass(UNICODE_SPACES, 0x2000, 0x200A); // White_Space # Zs  [11] EN QUAD..HAIR SPACE\r\n\r\n  var INVALID_CHARS = [\r\n    fromCode(0xFFFE),\r\n    fromCode(0xFEFF), // BOM\r\n    fromCode(0xFFFF) // Special\r\n  ];\r\n  addCharsToCharClass(INVALID_CHARS, 0x202A, 0x202E); // Directional change\r\n\r\n  twttr.txt.regexen.spaces_group = regexSupplant(UNICODE_SPACES.join(\"\"));\r\n  twttr.txt.regexen.spaces = regexSupplant(\"[\" + UNICODE_SPACES.join(\"\") + \"]\");\r\n  twttr.txt.regexen.invalid_chars_group = regexSupplant(INVALID_CHARS.join(\"\"));\r\n  twttr.txt.regexen.punct = /\\!'#%&'\\(\\)*\\+,\\\\\\-\\.\\/:;<=>\\?@\\[\\]\\^_{|}~\\$/;\r\n\r\n  var nonLatinHashtagChars = [];\r\n  // Cyrillic\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x0400, 0x04ff); // Cyrillic\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x0500, 0x0527); // Cyrillic Supplement\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x2de0, 0x2dff); // Cyrillic Extended A\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xa640, 0xa69f); // Cyrillic Extended B\r\n  // Hebrew\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x0591, 0x05bf); // Hebrew\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x05c1, 0x05c2);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x05c4, 0x05c5);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x05c7, 0x05c7);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x05d0, 0x05ea);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x05f0, 0x05f4);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfb12, 0xfb28); // Hebrew Presentation Forms\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfb2a, 0xfb36);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfb38, 0xfb3c);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfb3e, 0xfb3e);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfb40, 0xfb41);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfb43, 0xfb44);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfb46, 0xfb4f);\r\n  // Arabic\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x0610, 0x061a); // Arabic\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x0620, 0x065f);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x066e, 0x06d3);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x06d5, 0x06dc);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x06de, 0x06e8);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x06ea, 0x06ef);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x06fa, 0x06fc);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x06ff, 0x06ff);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x0750, 0x077f); // Arabic Supplement\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x08a0, 0x08a0); // Arabic Extended A\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x08a2, 0x08ac);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x08e4, 0x08fe);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfb50, 0xfbb1); // Arabic Pres. Forms A\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfbd3, 0xfd3d);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfd50, 0xfd8f);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfd92, 0xfdc7);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfdf0, 0xfdfb);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfe70, 0xfe74); // Arabic Pres. Forms B\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xfe76, 0xfefc);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x200c, 0x200c); // Zero-Width Non-Joiner\r\n  // Thai\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x0e01, 0x0e3a);\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x0e40, 0x0e4e);\r\n  // Hangul (Korean)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x1100, 0x11ff); // Hangul Jamo\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x3130, 0x3185); // Hangul Compatibility Jamo\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xA960, 0xA97F); // Hangul Jamo Extended-A\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xAC00, 0xD7AF); // Hangul Syllables\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xD7B0, 0xD7FF); // Hangul Jamo Extended-B\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xFFA1, 0xFFDC); // half-width Hangul\r\n  // Japanese and Chinese\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x30A1, 0x30FA); // Katakana (full-width)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x30FC, 0x30FE); // Katakana Chouon and iteration marks (full-width)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xFF66, 0xFF9F); // Katakana (half-width)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xFF70, 0xFF70); // Katakana Chouon (half-width)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xFF10, 0xFF19); // \\\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xFF21, 0xFF3A); //  - Latin (full-width)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0xFF41, 0xFF5A); // /\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x3041, 0x3096); // Hiragana\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x3099, 0x309E); // Hiragana voicing and iteration mark\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x3400, 0x4DBF); // Kanji (CJK Extension A)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x4E00, 0x9FFF); // Kanji (Unified)\r\n  // -- Disabled as it breaks the Regex.\r\n  //addCharsToCharClass(nonLatinHashtagChars, 0x20000, 0x2A6DF); // Kanji (CJK Extension B)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x2A700, 0x2B73F); // Kanji (CJK Extension C)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x2B740, 0x2B81F); // Kanji (CJK Extension D)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x2F800, 0x2FA1F); // Kanji (CJK supplement)\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x3003, 0x3003); // Kanji iteration mark\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x3005, 0x3005); // Kanji iteration mark\r\n  addCharsToCharClass(nonLatinHashtagChars, 0x303B, 0x303B); // Han iteration mark\r\n\r\n  twttr.txt.regexen.nonLatinHashtagChars = regexSupplant(nonLatinHashtagChars.join(\"\"));\r\n\r\n  var latinAccentChars = [];\r\n  // Latin accented characters (subtracted 0xD7 from the range, it's a confusable multiplication sign. Looks like \"x\")\r\n  addCharsToCharClass(latinAccentChars, 0x00c0, 0x00d6);\r\n  addCharsToCharClass(latinAccentChars, 0x00d8, 0x00f6);\r\n  addCharsToCharClass(latinAccentChars, 0x00f8, 0x00ff);\r\n  // Latin Extended A and B\r\n  addCharsToCharClass(latinAccentChars, 0x0100, 0x024f);\r\n  // assorted IPA Extensions\r\n  addCharsToCharClass(latinAccentChars, 0x0253, 0x0254);\r\n  addCharsToCharClass(latinAccentChars, 0x0256, 0x0257);\r\n  addCharsToCharClass(latinAccentChars, 0x0259, 0x0259);\r\n  addCharsToCharClass(latinAccentChars, 0x025b, 0x025b);\r\n  addCharsToCharClass(latinAccentChars, 0x0263, 0x0263);\r\n  addCharsToCharClass(latinAccentChars, 0x0268, 0x0268);\r\n  addCharsToCharClass(latinAccentChars, 0x026f, 0x026f);\r\n  addCharsToCharClass(latinAccentChars, 0x0272, 0x0272);\r\n  addCharsToCharClass(latinAccentChars, 0x0289, 0x0289);\r\n  addCharsToCharClass(latinAccentChars, 0x028b, 0x028b);\r\n  // Okina for Hawaiian (it *is* a letter character)\r\n  addCharsToCharClass(latinAccentChars, 0x02bb, 0x02bb);\r\n  // Combining diacritics\r\n  addCharsToCharClass(latinAccentChars, 0x0300, 0x036f);\r\n  // Latin Extended Additional\r\n  addCharsToCharClass(latinAccentChars, 0x1e00, 0x1eff);\r\n  twttr.txt.regexen.latinAccentChars = regexSupplant(latinAccentChars.join(\"\"));\r\n\r\n  // A hashtag must contain characters, numbers and underscores, but not all numbers.\r\n  twttr.txt.regexen.hashSigns = /[#ÔºÉ]/;\r\n  twttr.txt.regexen.hashtagAlpha = regexSupplant(/[a-z_#{latinAccentChars}#{nonLatinHashtagChars}]/i);\r\n  twttr.txt.regexen.hashtagAlphaNumeric = regexSupplant(/[a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}]/i);\r\n  twttr.txt.regexen.endHashtagMatch = regexSupplant(/^(?:#{hashSigns}|:\\/\\/)/);\r\n  twttr.txt.regexen.hashtagBoundary = regexSupplant(/(?:^|$|[^&a-z0-9_#{latinAccentChars}#{nonLatinHashtagChars}])/);\r\n  twttr.txt.regexen.validHashtag = regexSupplant(/(#{hashtagBoundary})(#{hashSigns})(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi);\r\n\r\n  // Mention related regex collection\r\n  twttr.txt.regexen.validMentionPrecedingChars = /(?:^|[^a-zA-Z0-9_!#$%&*@Ôº†]|RT:?)/;\r\n  twttr.txt.regexen.atSigns = /[@Ôº†]/;\r\n  twttr.txt.regexen.validMentionOrList = regexSupplant(\r\n    '(#{validMentionPrecedingChars})' +  // $1: Preceding character\r\n    '(#{atSigns})' +                     // $2: At mark\r\n    '([a-zA-Z0-9_]{1,20})' +             // $3: Screen name\r\n    '(\\/[a-zA-Z][a-zA-Z0-9_\\-]{0,24})?'  // $4: List (optional)\r\n  , 'g');\r\n  twttr.txt.regexen.validReply = regexSupplant(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/);\r\n  twttr.txt.regexen.endMentionMatch = regexSupplant(/^(?:#{atSigns}|[#{latinAccentChars}]|:\\/\\/)/);\r\n\r\n  // URL related regex collection\r\n  twttr.txt.regexen.validUrlPrecedingChars = regexSupplant(/(?:[^A-Za-z0-9@Ôº†$#ÔºÉ#{invalid_chars_group}]|^)/);\r\n  twttr.txt.regexen.invalidUrlWithoutProtocolPrecedingChars = /[-_.\\/]$/;\r\n  twttr.txt.regexen.invalidDomainChars = stringSupplant(\"#{punct}#{spaces_group}#{invalid_chars_group}\", twttr.txt.regexen);\r\n  twttr.txt.regexen.validDomainChars = regexSupplant(/[^#{invalidDomainChars}]/);\r\n  twttr.txt.regexen.validSubdomain = regexSupplant(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\\.)/);\r\n  twttr.txt.regexen.validDomainName = regexSupplant(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\\.)/);\r\n  twttr.txt.regexen.validGTLD = regexSupplant(/(?:(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx)(?=[^0-9a-zA-Z]|$))/);\r\n  twttr.txt.regexen.validCCTLD = regexSupplant(/(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)(?=[^0-9a-zA-Z]|$))/);\r\n  twttr.txt.regexen.validPunycode = regexSupplant(/(?:xn--[0-9a-z]+)/);\r\n  twttr.txt.regexen.validDomain = regexSupplant(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/);\r\n  twttr.txt.regexen.validAsciiDomain = regexSupplant(/(?:(?:[a-z0-9#{latinAccentChars}]+)\\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi);\r\n  twttr.txt.regexen.invalidShortDomain = regexSupplant(/^#{validDomainName}#{validCCTLD}$/);\r\n\r\n  twttr.txt.regexen.validPortNumber = regexSupplant(/[0-9]+/);\r\n\r\n  twttr.txt.regexen.validGeneralUrlPathChars = regexSupplant(/[a-z0-9!\\*';:=\\+,\\.\\$\\/%#\\[\\]\\-_~|&#{latinAccentChars}]/i);\r\n  // Allow URL paths to contain balanced parens\r\n  //  1. Used in Wikipedia URLs like /Primer_(film)\r\n  //  2. Used in IIS sessions like /S(dfd346)/\r\n  twttr.txt.regexen.validUrlBalancedParens = regexSupplant(/\\(#{validGeneralUrlPathChars}+\\)/i);\r\n  // Valid end-of-path chracters (so /foo. does not gobble the period).\r\n  // 1. Allow =&# for empty URL parameters and other URL-join artifacts\r\n  twttr.txt.regexen.validUrlPathEndingChars = regexSupplant(/[\\+\\-a-z0-9=_#\\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i);\r\n  // Allow @ in a url, but only in the middle. Catch things like http://example.com/@user/\r\n  twttr.txt.regexen.validUrlPath = regexSupplant('(?:' +\r\n    '(?:' +\r\n      '#{validGeneralUrlPathChars}*' +\r\n        '(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*' +\r\n        '#{validUrlPathEndingChars}'+\r\n      ')|(?:@#{validGeneralUrlPathChars}+\\/)'+\r\n    ')', 'i');\r\n\r\n  twttr.txt.regexen.validUrlQueryChars = /[a-z0-9!?\\*'\\(\\);:&=\\+\\$\\/%#\\[\\]\\-_\\.,~|]/i;\r\n  twttr.txt.regexen.validUrlQueryEndingChars = /[a-z0-9_&=#\\/]/i;\r\n  twttr.txt.regexen.extractUrl = regexSupplant(\r\n    '('                                                            + // $1 total match\r\n      '(#{validUrlPrecedingChars})'                                + // $2 Preceeding chracter\r\n      '('                                                          + // $3 URL\r\n        '(https?:\\\\/\\\\/)?'                                         + // $4 Protocol (optional)\r\n        '(#{validDomain})'                                         + // $5 Domain(s)\r\n        '(?::(#{validPortNumber}))?'                               + // $6 Port number (optional)\r\n        '(\\\\/#{validUrlPath}*)?'                                   + // $7 URL Path\r\n        '(\\\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?'  + // $8 Query String\r\n      ')'                                                          +\r\n    ')'\r\n  , 'gi');\r\n\r\n  twttr.txt.regexen.validTcoUrl = /^https?:\\/\\/t\\.co\\/[a-z0-9]+/i;\r\n\r\n  // cashtag related regex\r\n  twttr.txt.regexen.cashtag = /[a-z]{1,6}(?:[._][a-z]{1,2})?/i;\r\n  twttr.txt.regexen.validCashtag = regexSupplant('(^|#{spaces})(\\\\$)(#{cashtag})(?=$|\\\\s|[#{punct}])', 'gi');\r\n\r\n  // These URL validation pattern strings are based on the ABNF from RFC 3986\r\n  twttr.txt.regexen.validateUrlUnreserved = /[a-z0-9\\-._~]/i;\r\n  twttr.txt.regexen.validateUrlPctEncoded = /(?:%[0-9a-f]{2})/i;\r\n  twttr.txt.regexen.validateUrlSubDelims = /[!$&'()*+,;=]/i;\r\n  twttr.txt.regexen.validateUrlPchar = regexSupplant('(?:' +\r\n    '#{validateUrlUnreserved}|' +\r\n    '#{validateUrlPctEncoded}|' +\r\n    '#{validateUrlSubDelims}|' +\r\n    '[:|@]' +\r\n  ')', 'i');\r\n\r\n  twttr.txt.regexen.validateUrlScheme = /(?:[a-z][a-z0-9+\\-.]*)/i;\r\n  twttr.txt.regexen.validateUrlUserinfo = regexSupplant('(?:' +\r\n    '#{validateUrlUnreserved}|' +\r\n    '#{validateUrlPctEncoded}|' +\r\n    '#{validateUrlSubDelims}|' +\r\n    ':' +\r\n  ')*', 'i');\r\n\r\n  twttr.txt.regexen.validateUrlDecOctet = /(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i;\r\n  twttr.txt.regexen.validateUrlIpv4 = regexSupplant(/(?:#{validateUrlDecOctet}(?:\\.#{validateUrlDecOctet}){3})/i);\r\n\r\n  // Punting on real IPv6 validation for now\r\n  twttr.txt.regexen.validateUrlIpv6 = /(?:\\[[a-f0-9:\\.]+\\])/i;\r\n\r\n  // Also punting on IPvFuture for now\r\n  twttr.txt.regexen.validateUrlIp = regexSupplant('(?:' +\r\n    '#{validateUrlIpv4}|' +\r\n    '#{validateUrlIpv6}' +\r\n  ')', 'i');\r\n\r\n  // This is more strict than the rfc specifies\r\n  twttr.txt.regexen.validateUrlSubDomainSegment = /(?:[a-z0-9](?:[a-z0-9_\\-]*[a-z0-9])?)/i;\r\n  twttr.txt.regexen.validateUrlDomainSegment = /(?:[a-z0-9](?:[a-z0-9\\-]*[a-z0-9])?)/i;\r\n  twttr.txt.regexen.validateUrlDomainTld = /(?:[a-z](?:[a-z0-9\\-]*[a-z0-9])?)/i;\r\n  twttr.txt.regexen.validateUrlDomain = regexSupplant(/(?:(?:#{validateUrlSubDomainSegment]}\\.)*(?:#{validateUrlDomainSegment]}\\.)#{validateUrlDomainTld})/i);\r\n\r\n  twttr.txt.regexen.validateUrlHost = regexSupplant('(?:' +\r\n    '#{validateUrlIp}|' +\r\n    '#{validateUrlDomain}' +\r\n  ')', 'i');\r\n\r\n  // Unencoded internationalized domains - this doesn't check for invalid UTF-8 sequences\r\n  twttr.txt.regexen.validateUrlUnicodeSubDomainSegment = /(?:(?:[a-z0-9]|[^\\u0000-\\u007f])(?:(?:[a-z0-9_\\-]|[^\\u0000-\\u007f])*(?:[a-z0-9]|[^\\u0000-\\u007f]))?)/i;\r\n  twttr.txt.regexen.validateUrlUnicodeDomainSegment = /(?:(?:[a-z0-9]|[^\\u0000-\\u007f])(?:(?:[a-z0-9\\-]|[^\\u0000-\\u007f])*(?:[a-z0-9]|[^\\u0000-\\u007f]))?)/i;\r\n  twttr.txt.regexen.validateUrlUnicodeDomainTld = /(?:(?:[a-z]|[^\\u0000-\\u007f])(?:(?:[a-z0-9\\-]|[^\\u0000-\\u007f])*(?:[a-z0-9]|[^\\u0000-\\u007f]))?)/i;\r\n  twttr.txt.regexen.validateUrlUnicodeDomain = regexSupplant(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\\.)*(?:#{validateUrlUnicodeDomainSegment}\\.)#{validateUrlUnicodeDomainTld})/i);\r\n\r\n  twttr.txt.regexen.validateUrlUnicodeHost = regexSupplant('(?:' +\r\n    '#{validateUrlIp}|' +\r\n    '#{validateUrlUnicodeDomain}' +\r\n  ')', 'i');\r\n\r\n  twttr.txt.regexen.validateUrlPort = /[0-9]{1,5}/;\r\n\r\n  twttr.txt.regexen.validateUrlUnicodeAuthority = regexSupplant(\r\n    '(?:(#{validateUrlUserinfo})@)?'  + // $1 userinfo\r\n    '(#{validateUrlUnicodeHost})'     + // $2 host\r\n    '(?::(#{validateUrlPort}))?'        //$3 port\r\n  , \"i\");\r\n\r\n  twttr.txt.regexen.validateUrlAuthority = regexSupplant(\r\n    '(?:(#{validateUrlUserinfo})@)?' + // $1 userinfo\r\n    '(#{validateUrlHost})'           + // $2 host\r\n    '(?::(#{validateUrlPort}))?'       // $3 port\r\n  , \"i\");\r\n\r\n  twttr.txt.regexen.validateUrlPath = regexSupplant(/(\\/#{validateUrlPchar}*)*/i);\r\n  twttr.txt.regexen.validateUrlQuery = regexSupplant(/(#{validateUrlPchar}|\\/|\\?)*/i);\r\n  twttr.txt.regexen.validateUrlFragment = regexSupplant(/(#{validateUrlPchar}|\\/|\\?)*/i);\r\n\r\n  // Modified version of RFC 3986 Appendix B\r\n  twttr.txt.regexen.validateUrlUnencoded = regexSupplant(\r\n    '^'                               + // Full URL\r\n    '(?:'                             +\r\n      '([^:/?#]+):\\\\/\\\\/'             + // $1 Scheme\r\n    ')?'                              +\r\n    '([^/?#]*)'                       + // $2 Authority\r\n    '([^?#]*)'                        + // $3 Path\r\n    '(?:'                             +\r\n      '\\\\?([^#]*)'                    + // $4 Query\r\n    ')?'                              +\r\n    '(?:'                             +\r\n      '#(.*)'                         + // $5 Fragment\r\n    ')?$'\r\n  , \"i\");\r\n\r\n\r\n  // Default CSS class for auto-linked lists (along with the url class)\r\n  var DEFAULT_LIST_CLASS = \"tweet-url list-slug\";\r\n  // Default CSS class for auto-linked usernames (along with the url class)\r\n  var DEFAULT_USERNAME_CLASS = \"tweet-url username\";\r\n  // Default CSS class for auto-linked hashtags (along with the url class)\r\n  var DEFAULT_HASHTAG_CLASS = \"tweet-url hashtag\";\r\n  // Default CSS class for auto-linked cashtags (along with the url class)\r\n  var DEFAULT_CASHTAG_CLASS = \"tweet-url cashtag\";\r\n  // Options which should not be passed as HTML attributes\r\n  var OPTIONS_NOT_ATTRIBUTES = {'urlClass':true, 'listClass':true, 'usernameClass':true, 'hashtagClass':true, 'cashtagClass':true,\r\n                            'usernameUrlBase':true, 'listUrlBase':true, 'hashtagUrlBase':true, 'cashtagUrlBase':true,\r\n                            'usernameUrlBlock':true, 'listUrlBlock':true, 'hashtagUrlBlock':true, 'linkUrlBlock':true,\r\n                            'usernameIncludeSymbol':true, 'suppressLists':true, 'suppressNoFollow':true,\r\n                            'suppressDataScreenName':true, 'urlEntities':true, 'symbolTag':true, 'textWithSymbolTag':true, 'urlTarget':true,\r\n                            'invisibleTagAttrs':true, 'linkAttributeBlock':true, 'linkTextBlock': true\r\n                            };\r\n  var BOOLEAN_ATTRIBUTES = {'disabled':true, 'readonly':true, 'multiple':true, 'checked':true};\r\n\r\n  // Simple object cloning function for simple objects\r\n  function clone(o) {\r\n    var r = {};\r\n    for (var k in o) {\r\n      if (o.hasOwnProperty(k)) {\r\n        r[k] = o[k];\r\n      }\r\n    }\r\n\r\n    return r;\r\n  }\r\n\r\n  twttr.txt.tagAttrs = function(attributes) {\r\n    var htmlAttrs = \"\";\r\n    for (var k in attributes) {\r\n      var v = attributes[k];\r\n      if (BOOLEAN_ATTRIBUTES[k]) {\r\n        v = v ? k : null;\r\n      }\r\n      if (v == null) continue;\r\n      htmlAttrs += \" \" + twttr.txt.htmlEscape(k) + \"=\\\"\" + twttr.txt.htmlEscape(v.toString()) + \"\\\"\";\r\n    }\r\n    return htmlAttrs;\r\n  };\r\n\r\n  twttr.txt.linkToText = function(entity, text, attributes, options) {\r\n    if (!options.suppressNoFollow) {\r\n      attributes.rel = \"nofollow\";\r\n    }\r\n    // if linkAttributeBlock is specified, call it to modify the attributes\r\n    if (options.linkAttributeBlock) {\r\n      options.linkAttributeBlock(entity, attributes);\r\n    }\r\n    // if linkTextBlock is specified, call it to get a new/modified link text\r\n    if (options.linkTextBlock) {\r\n      text = options.linkTextBlock(entity, text);\r\n    }\r\n    var d = {\r\n      text: text,\r\n      attr: twttr.txt.tagAttrs(attributes)\r\n    };\r\n    return stringSupplant(\"<a#{attr}>#{text}</a>\", d);\r\n  };\r\n\r\n  twttr.txt.linkToTextWithSymbol = function(entity, symbol, text, attributes, options) {\r\n    var taggedSymbol = options.symbolTag ? \"<\" + options.symbolTag + \">\" + symbol + \"</\"+ options.symbolTag + \">\" : symbol;\r\n    text = twttr.txt.htmlEscape(text);\r\n    var taggedText = options.textWithSymbolTag ? \"<\" + options.textWithSymbolTag + \">\" + text + \"</\"+ options.textWithSymbolTag + \">\" : text;\r\n\r\n    if (options.usernameIncludeSymbol || !symbol.match(twttr.txt.regexen.atSigns)) {\r\n      return twttr.txt.linkToText(entity, taggedSymbol + taggedText, attributes, options);\r\n    } else {\r\n      return taggedSymbol + twttr.txt.linkToText(entity, taggedText, attributes, options);\r\n    }\r\n  };\r\n\r\n  twttr.txt.linkToHashtag = function(entity, text, options) {\r\n    var hash = text.substring(entity.indices[0], entity.indices[0] + 1);\r\n    var hashtag = twttr.txt.htmlEscape(entity.hashtag);\r\n    var attrs = clone(options.htmlAttrs || {});\r\n    attrs.href = options.hashtagUrlBase + hashtag;\r\n    attrs.title = \"#\" + hashtag;\r\n    attrs[\"class\"] = options.hashtagClass;\r\n\r\n    return twttr.txt.linkToTextWithSymbol(entity, hash, hashtag, attrs, options);\r\n  };\r\n\r\n  twttr.txt.linkToCashtag = function(entity, text, options) {\r\n    var cashtag = twttr.txt.htmlEscape(entity.cashtag);\r\n    var attrs = clone(options.htmlAttrs || {});\r\n    attrs.href = options.cashtagUrlBase + cashtag;\r\n    attrs.title = \"$\" + cashtag;\r\n    attrs[\"class\"] =  options.cashtagClass;\r\n\r\n    return twttr.txt.linkToTextWithSymbol(entity, \"$\", cashtag, attrs, options);\r\n  };\r\n\r\n  twttr.txt.linkToMentionAndList = function(entity, text, options) {\r\n    var at = text.substring(entity.indices[0], entity.indices[0] + 1);\r\n    var user = twttr.txt.htmlEscape(entity.screenName);\r\n    var slashListname = twttr.txt.htmlEscape(entity.listSlug);\r\n    var isList = entity.listSlug && !options.suppressLists;\r\n    var attrs = clone(options.htmlAttrs || {});\r\n    attrs[\"class\"] = (isList ? options.listClass : options.usernameClass);\r\n    attrs.href = isList ? options.listUrlBase + user + slashListname : options.usernameUrlBase + user;\r\n    if (!isList && !options.suppressDataScreenName) {\r\n      attrs['data-screen-name'] = user;\r\n    }\r\n\r\n    return twttr.txt.linkToTextWithSymbol(entity, at, isList ? user + slashListname : user, attrs, options);\r\n  };\r\n\r\n  twttr.txt.linkToUrl = function(entity, text, options) {\r\n    var url = entity.url;\r\n    var displayUrl = url;\r\n    var linkText = twttr.txt.htmlEscape(displayUrl);\r\n\r\n    // If the caller passed a urlEntities object (provided by a Twitter API\r\n    // response with include_entities=true), we use that to render the display_url\r\n    // for each URL instead of it's underlying t.co URL.\r\n    var urlEntity = (options.urlEntities && options.urlEntities[url]) || entity;\r\n    if (urlEntity.display_url) {\r\n      linkText = twttr.txt.linkTextWithEntity(urlEntity, options);\r\n    }\r\n\r\n    var attrs = clone(options.htmlAttrs || {});\r\n    attrs.href = url;\r\n\r\n    // set class only if urlClass is specified.\r\n    if (options.urlClass) {\r\n      attrs[\"class\"] = options.urlClass;\r\n    }\r\n\r\n    // set target only if urlTarget is specified.\r\n    if (options.urlTarget) {\r\n      attrs.target = options.urlTarget;\r\n    }\r\n\r\n    if (!options.title && urlEntity.display_url) {\r\n      attrs.title = urlEntity.expanded_url;\r\n    }\r\n\r\n    return twttr.txt.linkToText(entity, linkText, attrs, options);\r\n  };\r\n\r\n  twttr.txt.linkTextWithEntity = function (entity, options) {\r\n    var displayUrl = entity.display_url;\r\n    var expandedUrl = entity.expanded_url;\r\n\r\n    // Goal: If a user copies and pastes a tweet containing t.co'ed link, the resulting paste\r\n    // should contain the full original URL (expanded_url), not the display URL.\r\n    //\r\n    // Method: Whenever possible, we actually emit HTML that contains expanded_url, and use\r\n    // font-size:0 to hide those parts that should not be displayed (because they are not part of display_url).\r\n    // Elements with font-size:0 get copied even though they are not visible.\r\n    // Note that display:none doesn't work here. Elements with display:none don't get copied.\r\n    //\r\n    // Additionally, we want to *display* ellipses, but we don't want them copied.  To make this happen we\r\n    // wrap the ellipses in a tco-ellipsis class and provide an onCopy handler that sets display:none on\r\n    // everything with the tco-ellipsis class.\r\n    //\r\n    // Exception: pic.twitter.com images, for which expandedUrl = \"https://twitter.com/#!/username/status/1234/photo/1\r\n    // For those URLs, display_url is not a substring of expanded_url, so we don't do anything special to render the elided parts.\r\n    // For a pic.twitter.com URL, the only elided part will be the \"https://\", so this is fine.\r\n\r\n    var displayUrlSansEllipses = displayUrl.replace(/‚Ä¶/g, \"\"); // We have to disregard ellipses for matching\r\n    // Note: we currently only support eliding parts of the URL at the beginning or the end.\r\n    // Eventually we may want to elide parts of the URL in the *middle*.  If so, this code will\r\n    // become more complicated.  We will probably want to create a regexp out of display URL,\r\n    // replacing every ellipsis with a \".*\".\r\n    if (expandedUrl.indexOf(displayUrlSansEllipses) != -1) {\r\n      var displayUrlIndex = expandedUrl.indexOf(displayUrlSansEllipses);\r\n      var v = {\r\n        displayUrlSansEllipses: displayUrlSansEllipses,\r\n        // Portion of expandedUrl that precedes the displayUrl substring\r\n        beforeDisplayUrl: expandedUrl.substr(0, displayUrlIndex),\r\n        // Portion of expandedUrl that comes after displayUrl\r\n        afterDisplayUrl: expandedUrl.substr(displayUrlIndex + displayUrlSansEllipses.length),\r\n        precedingEllipsis: displayUrl.match(/^‚Ä¶/) ? \"‚Ä¶\" : \"\",\r\n        followingEllipsis: displayUrl.match(/‚Ä¶$/) ? \"‚Ä¶\" : \"\"\r\n      };\r\n      for (var k in v) {\r\n        if (v.hasOwnProperty(k)) {\r\n          v[k] = twttr.txt.htmlEscape(v[k]);\r\n        }\r\n      }\r\n      // As an example: The user tweets \"hi http://longdomainname.com/foo\"\r\n      // This gets shortened to \"hi http://t.co/xyzabc\", with display_url = \"‚Ä¶nname.com/foo\"\r\n      // This will get rendered as:\r\n      // <span class='tco-ellipsis'> <!-- This stuff should get displayed but not copied -->\r\n      //   ‚Ä¶\r\n      //   <!-- There's a chance the onCopy event handler might not fire. In case that happens,\r\n      //        we include an &nbsp; here so that the ‚Ä¶ doesn't bump up against the URL and ruin it.\r\n      //        The &nbsp; is inside the tco-ellipsis span so that when the onCopy handler *does*\r\n      //        fire, it doesn't get copied.  Otherwise the copied text would have two spaces in a row,\r\n      //        e.g. \"hi  http://longdomainname.com/foo\".\r\n      //   <span style='font-size:0'>&nbsp;</span>\r\n      // </span>\r\n      // <span style='font-size:0'>  <!-- This stuff should get copied but not displayed -->\r\n      //   http://longdomai\r\n      // </span>\r\n      // <span class='js-display-url'> <!-- This stuff should get displayed *and* copied -->\r\n      //   nname.com/foo\r\n      // </span>\r\n      // <span class='tco-ellipsis'> <!-- This stuff should get displayed but not copied -->\r\n      //   <span style='font-size:0'>&nbsp;</span>\r\n      //   ‚Ä¶\r\n      // </span>\r\n      v['invisible'] = options.invisibleTagAttrs;\r\n      return stringSupplant(\"<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>\", v);\r\n    }\r\n    return displayUrl;\r\n  };\r\n\r\n  twttr.txt.autoLinkEntities = function(text, entities, options) {\r\n    options = clone(options || {});\r\n\r\n    options.hashtagClass = options.hashtagClass || DEFAULT_HASHTAG_CLASS;\r\n    options.hashtagUrlBase = options.hashtagUrlBase || \"https://twitter.com/#!/search?q=%23\";\r\n    options.cashtagClass = options.cashtagClass || DEFAULT_CASHTAG_CLASS;\r\n    options.cashtagUrlBase = options.cashtagUrlBase || \"https://twitter.com/#!/search?q=%24\";\r\n    options.listClass = options.listClass || DEFAULT_LIST_CLASS;\r\n    options.usernameClass = options.usernameClass || DEFAULT_USERNAME_CLASS;\r\n    options.usernameUrlBase = options.usernameUrlBase || \"https://twitter.com/\";\r\n    options.listUrlBase = options.listUrlBase || \"https://twitter.com/\";\r\n    options.htmlAttrs = twttr.txt.extractHtmlAttrsFromOptions(options);\r\n    options.invisibleTagAttrs = options.invisibleTagAttrs || \"style='position:absolute;left:-9999px;'\";\r\n\r\n    // remap url entities to hash\r\n    var urlEntities, i, len;\r\n    if(options.urlEntities) {\r\n      urlEntities = {};\r\n      for(i = 0, len = options.urlEntities.length; i < len; i++) {\r\n        urlEntities[options.urlEntities[i].url] = options.urlEntities[i];\r\n      }\r\n      options.urlEntities = urlEntities;\r\n    }\r\n\r\n    var result = \"\";\r\n    var beginIndex = 0;\r\n\r\n    // sort entities by start index\r\n    entities.sort(function(a,b){ return a.indices[0] - b.indices[0]; });\r\n\r\n    for (var i = 0; i < entities.length; i++) {\r\n      var entity = entities[i];\r\n      result += text.substring(beginIndex, entity.indices[0]);\r\n\r\n      if (entity.url) {\r\n        result += twttr.txt.linkToUrl(entity, text, options);\r\n      } else if (entity.hashtag) {\r\n        result += twttr.txt.linkToHashtag(entity, text, options);\r\n      } else if (entity.screenName) {\r\n        result += twttr.txt.linkToMentionAndList(entity, text, options);\r\n      } else if (entity.cashtag) {\r\n        result += twttr.txt.linkToCashtag(entity, text, options);\r\n      }\r\n      beginIndex = entity.indices[1];\r\n    }\r\n    result += text.substring(beginIndex, text.length);\r\n    return result;\r\n  };\r\n\r\n  twttr.txt.autoLinkWithJSON = function(text, json, options) {\r\n    // concatenate all entities\r\n    var entities = [];\r\n    for (var key in json) {\r\n      entities = entities.concat(json[key]);\r\n    }\r\n    // map JSON entity to twitter-text entity\r\n    for (var i = 0; i < entities.length; i++) {\r\n      entity = entities[i];\r\n      if (entity.screen_name) {\r\n        // this is @mention\r\n        entity.screenName = entity.screen_name;\r\n      } else if (entity.text) {\r\n        // this is #hashtag\r\n        entity.hashtag = entity.text;\r\n      }\r\n    }\r\n    // modify indices to UTF-16\r\n    twttr.txt.modifyIndicesFromUnicodeToUTF16(text, entities);\r\n\r\n    return twttr.txt.autoLinkEntities(text, entities, options);\r\n  };\r\n\r\n  twttr.txt.extractHtmlAttrsFromOptions = function(options) {\r\n    var htmlAttrs = {};\r\n    for (var k in options) {\r\n      var v = options[k];\r\n      if (OPTIONS_NOT_ATTRIBUTES[k]) continue;\r\n      if (BOOLEAN_ATTRIBUTES[k]) {\r\n        v = v ? k : null;\r\n      }\r\n      if (v == null) continue;\r\n      htmlAttrs[k] = v;\r\n    }\r\n    return htmlAttrs;\r\n  };\r\n\r\n  twttr.txt.autoLink = function(text, options) {\r\n    var entities = twttr.txt.extractEntitiesWithIndices(text, {extractUrlWithoutProtocol: false});\r\n    return twttr.txt.autoLinkEntities(text, entities, options);\r\n  };\r\n\r\n  twttr.txt.autoLinkUsernamesOrLists = function(text, options) {\r\n    var entities = twttr.txt.extractMentionsOrListsWithIndices(text);\r\n    return twttr.txt.autoLinkEntities(text, entities, options);\r\n  };\r\n\r\n  twttr.txt.autoLinkHashtags = function(text, options) {\r\n    var entities = twttr.txt.extractHashtagsWithIndices(text);\r\n    return twttr.txt.autoLinkEntities(text, entities, options);\r\n  };\r\n\r\n  twttr.txt.autoLinkCashtags = function(text, options) {\r\n    var entities = twttr.txt.extractCashtagsWithIndices(text);\r\n    return twttr.txt.autoLinkEntities(text, entities, options);\r\n  };\r\n\r\n  twttr.txt.autoLinkUrlsCustom = function(text, options) {\r\n    var entities = twttr.txt.extractUrlsWithIndices(text, {extractUrlWithoutProtocol: false});\r\n    return twttr.txt.autoLinkEntities(text, entities, options);\r\n  };\r\n\r\n  twttr.txt.removeOverlappingEntities = function(entities) {\r\n    entities.sort(function(a,b){ return a.indices[0] - b.indices[0]; });\r\n\r\n    var prev = entities[0];\r\n    for (var i = 1; i < entities.length; i++) {\r\n      if (prev.indices[1] > entities[i].indices[0]) {\r\n        entities.splice(i, 1);\r\n        i--;\r\n      } else {\r\n        prev = entities[i];\r\n      }\r\n    }\r\n  };\r\n\r\n  twttr.txt.extractEntitiesWithIndices = function(text, options) {\r\n    var entities = twttr.txt.extractUrlsWithIndices(text, options)\r\n                    .concat(twttr.txt.extractMentionsOrListsWithIndices(text))\r\n                    .concat(twttr.txt.extractHashtagsWithIndices(text, {checkUrlOverlap: false}))\r\n                    .concat(twttr.txt.extractCashtagsWithIndices(text));\r\n\r\n    if (entities.length == 0) {\r\n      return [];\r\n    }\r\n\r\n    twttr.txt.removeOverlappingEntities(entities);\r\n    return entities;\r\n  };\r\n\r\n  twttr.txt.extractMentions = function(text) {\r\n    var screenNamesOnly = [],\r\n        screenNamesWithIndices = twttr.txt.extractMentionsWithIndices(text);\r\n\r\n    for (var i = 0; i < screenNamesWithIndices.length; i++) {\r\n      var screenName = screenNamesWithIndices[i].screenName;\r\n      screenNamesOnly.push(screenName);\r\n    }\r\n\r\n    return screenNamesOnly;\r\n  };\r\n\r\n  twttr.txt.extractMentionsWithIndices = function(text) {\r\n    var mentions = [];\r\n    var mentionsOrLists = twttr.txt.extractMentionsOrListsWithIndices(text);\r\n\r\n    for (var i = 0 ; i < mentionsOrLists.length; i++) {\r\n      mentionOrList = mentionsOrLists[i];\r\n      if (mentionOrList.listSlug == '') {\r\n        mentions.push({\r\n          screenName: mentionOrList.screenName,\r\n          indices: mentionOrList.indices\r\n        });\r\n      }\r\n    }\r\n\r\n    return mentions;\r\n  };\r\n\r\n  /**\r\n   * Extract list or user mentions.\r\n   * (Presence of listSlug indicates a list)\r\n   */\r\n  twttr.txt.extractMentionsOrListsWithIndices = function(text) {\r\n    if (!text || !text.match(twttr.txt.regexen.atSigns)) {\r\n      return [];\r\n    }\r\n\r\n    var possibleNames = [];\r\n\r\n    text.replace(twttr.txt.regexen.validMentionOrList, function(match, before, atSign, screenName, slashListname, offset, chunk) {\r\n      var after = chunk.slice(offset + match.length);\r\n      if (!after.match(twttr.txt.regexen.endMentionMatch)) {\r\n        slashListname = slashListname || '';\r\n        var startPosition = offset + before.length;\r\n        var endPosition = startPosition + screenName.length + slashListname.length + 1;\r\n        possibleNames.push({\r\n          screenName: screenName,\r\n          listSlug: slashListname,\r\n          indices: [startPosition, endPosition]\r\n        });\r\n      }\r\n    });\r\n\r\n    return possibleNames;\r\n  };\r\n\r\n\r\n  twttr.txt.extractReplies = function(text) {\r\n    if (!text) {\r\n      return null;\r\n    }\r\n\r\n    var possibleScreenName = text.match(twttr.txt.regexen.validReply);\r\n    if (!possibleScreenName ||\r\n        RegExp.rightContext.match(twttr.txt.regexen.endMentionMatch)) {\r\n      return null;\r\n    }\r\n\r\n    return possibleScreenName[1];\r\n  };\r\n\r\n  twttr.txt.extractUrls = function(text, options) {\r\n    var urlsOnly = [],\r\n        urlsWithIndices = twttr.txt.extractUrlsWithIndices(text, options);\r\n\r\n    for (var i = 0; i < urlsWithIndices.length; i++) {\r\n      urlsOnly.push(urlsWithIndices[i].url);\r\n    }\r\n\r\n    return urlsOnly;\r\n  };\r\n\r\n  twttr.txt.extractUrlsWithIndices = function(text, options) {\r\n    if (!options) {\r\n      options = {extractUrlsWithoutProtocol: true};\r\n    }\r\n\r\n    if (!text || (options.extractUrlsWithoutProtocol ? !text.match(/\\./) : !text.match(/:/))) {\r\n      return [];\r\n    }\r\n\r\n    var urls = [];\r\n\r\n    while (twttr.txt.regexen.extractUrl.exec(text)) {\r\n      var before = RegExp.$2, url = RegExp.$3, protocol = RegExp.$4, domain = RegExp.$5, path = RegExp.$7;\r\n      var endPosition = twttr.txt.regexen.extractUrl.lastIndex,\r\n          startPosition = endPosition - url.length;\r\n\r\n      // if protocol is missing and domain contains non-ASCII characters,\r\n      // extract ASCII-only domains.\r\n      if (!protocol) {\r\n        if (!options.extractUrlsWithoutProtocol\r\n            || before.match(twttr.txt.regexen.invalidUrlWithoutProtocolPrecedingChars)) {\r\n          continue;\r\n        }\r\n        var lastUrl = null,\r\n            lastUrlInvalidMatch = false,\r\n            asciiEndPosition = 0;\r\n        domain.replace(twttr.txt.regexen.validAsciiDomain, function(asciiDomain) {\r\n          var asciiStartPosition = domain.indexOf(asciiDomain, asciiEndPosition);\r\n          asciiEndPosition = asciiStartPosition + asciiDomain.length;\r\n          lastUrl = {\r\n            url: asciiDomain,\r\n            indices: [startPosition + asciiStartPosition, startPosition + asciiEndPosition]\r\n          };\r\n          lastUrlInvalidMatch = asciiDomain.match(twttr.txt.regexen.invalidShortDomain);\r\n          if (!lastUrlInvalidMatch) {\r\n            urls.push(lastUrl);\r\n          }\r\n        });\r\n\r\n        // no ASCII-only domain found. Skip the entire URL.\r\n        if (lastUrl == null) {\r\n          continue;\r\n        }\r\n\r\n        // lastUrl only contains domain. Need to add path and query if they exist.\r\n        if (path) {\r\n          if (lastUrlInvalidMatch) {\r\n            urls.push(lastUrl);\r\n          }\r\n          lastUrl.url = url.replace(domain, lastUrl.url);\r\n          lastUrl.indices[1] = endPosition;\r\n        }\r\n      } else {\r\n        // In the case of t.co URLs, don't allow additional path characters.\r\n        if (url.match(twttr.txt.regexen.validTcoUrl)) {\r\n          url = RegExp.lastMatch;\r\n          endPosition = startPosition + url.length;\r\n        }\r\n        urls.push({\r\n          url: url,\r\n          indices: [startPosition, endPosition]\r\n        });\r\n      }\r\n    }\r\n\r\n    return urls;\r\n  };\r\n\r\n  twttr.txt.extractHashtags = function(text) {\r\n    var hashtagsOnly = [],\r\n        hashtagsWithIndices = twttr.txt.extractHashtagsWithIndices(text);\r\n\r\n    for (var i = 0; i < hashtagsWithIndices.length; i++) {\r\n      hashtagsOnly.push(hashtagsWithIndices[i].hashtag);\r\n    }\r\n\r\n    return hashtagsOnly;\r\n  };\r\n\r\n  twttr.txt.extractHashtagsWithIndices = function(text, options) {\r\n    if (!options) {\r\n      options = {checkUrlOverlap: true};\r\n    }\r\n\r\n    if (!text || !text.match(twttr.txt.regexen.hashSigns)) {\r\n      return [];\r\n    }\r\n\r\n    var tags = [];\r\n\r\n    text.replace(twttr.txt.regexen.validHashtag, function(match, before, hash, hashText, offset, chunk) {\r\n      var after = chunk.slice(offset + match.length);\r\n      if (after.match(twttr.txt.regexen.endHashtagMatch))\r\n        return;\r\n      var startPosition = offset + before.length;\r\n      var endPosition = startPosition + hashText.length + 1;\r\n      tags.push({\r\n        hashtag: hashText,\r\n        indices: [startPosition, endPosition]\r\n      });\r\n    });\r\n\r\n    if (options.checkUrlOverlap) {\r\n      // also extract URL entities\r\n      var urls = twttr.txt.extractUrlsWithIndices(text);\r\n      if (urls.length > 0) {\r\n        var entities = tags.concat(urls);\r\n        // remove overlap\r\n        twttr.txt.removeOverlappingEntities(entities);\r\n        // only push back hashtags\r\n        tags = [];\r\n        for (var i = 0; i < entities.length; i++) {\r\n          if (entities[i].hashtag) {\r\n            tags.push(entities[i]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return tags;\r\n  };\r\n\r\n  twttr.txt.extractCashtags = function(text) {\r\n    var cashtagsOnly = [],\r\n        cashtagsWithIndices = twttr.txt.extractCashtagsWithIndices(text);\r\n\r\n    for (var i = 0; i < cashtagsWithIndices.length; i++) {\r\n      cashtagsOnly.push(cashtagsWithIndices[i].cashtag);\r\n    }\r\n\r\n    return cashtagsOnly;\r\n  };\r\n\r\n  twttr.txt.extractCashtagsWithIndices = function(text) {\r\n    if (!text || text.indexOf(\"$\") == -1) {\r\n      return [];\r\n    }\r\n\r\n    var tags = [];\r\n\r\n    text.replace(twttr.txt.regexen.validCashtag, function(match, before, dollar, cashtag, offset, chunk) {\r\n      var startPosition = offset + before.length;\r\n      var endPosition = startPosition + cashtag.length + 1;\r\n      tags.push({\r\n        cashtag: cashtag,\r\n        indices: [startPosition, endPosition]\r\n      });\r\n    });\r\n\r\n    return tags;\r\n  };\r\n\r\n  twttr.txt.modifyIndicesFromUnicodeToUTF16 = function(text, entities) {\r\n    twttr.txt.convertUnicodeIndices(text, entities, false);\r\n  };\r\n\r\n  twttr.txt.modifyIndicesFromUTF16ToUnicode = function(text, entities) {\r\n    twttr.txt.convertUnicodeIndices(text, entities, true);\r\n  };\r\n\r\n  twttr.txt.convertUnicodeIndices = function(text, entities, indicesInUTF16) {\r\n    if (entities.length == 0) {\r\n      return;\r\n    }\r\n\r\n    var charIndex = 0;\r\n    var codePointIndex = 0;\r\n\r\n    // sort entities by start index\r\n    entities.sort(function(a,b){ return a.indices[0] - b.indices[0]; });\r\n    var entityIndex = 0;\r\n    var entity = entities[0];\r\n\r\n    while (charIndex < text.length) {\r\n      if (entity.indices[0] == (indicesInUTF16 ? charIndex : codePointIndex)) {\r\n        var len = entity.indices[1] - entity.indices[0];\r\n        entity.indices[0] = indicesInUTF16 ? codePointIndex : charIndex;\r\n        entity.indices[1] = entity.indices[0] + len;\r\n\r\n        entityIndex++;\r\n        if (entityIndex == entities.length) {\r\n          // no more entity\r\n          break;\r\n        }\r\n        entity = entities[entityIndex];\r\n      }\r\n\r\n      var c = text.charCodeAt(charIndex);\r\n      if (0xD800 <= c && c <= 0xDBFF && charIndex < text.length - 1) {\r\n        // Found high surrogate char\r\n        c = text.charCodeAt(charIndex + 1);\r\n        if (0xDC00 <= c && c <= 0xDFFF) {\r\n          // Found surrogate pair\r\n          charIndex++;\r\n        }\r\n      }\r\n      codePointIndex++;\r\n      charIndex++;\r\n    }\r\n  };\r\n\r\n  // this essentially does text.split(/<|>/)\r\n  // except that won't work in IE, where empty strings are ommitted\r\n  // so \"<>\".split(/<|>/) => [] in IE, but is [\"\", \"\", \"\"] in all others\r\n  // but \"<<\".split(\"<\") => [\"\", \"\", \"\"]\r\n  twttr.txt.splitTags = function(text) {\r\n    var firstSplits = text.split(\"<\"),\r\n        secondSplits,\r\n        allSplits = [],\r\n        split;\r\n\r\n    for (var i = 0; i < firstSplits.length; i += 1) {\r\n      split = firstSplits[i];\r\n      if (!split) {\r\n        allSplits.push(\"\");\r\n      } else {\r\n        secondSplits = split.split(\">\");\r\n        for (var j = 0; j < secondSplits.length; j += 1) {\r\n          allSplits.push(secondSplits[j]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return allSplits;\r\n  };\r\n\r\n  twttr.txt.hitHighlight = function(text, hits, options) {\r\n    var defaultHighlightTag = \"em\";\r\n\r\n    hits = hits || [];\r\n    options = options || {};\r\n\r\n    if (hits.length === 0) {\r\n      return text;\r\n    }\r\n\r\n    var tagName = options.tag || defaultHighlightTag,\r\n        tags = [\"<\" + tagName + \">\", \"</\" + tagName + \">\"],\r\n        chunks = twttr.txt.splitTags(text),\r\n        i,\r\n        j,\r\n        result = \"\",\r\n        chunkIndex = 0,\r\n        chunk = chunks[0],\r\n        prevChunksLen = 0,\r\n        chunkCursor = 0,\r\n        startInChunk = false,\r\n        chunkChars = chunk,\r\n        flatHits = [],\r\n        index,\r\n        hit,\r\n        tag,\r\n        placed,\r\n        hitSpot;\r\n\r\n    for (i = 0; i < hits.length; i += 1) {\r\n      for (j = 0; j < hits[i].length; j += 1) {\r\n        flatHits.push(hits[i][j]);\r\n      }\r\n    }\r\n\r\n    for (index = 0; index < flatHits.length; index += 1) {\r\n      hit = flatHits[index];\r\n      tag = tags[index % 2];\r\n      placed = false;\r\n\r\n      while (chunk != null && hit >= prevChunksLen + chunk.length) {\r\n        result += chunkChars.slice(chunkCursor);\r\n        if (startInChunk && hit === prevChunksLen + chunkChars.length) {\r\n          result += tag;\r\n          placed = true;\r\n        }\r\n\r\n        if (chunks[chunkIndex + 1]) {\r\n          result += \"<\" + chunks[chunkIndex + 1] + \">\";\r\n        }\r\n\r\n        prevChunksLen += chunkChars.length;\r\n        chunkCursor = 0;\r\n        chunkIndex += 2;\r\n        chunk = chunks[chunkIndex];\r\n        chunkChars = chunk;\r\n        startInChunk = false;\r\n      }\r\n\r\n      if (!placed && chunk != null) {\r\n        hitSpot = hit - prevChunksLen;\r\n        result += chunkChars.slice(chunkCursor, hitSpot) + tag;\r\n        chunkCursor = hitSpot;\r\n        if (index % 2 === 0) {\r\n          startInChunk = true;\r\n        } else {\r\n          startInChunk = false;\r\n        }\r\n      } else if(!placed) {\r\n        placed = true;\r\n        result += tag;\r\n      }\r\n    }\r\n\r\n    if (chunk != null) {\r\n      if (chunkCursor < chunkChars.length) {\r\n        result += chunkChars.slice(chunkCursor);\r\n      }\r\n      for (index = chunkIndex + 1; index < chunks.length; index += 1) {\r\n        result += (index % 2 === 0 ? chunks[index] : \"<\" + chunks[index] + \">\");\r\n      }\r\n    }\r\n\r\n    return result;\r\n  };\r\n  //Start updated for Wouaf IT\r\n  var MAX_LENGTH = 300;\r\n  //End updated for Wouaf IT\r\n  \r\n  // Characters not allowed in Tweets\r\n  var INVALID_CHARACTERS = [\r\n    // BOM\r\n    fromCode(0xFFFE),\r\n    fromCode(0xFEFF),\r\n\r\n    // Special\r\n    fromCode(0xFFFF),\r\n\r\n    // Directional Change\r\n    fromCode(0x202A),\r\n    fromCode(0x202B),\r\n    fromCode(0x202C),\r\n    fromCode(0x202D),\r\n    fromCode(0x202E)\r\n  ];\r\n\r\n  // Returns the length of Tweet text with consideration to t.co URL replacement\r\n  twttr.txt.getTweetLength = function(text, options) {\r\n    if (!options) {\r\n      options = {\r\n          short_url_length: 20,\r\n          short_url_length_https: 21\r\n      };\r\n    }\r\n    var textLength = text.length;\r\n    var urlsWithIndices = twttr.txt.extractUrlsWithIndices(text);\r\n\r\n    for (var i = 0; i < urlsWithIndices.length; i++) {\r\n    \t// Subtract the length of the original URL\r\n      textLength += urlsWithIndices[i].indices[0] - urlsWithIndices[i].indices[1];\r\n\r\n      // Add 21 characters for URL starting with https://\r\n      // Otherwise add 20 characters\r\n      if (urlsWithIndices[i].url.toLowerCase().match(/^https:\\/\\//)) {\r\n         textLength += options.short_url_length_https;\r\n      } else {\r\n        textLength += options.short_url_length;\r\n      }\r\n    }\r\n\r\n    return textLength;\r\n  };\r\n\r\n  // Check the text for any reason that it may not be valid as a Tweet. This is meant as a pre-validation\r\n  // before posting to api.twitter.com. There are several server-side reasons for Tweets to fail but this pre-validation\r\n  // will allow quicker feedback.\r\n  //\r\n  // Returns false if this text is valid. Otherwise one of the following strings will be returned:\r\n  //\r\n  //   \"too_long\": if the text is too long\r\n  //   \"empty\": if the text is nil or empty\r\n  //   \"invalid_characters\": if the text contains non-Unicode or any of the disallowed Unicode characters\r\n  twttr.txt.isInvalidTweet = function(text) {\r\n    if (!text) {\r\n      return \"empty\";\r\n    }\r\n\r\n    // Determine max length independent of URL length\r\n    if (twttr.txt.getTweetLength(text) > MAX_LENGTH) {\r\n      return \"too_long\";\r\n    }\r\n\r\n    for (var i = 0; i < INVALID_CHARACTERS.length; i++) {\r\n      if (text.indexOf(INVALID_CHARACTERS[i]) >= 0) {\r\n        return \"invalid_characters\";\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  twttr.txt.isValidTweetText = function(text) {\r\n    return !twttr.txt.isInvalidTweet(text);\r\n  };\r\n\r\n  twttr.txt.isValidUsername = function(username) {\r\n    if (!username) {\r\n      return false;\r\n    }\r\n\r\n    var extracted = twttr.txt.extractMentions(username);\r\n\r\n    // Should extract the username minus the @ sign, hence the .slice(1)\r\n    return extracted.length === 1 && extracted[0] === username.slice(1);\r\n  };\r\n\r\n  var VALID_LIST_RE = regexSupplant(/^#{validMentionOrList}$/);\r\n\r\n  twttr.txt.isValidList = function(usernameList) {\r\n    var match = usernameList.match(VALID_LIST_RE);\r\n\r\n    // Must have matched and had nothing before or after\r\n    return !!(match && match[1] == \"\" && match[4]);\r\n  };\r\n\r\n  twttr.txt.isValidHashtag = function(hashtag) {\r\n    if (!hashtag) {\r\n      return false;\r\n    }\r\n\r\n    var extracted = twttr.txt.extractHashtags(hashtag);\r\n\r\n    // Should extract the hashtag minus the # sign, hence the .slice(1)\r\n    return extracted.length === 1 && extracted[0] === hashtag.slice(1);\r\n  };\r\n\r\n  twttr.txt.isValidUrl = function(url, unicodeDomains, requireProtocol) {\r\n    if (unicodeDomains == null) {\r\n      unicodeDomains = true;\r\n    }\r\n\r\n    if (requireProtocol == null) {\r\n      requireProtocol = true;\r\n    }\r\n\r\n    if (!url) {\r\n      return false;\r\n    }\r\n\r\n    var urlParts = url.match(twttr.txt.regexen.validateUrlUnencoded);\r\n\r\n    if (!urlParts || urlParts[0] !== url) {\r\n      return false;\r\n    }\r\n\r\n    var scheme = urlParts[1],\r\n        authority = urlParts[2],\r\n        path = urlParts[3],\r\n        query = urlParts[4],\r\n        fragment = urlParts[5];\r\n\r\n    if (!(\r\n      (!requireProtocol || (isValidMatch(scheme, twttr.txt.regexen.validateUrlScheme) && scheme.match(/^https?$/i))) &&\r\n      isValidMatch(path, twttr.txt.regexen.validateUrlPath) &&\r\n      isValidMatch(query, twttr.txt.regexen.validateUrlQuery, true) &&\r\n      isValidMatch(fragment, twttr.txt.regexen.validateUrlFragment, true)\r\n    )) {\r\n      return false;\r\n    }\r\n\r\n    return (unicodeDomains && isValidMatch(authority, twttr.txt.regexen.validateUrlUnicodeAuthority)) ||\r\n           (!unicodeDomains && isValidMatch(authority, twttr.txt.regexen.validateUrlAuthority));\r\n  };\r\n\r\n  function isValidMatch(string, regex, optional) {\r\n    if (!optional) {\r\n      // RegExp[\"$&\"] is the text of the last match\r\n      // blank strings are ok, but are falsy, so we check stringiness instead of truthiness\r\n      return ((typeof string === \"string\") && string.match(regex) && RegExp[\"$&\"] === string);\r\n    }\r\n\r\n    // RegExp[\"$&\"] is the text of the last match\r\n    return (!string || (string.match(regex) && RegExp[\"$&\"] === string));\r\n  }\r\n\r\n  if (typeof module != 'undefined' && module.exports) {\r\n    module.exports = twttr.txt;\r\n  }\r\n\r\n}());\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../libs/twitter-text.js\n ** module id = 27\n ** module chunks = 0\n **/","module.exports = function () {\r\n\tvar user = require('./singleton/user.js');\r\n\tvar loader = require('./singleton/loader.js');\r\n\tvar xhr;\r\n\t//Google geocode usage limits : https://developers.google.com/maps/articles/geocodestrat#client\r\n\t//==> illimited from client (browser) requests\r\n\tvar GOOGLE_BASE_URL = 'https://maps.googleapis.com/maps/api/geocode/json?sensor=false&address=';\r\n\tvar ENDPOINT \t\t= API_ENDPOINT;\r\n\tif (__DEV__) {\r\n\t\tvar KEY \t\t\t= API_KEY_DEV;\r\n\t} else {\r\n\t\tvar KEY \t\t\t= API_KEY_PROD;\r\n\t}\r\n\t$( document ).ajaxStart(function() {\r\n\t\tif (__DEV__) {\r\n\t\t\tconsole.info('ajax start');\r\n\t\t}\r\n\t\tloader.show();\r\n\t}).ajaxStop(function() {\r\n\t\tif (__DEV__) {\r\n\t\t\tconsole.info('ajax stop');\r\n\t\t}\r\n\t\tloader.hide();\r\n\t});\r\n\t//if needed someday : http://ws.geonames.org/search?q=toulouse&maxRows=5&style=LONG\r\n    //or http://api.geonames.org/postalCodeSearch\r\n    // Better ====>>> http://open.mapquestapi.com/geocoding/v1/address?location=Toulouse&callback=renderGeocode\r\n\t//doc : http://open.mapquestapi.com/geocoding/\r\n\t\r\n\t//OSM Static maps Images : http://wiki.openstreetmap.org/wiki/Static_map_images\r\n\t//see http://wiki.openstreetmap.org/wiki/StaticMap\r\n\t// http://ojw.dev.openstreetmap.org/StaticMap/ => PHP code : https://trac.openstreetmap.org/browser/sites/other/StaticMap\r\n\t// Better ====>>> http://open.mapquestapi.com/staticmap/\r\n\t\r\n\tvar connectionError = function() {\r\n\t\t//check if last alert append in the last 2 seconds\r\n\t\t/*var now = new Date();\r\n\t\tif (Ti.App.Properties.getInt('connectionAlert') > 0) {\r\n\t\t\tif (now.getTime() - Ti.App.Properties.getInt('connectionAlert') > 2000) {\r\n\t\t\t\tvar notification =  require('ui/components/notification');\r\n\t\t\t\tnew notification(L('error_connecting_to_server_verify_that_your_device_is_properly_connected_and_try_again_later'));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tutils.alert(L('error_connecting_to_server_verify_that_your_device_is_properly_connected_and_try_again_later'));\r\n\t\t}\r\n\t\tTi.App.Properties.setInt('connectionAlert', now.getTime());*/\r\n\t\talert('connectionError');\r\n\t}\r\n    var query = function (params) {\r\n\t\tfor (var i in params.data) {\r\n\t\t\tif (params.data[i] === null) {\r\n\t\t\t\tdelete params.data[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar xhr_params = {\r\n\t\t\turl: params.url,\r\n\t\t\ttype: params.method,\r\n\t\t\tdata: params.data,\r\n\t\t\tdataType: 'json',\r\n\t\t\ttimeout: 10000,\r\n\t\t\tcache: false,\r\n\t\t\tsuccess: params.success,\r\n\t\t\terror: function() {\r\n\t\t\t\tconsole.info('error', arguments);\r\n\t\t\t\tparams.error({});//TODO\r\n\t\t\t\t//throw new Exception('Query error on'+ this.endpoint + path);\r\n\t\t\t},\r\n\t\t\tcomplete: function() {\r\n\t\t\t\t//nothing ?\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (params.method == 'DELETE') {\r\n\t\t\t//seems to be a probem with DELETE requests ...\r\n\t\t\txhr_params.type = 'POST';\r\n\t\t\txhr_params.headers['X-HTTP-Method-Override'] = 'DELETE';\r\n\t\t}\r\n\t\txhr = $.ajax(xhr_params);\r\n\t}\r\n\tvar geocode = function(address, callback) {\r\n\t\t$.ajax({\r\n\t\t\turl: GOOGLE_BASE_URL + address,\r\n\t\t\ttype: 'GET',\r\n\t\t\tdata: data,\r\n\t\t\tdone: function(json) {\r\n\t\t\t\tif (json.status != 'OK' || !json.results[0]) {\r\n\t\t\t\t\tcallback(false);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar longitudeDelta = 0.04;\r\n\t\t\t\tvar latitudeDelta = 0.04;\r\n\t\t\t\tif (json.results[0].geometry && json.results[0].geometry.viewport) {\r\n\t\t\t\t\tlatitudeDelta = (json.results[0].geometry.viewport.northeast.lat - json.results[0].geometry.viewport.southwest.lat) / 2;\r\n\t\t\t\t\tlongitudeDelta = (json.results[0].geometry.viewport.northeast.lng - json.results[0].geometry.viewport.southwest.lng) / 2;\r\n\t\t\t\t\tlatitudeDelta = Math.round((latitudeDelta) * 1000000) / 1000000;\r\n\t\t\t\t\tlongitudeDelta = Math.round((longitudeDelta) * 1000000) / 1000000;\r\n\t\t\t\t}\r\n\t\t\t\tcallback(new utils.LatLng(\r\n\t\t\t\t\tjson.results[0].geometry.location.lat,\r\n\t\t\t\t\tjson.results[0].geometry.location.lng\r\n\t\t\t\t), latitudeDelta, longitudeDelta);\r\n\t\t\t},\r\n\t\t\tfail: function() {\r\n\t\t\t\tconnectionError();\r\n\t\t\t\tcallback(false);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tvar self = {\r\n\t\tconnectionError: connectionError,\r\n\t\tposts: function(params, callback) {\r\n\t\t\tvar searchId = params.searchId;\r\n\t\t\tvar q = '?key=' + KEY;\r\n\t\t\tfor (var i in params) {\r\n\t\t\t\tvar param = params[i];\r\n\t\t\t\tif (i == 'type' || i == 'searchId' || i == 'source' || !param) { //remove event or empty params\r\n\t\t\t\t    continue;\r\n\t\t\t\t}\r\n                if (i == 'loc') {\r\n                    param = params[i].lat()+','+params[i].lng();\r\n                } else if (i == 'tag') {\r\n                    param = params[i][1];\r\n                } else if (i == 'date' && params[i]) {\r\n\t\t\t\t\tparam = Math.round(params[i].getTime() / 1000);\r\n\t\t\t\t} else if (i == 'cat' && params[i]) {\r\n\t\t\t\t\t//var serverCategories = Ti.App.Properties.getList('categories');\r\n\t\t\t\t\t//param = serverCategories[params[i] - 1]['id'];\r\n\t\t\t\t}\r\n\t\t\t\tq += '&' + i + '=' + param;\r\n\t\t\t}\r\n\t\t\tconsole.info(ENDPOINT + '/wouaf/' + q);\r\n\t\t\tquery({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: \tENDPOINT + '/wouaf/' + q,\r\n\t\t\t\tdata:\tnull,\r\n\t\t\t\tsuccess: function(results) {\r\n\t\t\t\t\tresults.searchId = searchId;\r\n\t\t\t\t\tresults.resultsType = 'wouafit';\r\n\t\t\t\t\tcallback(results);\r\n\t\t\t\t},\r\n\t\t\t\terror:\tnull\r\n\t\t\t});\r\n\t\t\t/*\r\n\t\t\tif (Ti.Platform.osname != 'mobileweb' && Ti.App.Properties.getString('eventfulKey') && !!Ti.App.Properties.getBool('eventfulSearch')) {\r\n\t\t\t\t//duplicate search on eventful\t\r\n\t\t\t\tvar q = 'app_key='+ Ti.App.Properties.getString('eventfulKey') +'&units=km&page_size=100&mature=normal&include=categories&sort_order=popularity';\r\n                if (!params.date) {\r\n                    params.date = new Date();\r\n                }\r\n                if (!params.duration) {\r\n                    params.duration = 86400;\r\n                }\r\n                for (var i in params) {\r\n\t\t\t\t\tvar param = params[i];\r\n\t\t\t\t\tif (i == 'type' || i == 'searchId' || i == 'source' || i == 'tag' || i == 'cat' || !param) { //remove event or empty params\r\n\t\t\t\t\t    continue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (i == 'date') {\r\n\t\t\t\t\t\t//start\r\n\t\t\t\t\t\tvar year = param.getFullYear();\r\n\t\t\t\t\t\tvar month = param.getMonth() + 1;\r\n\t\t\t\t\t\tmonth = month < 10 ? '0' + month : month;\r\n\t\t\t\t\t\tvar day = param.getDate();\r\n\t\t\t\t\t\tday = day < 10 ? '0' + day : day;\r\n\t\t\t\t\t\t//end\r\n\t\t\t\t\t    var endDate = new Date();\r\n\t\t\t\t\t    endDate.setTime(param.getTime() + ((params.duration - 86400) * 1000));\r\n\t\t\t\t\t    var endYear = endDate.getFullYear();\r\n                        var endMonth = endDate.getMonth() + 1;\r\n                        endMonth = endMonth < 10 ? '0' + endMonth : endMonth;\r\n                        var endDay = endDate.getDate();\r\n                        endDay = endDay < 10 ? '0' + endDay : endDay;\r\n                        \r\n                        q += '&date=' + year + month + day + '00-' + endYear + endMonth + endDay + '00';\r\n\t\t\t\t\t} else if (i == 'loc') {\r\n\t\t\t\t\t\tq += '&location=' + param;\r\n\t\t\t\t\t} else if (i == 'radius') {\r\n\t\t\t\t\t\tq += '&within=' + param;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.info(utils.EVENTFUL_API_URL + '/events/search?' + q);\r\n\t\t\t\tquery({\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\turl: \tutils.EVENTFUL_API_URL + '/events/search?' + q,\r\n\t\t\t\t\tdata:\tnull,\r\n\t\t\t\t\tsuccess:function(results) {\r\n\t\t\t\t\t\tvar datas = {\r\n\t\t\t\t\t\t\t'count': 0,\r\n\t\t\t\t\t\t\t'results': [],\r\n\t\t\t\t\t\t\t'searchId': searchId,\r\n\t\t\t\t\t\t\t'resultsType': 'eventful'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (results && results.events && results.events.event) {\r\n\t\t\t\t\t\t\tconsole.info('eventful ok : '+results.events.event.length);\r\n\t\t\t\t\t\t\t//reformat datas\r\n\t\t\t\t\t\t\tdatas.count = results.events.event.length;\r\n\t\t\t\t\t\t\tfor (var i = 0, l = datas.count; i < l; i++) {\r\n\t\t\t\t\t\t\t\tvar result = results.events.event[i];\r\n\t\t\t\t\t\t\t\tvar data = {\r\n\t\t\t\t\t\t\t\t\t'id': result.id,\r\n\t\t\t\t\t\t\t\t\t'loc': [result.latitude, result.longitude],\r\n\t\t\t\t\t\t\t\t\t'cat': '',\r\n\t\t\t\t\t\t\t\t\t'text': result.title,\r\n\t\t\t\t\t\t\t\t\t'date': [],\r\n\t\t\t\t\t\t\t\t\t'pics': [],\r\n\t\t\t\t\t\t\t\t\t'tags': [],\r\n\t\t\t\t\t\t\t\t\t'author': ['eventful', (result.owner == 'evdb' ? 'Eventful.com' : result.owner)],\r\n\t\t\t\t\t\t\t\t\t'url': result.url\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t//text\r\n\t\t\t\t\t\t\t\tvar len = data.text.length;\r\n\t\t\t\t\t\t\t\tif (result.description && len < 200) {\r\n\t\t\t\t\t\t\t\t\tvar desc = utils.strip_tags(result.description.replace(/<br\\s*\\/?>/mg, \"\\n\").replace(/\\&#39;/g, \"'\").replace(/\\&quot;/g, '\"'));\r\n\t\t\t\t\t\t\t\t\tif (desc.length + len > 300) {\r\n\t\t\t\t\t\t\t\t\t\tdata.text += '\\n'+ desc.substr(0, (296 - len)) + ' ...';\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tdata.text += '\\n'+ desc;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//categories\r\n\t\t\t\t\t\t\t\tif (result.categories && result.categories.category && result.categories.category.length) {\r\n\t\t\t\t\t\t\t\t\tfor (var j = 0, lc = result.categories.category.length; j < lc; j++) {\r\n\t\t\t\t\t\t\t\t\t\tdata.cat += data.cat ? ' / ' : '';\r\n\t\t\t\t\t\t\t\t\t\tdata.cat += L(result.categories.category[j].id);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if (result.categories && result.categories.category && result.categories.category.id) {\r\n\t\t\t\t\t\t\t\t\tdata.cat = L(result.categories.category.id);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//pics\r\n\t\t\t\t\t\t\t\tif (result.image && result.image.medium) {\r\n\t\t\t\t\t\t\t\t\tdata.pics.push({'p': result.image.medium.url});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//timestamp\r\n\t\t\t\t\t\t\t\tvar date = new Date();\r\n\t\t\t\t\t\t\t\tif (result.created) {\r\n\t\t\t\t\t\t\t\t\tdate.setFullYear(result.created.substr(0,4));\r\n\t\t\t\t\t\t\t\t\tdate.setMonth(result.created.substr(5,2) - 1);\r\n\t\t\t\t\t\t\t\t\tdate.setDate(result.created.substr(8,2));\r\n\t\t\t\t\t\t\t\t\tdate.setHours(result.created.substr(11,2));\r\n\t\t\t\t\t\t\t\t\tdate.setMinutes(result.created.substr(14,2));\r\n\t\t\t\t\t\t\t\t\tdate.setSeconds(result.created.substr(17,2));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdata.ts = {'sec': Math.round(date.getTime() / 1000), 'usec': 0};\r\n\t\t\t\t\t\t\t\t//date start and stop\r\n\t\t\t\t\t\t\t\tvar date = new Date();\r\n\t\t\t\t\t\t\t\tif (result.start_time) {\r\n\t\t\t\t\t\t\t\t\tdate.setFullYear(result.start_time.substr(0,4));\r\n\t\t\t\t\t\t\t\t\tdate.setMonth(result.start_time.substr(5,2) - 1);\r\n\t\t\t\t\t\t\t\t\tdate.setDate(result.start_time.substr(8,2));\r\n\t\t\t\t\t\t\t\t\tdate.setHours(result.start_time.substr(11,2));\r\n\t\t\t\t\t\t\t\t\tdate.setMinutes(result.start_time.substr(14,2));\r\n\t\t\t\t\t\t\t\t\tdate.setSeconds(result.start_time.substr(17,2));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdata.date.push({'sec': Math.round(date.getTime() / 1000), 'usec': 0});\r\n\t\t\t\t\t\t\t\tif (result.stop_time) {\r\n\t\t\t\t\t\t\t\t\tvar date = new Date();\r\n\t\t\t\t\t\t\t\t\tdate.setFullYear(result.stop_time.substr(0,4));\r\n\t\t\t\t\t\t\t\t\tdate.setMonth(result.stop_time.substr(5,2) - 1);\r\n\t\t\t\t\t\t\t\t\tdate.setDate(result.stop_time.substr(8,2));\r\n\t\t\t\t\t\t\t\t\tdate.setHours(result.stop_time.substr(11,2));\r\n\t\t\t\t\t\t\t\t\tdate.setMinutes(result.stop_time.substr(14,2));\r\n\t\t\t\t\t\t\t\t\tdate.setSeconds(result.stop_time.substr(17,2));\r\n\t\t\t\t\t\t\t\t\tdata.date.push({'sec': Math.round(date.getTime() / 1000), 'usec': 0});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tdata.date.push({'sec': Math.round(date.getTime() / 1000) + 86400, 'usec': 0}); //one day\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdatas.results.push(data);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcallback(datas);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror:\tfunction() {\r\n\t\t\t\t\t    //empty function to avoid double connection error alert\r\n\t\t\t\t\t    console.info('eventful error');\r\n                        console.info(JSON.stringify(arguments));\r\n                    }\r\n\t\t\t\t});\r\n\t\t\t}*/\r\n\t\t},\r\n\t\tpost: function(id, callback) {\r\n\t\t\tvar q = id + '?key=' + KEY;\r\n\t\t\tquery({\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\turl: \tENDPOINT + '/wouaf/' + q,\r\n\t\t\t\tdata:\tnull,\r\n\t\t\t\tsuccess:callback,\r\n\t\t\t\terror:\tnull\r\n\t\t\t});\r\n\t\t},\r\n\t\tinit: function(callback) {\r\n\t\t\tquery({\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\turl: \tENDPOINT + '/init/',\r\n\t\t\t\tdata:\t{\r\n\t\t\t\t\tkey: \t\tKEY,\r\n\t\t\t\t\tuid: \t\tuser.get('uid'),\r\n\t\t\t\t    token:      user.get('token'),\r\n                    locale:     LANGUAGE\r\n                },\r\n\t\t\t\tsuccess:callback,\r\n\t\t\t\terror:\tcallback\r\n\t\t\t});\r\n\t\t},\r\n\t\tlogin: function(datas, success, error) {\r\n            query({\r\n                method: 'POST',\r\n                url:    ENDPOINT + '/user/login/',\r\n                data:  {\r\n                    key:        KEY,\r\n                    login:      datas.login,\r\n                    pass:       datas.pass,\r\n                    did:        'web_app'\r\n                },\r\n                success:success,\r\n                error:  error\r\n            });\r\n        },\r\n        fblogin: function(datas, success, error) {\r\n            datas.key = KEY;\r\n            datas.did = 'web_app';\r\n            query({\r\n                method: 'POST',\r\n                url:    ENDPOINT + '/user/fblogin/',\r\n                data:  datas,\r\n                success:success,\r\n                error:  error\r\n            });\r\n        },\r\n        logout: function(callback) {\r\n\t\t\tquery({\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\turl: \tENDPOINT + '/user/logout/',\r\n\t\t\t\tdata:\t{\r\n\t\t\t\t\tkey: \t\tKEY,\r\n\t\t\t\t\tuid: \t\tuser.get('uid'),\r\n\t\t\t\t\ttoken: \t\tTi.App.Properties.getString('token')\r\n\t\t\t\t},\r\n\t\t\t\tsuccess:callback,\r\n\t\t\t\terror:\tcallback\r\n\t\t\t});\r\n\t\t},\r\n\t\tresetPassword: function(email, callback) {\r\n            query({\r\n                method: 'POST',\r\n                url:    ENDPOINT + '/user/resetPassword/',\r\n                data:  {\r\n                    key:        KEY,\r\n                    email:      email\r\n                },\r\n                success:callback,\r\n                error:  callback\r\n            });\r\n        },\r\n\t\tcreateUser: function(datas, success, error) {\r\n\t\t\tdatas.key = KEY;\r\n\t\t\tquery({\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\turl: \tENDPOINT + '/user/',\r\n\t\t\t\tdata:\tdatas,\r\n\t\t\t\tsuccess:success,\r\n\t\t\t\terror:\terror\r\n\t\t\t});\r\n\t\t},\r\n\t\tupdateUser: function(datas, success, error) {\r\n\t\t\tdatas.key = KEY;\r\n\t\t\tdatas.uid = Ti.App.Properties.getString('uid');\r\n\t\t\tdatas.token = Ti.App.Properties.getString('token');\r\n\t\t\tquery({\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\turl: \tENDPOINT + '/user/',\r\n\t\t\t\tdata:\tdatas,\r\n\t\t\t\tsuccess:success,\r\n\t\t\t\terror:\terror\r\n\t\t\t});\r\n\t\t},\r\n\t\tdeleteUser: function(callback) {\r\n            query({\r\n                method: 'DELETE',\r\n                url:    ENDPOINT + '/user/',\r\n                data:  {\r\n                    key:        KEY,\r\n                    uid:        user.get('uid'),\r\n                    token:      Ti.App.Properties.getString('token')\r\n                },\r\n                success:callback,\r\n                error:  callback\r\n            });\r\n        },\r\n        userPosts: function(uid, callback) {\r\n            var q = '?key=' + KEY + '&uid=' + uid;\r\n            query({\r\n                method: 'GET',\r\n                url:    ENDPOINT + '/user/wouaf/' + q,\r\n                success:callback,\r\n                error:  callback\r\n            });\r\n        },\r\n        userFavorites: function(callback) {\r\n            var q = '?key=' + KEY + '&uid=' + Ti.App.Properties.getString('uid') + '&token=' + Ti.App.Properties.getString('token');\r\n            query({\r\n                method: 'GET',\r\n                url:    ENDPOINT + '/user/favorites/' + q,\r\n                success:callback,\r\n                error:  callback\r\n            });\r\n        },\r\n        createPost: function(datas, callback) {\r\n\t\t\tdatas.key = KEY;\r\n\t\t\tdatas.uid = Ti.App.Properties.getString('uid');\r\n\t\t\tdatas.token = Ti.App.Properties.getString('token');\r\n\t\t\tquery({\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\turl: \tENDPOINT + '/wouaf/',\r\n\t\t\t\tdata:\tdatas,\r\n\t\t\t\tsuccess:callback,\r\n\t\t\t\terror:\tcallback\r\n\t\t\t});\r\n\t\t},\r\n\t\taddFavorite: function(id, callback) {\r\n\t\t\tvar datas = {\r\n\t\t\t\tkey: KEY,\r\n\t\t\t\tuid: user.get('uid'),\r\n\t\t\t\ttoken: user.get('token'),\r\n\t\t\t\tid: id\r\n\t\t\t};\r\n\t\t\tquery({\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\turl: \tENDPOINT + '/user/favorite/',\r\n\t\t\t\tdata:\tdatas,\r\n\t\t\t\tsuccess:callback,\r\n\t\t\t\terror:\tcallback\r\n\t\t\t});\r\n\t\t},\r\n\t\tremoveFavorite: function(id, callback) {\r\n\t\t\tvar datas = {\r\n\t\t\t\tkey: KEY,\r\n\t\t\t\tuid: user.get('uid'),\r\n\t\t\t\ttoken: user.get('token'),\r\n\t\t\t\tid: id\r\n\t\t\t};\r\n\t\t\tquery({\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\turl: \tENDPOINT + '/user/favorite/',\r\n\t\t\t\tdata:\tdatas,\r\n\t\t\t\tsuccess:callback,\r\n\t\t\t\terror:\tcallback\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetComments: function(id, callback) {\r\n            var q = '?key=' + KEY + '&id=' + id;\r\n            query({\r\n                method: 'GET',\r\n                url:    ENDPOINT + '/wouaf/comment/' + q,\r\n                data:  null,\r\n                success:callback,\r\n                error:  callback\r\n            });\r\n        },\r\n\t\tcreateComment: function(datas, callback) {\r\n\t\t    datas.key = KEY;\r\n            datas.uid = Ti.App.Properties.getString('uid');\r\n            datas.token = Ti.App.Properties.getString('token');\r\n            query({\r\n                method: 'PUT',\r\n                url:    ENDPOINT + '/wouaf/comment/',\r\n                data:  datas,\r\n                success:callback,\r\n                error:  callback\r\n            });\r\n\t\t},\r\n\t\tdeleteComment: function(id, callback) {\r\n            var datas = {\r\n\t\t\t\tkey: KEY,\r\n\t\t\t\tuid: user.get('uid'),\r\n\t\t\t\ttoken: user.get('token'),\r\n\t\t\t\tid: id\r\n\t\t\t};\r\n            query({\r\n                method: 'DELETE',\r\n                url:    ENDPOINT + '/wouaf/comment/',\r\n                data:  datas,\r\n                success:callback,\r\n                error:  callback\r\n            });\r\n       },\r\n       contact: function(datas, callback) {\r\n            datas.key = KEY;\r\n            datas.uid = Ti.App.Properties.getString('uid');\r\n            datas.token = Ti.App.Properties.getString('token');\r\n            query({\r\n                method: 'POST',\r\n                url:    ENDPOINT + '/user/contact/',\r\n                data:  datas,\r\n                success:callback,\r\n                error:  callback\r\n            });\r\n       },\r\n       deletePost: function(id, callback) {\r\n            var datas = {\r\n                key: KEY,\r\n                uid: user.get('uid'),\r\n                token: user.get('token'),\r\n                id: id\r\n            };\r\n            query({\r\n                method: 'DELETE',\r\n                url:    ENDPOINT + '/wouaf/',\r\n                data:  datas,\r\n                success:callback,\r\n                error:  callback\r\n            });\r\n       },\r\n       reportPost: function(id, callback) {\r\n            var datas = {\r\n                key: KEY,\r\n                uid: user.get('uid'),\r\n                token: user.get('token'),\r\n                id: id\r\n            };\r\n            query({\r\n                method: 'POST',\r\n                url:    ENDPOINT + '/wouaf/abuse/',\r\n                data:  datas,\r\n                success:callback,\r\n                error:  callback\r\n            });\r\n       }\r\n\t}\r\n\treturn self;\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/query.js\n ** module id = 28\n ** module chunks = 0\n **/","module.exports = (function() {\r\n\t// Reference to \"this\" that won't get clobbered by some other \"this\"\r\n\tvar self = {};\r\n\t// Public methods\r\n\tself.init = function () {\r\n\t\t//todo: get current user from cookies if any\r\n\t}\r\n\tself.set = function (key, value) {\r\n\t\tself[key] = value;\r\n\t}\r\n\tself.get = function (key) {\r\n\t\treturn self[key] || null;\r\n\t}\r\n\treturn self;\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/singleton/user.js\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = (function() {\r\n\tvar $ = require('jquery');\r\n\tvar $loader = $('#loader');\r\n\tvar self = {};\r\n\tself.show = function(text, delay) {\r\n\t\t$loader.show();\r\n\t}\r\n\tself.hide = function(text, delay) {\r\n\t\t$loader.hide();\r\n\t}\r\n\treturn self;\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/singleton/loader.js\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = (function() {\r\n\tvar $ = require('jquery');\r\n\tvar $toast = $('#toast > div');\r\n\tvar self = {};\r\n\tself.show = function(text, delay) {\r\n\t\tdelay = delay || 2000;\r\n\t\t$toast.html('<p>'+ text +'</p>').parent().fadeIn().delay(delay).fadeOut();\r\n\t}\r\n\treturn self;\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/singleton/toast.js\n ** module id = 31\n ** module chunks = 0\n **/","module.exports = (function() {\r\n\tvar $ = require('jquery');\r\n\tvar i18n = require('./i18n.js');\r\n\tvar $modal = $('#modalWindow');\r\n\tvar $modalContent = $modal.find('.modal-content');\r\n\tvar self = {};\r\n\t$modal.on('hidden.bs.modal', function (event) {\r\n\t\t$modalContent.html('');\r\n\t});\r\n\tself.show = function(options) {\r\n\t\toption = $.extend({\r\n\t\t\ttitle:\t\t'',\r\n\t\t\ttext:\t\t'',\r\n\t\t\tfooter:\t\t'',\r\n\t\t\topen:\t\tnull,\r\n\t\t\tclose:\t\tnull\r\n\t\t}, options);\r\n\t\tvar content =\r\n\t\t\t'<div class=\"modal-header\">'+\r\n\t\t\t'\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"'+ i18n.t('Close') +'\">'+\r\n\t\t\t'\t\t<span aria-hidden=\"true\">&times;</span>'+\r\n\t\t\t'\t\t<span class=\"sr-only\">'+ i18n.t('Close') +'</span>'+\r\n\t\t\t'\t</button>'+\r\n\t\t\t'\t<h4 class=\"modal-title\" id=\"myModalLabel\">'+ option.title +'</h4>'+\r\n\t\t\t' </div>'+\r\n\t\t\t'<div class=\"modal-body\">'+\r\n\t\t\t\toption.text+\r\n\t\t\t'</div>';\r\n\t\tif (option.footer) {\r\n\t\t\tcontent +=\r\n\t\t\t'<div class=\"modal-footer\">'+\r\n\t\t\toption.footer+\r\n\t\t\t'</div>';\r\n\t\t}\r\n\t\tif (option.open) {\r\n\t\t\t$modal.on('show.bs.modal', function(event) {\r\n\t\t\t\tjQuery.proxy(option.open, this , event)();\r\n\t\t\t\t$(this).off(event);\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (option.close) {\r\n\t\t\t$modal.on('hidden.bs.modal', function(event) {\r\n\t\t\t\tjQuery.proxy(option.close, this , event)();\r\n\t\t\t\t$(this).off(event);\r\n\t\t\t});\r\n\t\t}\r\n\t\t$modalContent.html(content);\r\n\t\t$modal.modal('show');\r\n\t}\r\n\r\n\treturn self;\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./class/singleton/window.js\n ** module id = 32\n ** module chunks = 0\n **/"],"sourceRoot":""}